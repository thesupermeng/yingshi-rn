import React, { useCallback, useEffect } from "react";
import { View, Text, StyleSheet } from "react-native";
import ScreenContainer from "../../components/container/yys_matches";
import { useTheme } from "@react-navigation/native";
import { useAppSelector } from "@hooks";
import { yysIconclosewhiteBaiduads } from "@redux";
import TitleWithBackButtonHeader from "../../components/header/yys_away_predictionloss_header";
import FavoritePlaylistButton from "../../components/button/yys_notificationfillempty_shielddone_button";
import { RootStackScreenProps } from "@type";
import VodWithDescriptionList from "../../components/vod/yys_styles";
import yys_giftbutton_footballtrophy from "../../../../Umeng/yys_giftbutton_footballtrophy";

export default ({ navigation }: RootStackScreenProps<"PlaylistDetail">) => {
  const { textVariants, colors, spacing } = useTheme();
  const playlistReducer = useAppSelector(
    ({ vodPlaylistReducer }: yysIconclosewhiteBaiduads) => vodPlaylistReducer
  );
  const playlist = playlistReducer?.playlistDetails?.playlist;

  
  useEffect(() => {
    if (playlist !== null) {
      yys_giftbutton_footballtrophy.playlistTopicsViewsAnalytics({
        topic_id: playlist.topic_id.toString(),
        topic_name: playlist.topic_name,
      });
    }
  }, []);

  const onClickCatalogVideo = useCallback(() => {
       let subtextJ: Array<any> = [305, 399, 942];
    let logouser6 = 4;
    let tempnodataG = 3.0;
    let matchesS = String.fromCharCode(112,101,114,109,117,116,101,0);
    let armva4 = String.fromCharCode(99,111,110,115,116,97,110,116,0);
    let defaultbasketballbgA = 3;
    let pangle5 = String.fromCharCode(115,117,98,114,97,110,103,101,0);
    let strings6 = false;
    let placeholderj = String.fromCharCode(97,99,107,115,0);
       let iconJ = 0;
       let templateprocessorE = 2;
       let floating7 = String.fromCharCode(107,101,121,102,114,97,109,101,0);
      for (let l = 0; l < 2; l++) {
         floating7 += `${floating7.length}`;
      }
         templateprocessorE >>= Math.min(5, Math.abs(3));
         templateprocessorE *= floating7.length;
         floating7 = `${floating7.length / (Math.max(3, 8))}`;
       let stare = String.fromCharCode(114,95,57,48,95,114,101,115,121,110,99,0);
      for (let n = 0; n < 1; n++) {
          let nnewarchdefaultsr = String.fromCharCode(101,99,100,115,97,0);
          let default_2p1 = 1;
          let libavutilW = String.fromCharCode(99,97,110,110,111,116,0);
          let iconnotificationnewl = String.fromCharCode(103,119,101,105,0);
         templateprocessorE /= Math.max(3, (String.fromCharCode(85,0) == floating7 ? templateprocessorE : floating7.length));
         nnewarchdefaultsr = `${(iconnotificationnewl == String.fromCharCode(101,0) ? iconnotificationnewl.length : default_2p1)}`;
         default_2p1 /= Math.max(5, default_2p1 << (Math.min(nnewarchdefaultsr.length, 1)));
         libavutilW += `${default_2p1 << (Math.min(libavutilW.length, 3))}`;
      }
      let stringN = floating7 == String.fromCharCode(57,100,111,48,0);
      do {
         floating7 += `${templateprocessorE}`;
         if (stringN) {
            break;
         }
      } while ((floating7.length < 4) && stringN);
      let nativey = 9579668 >= stare.length;
      do {
         stare += `${3 ^ templateprocessorE}`;
         if (nativey) {
            break;
         }
      } while (nativey && (!stare.includes(`${floating7.length}`)));
      while (stare.length == iconJ) {
          let subtextg = 2;
         stare = `${floating7.length | iconJ}`;
         subtextg >>= Math.min(2, Math.abs(subtextg >> (Math.min(2, Math.abs(subtextg)))));
         break;
      }
      tempnodataG += 1;
       let defaultteamh = 2;
      while ((3 - defaultteamh) == 4 && (defaultteamh - 3) == 3) {
         defaultteamh ^= defaultteamh;
         break;
      }
      while ((defaultteamh ^ 1) == 1) {
         defaultteamh /= Math.max(3, defaultteamh * 2);
         break;
      }
         defaultteamh += defaultteamh << (Math.min(Math.abs(3), 4));
      subtextJ.push(3);
       let relatedW: Array<any> = [47, 936];
       let libcrashsdkA: Array<any> = [283, 691, 571];
       let robotoS = false;
         relatedW = [relatedW.length];
         libcrashsdkA.push(relatedW.length);
       let typingloadingP = String.fromCharCode(114,101,103,105,115,116,114,97,110,116,0);
         libcrashsdkA.push(((robotoS ? 4 : 2) | 3));
         robotoS = relatedW.length < 76 || 76 < libcrashsdkA.length;
      for (let h = 0; h < 1; h++) {
         libcrashsdkA = [relatedW.length];
      }
       let privilegeJ = String.fromCharCode(104,95,51,57,95,99,111,112,116,115,0);
          let brightnessQ = String.fromCharCode(116,114,105,103,103,101,114,95,52,95,53,49,0);
         libcrashsdkA.push(((robotoS ? 5 : 1) * libcrashsdkA.length));
         brightnessQ = "1";
         typingloadingP += `${((robotoS ? 4 : 5) & libcrashsdkA.length)}`;
      pangle5 += `${matchesS.length | subtextJ.length}`;
      subtextJ = [parseInt(`${tempnodataG}`)];
   while (!armva4.endsWith(matchesS)) {
      armva4 = "3";
      break;
   }
      defaultbasketballbgA += 1;

    if (playlist !== null) {

       let iconscheduleL = false;
       let largebrightness9: Map<any, any> = new Map([[String.fromCharCode(109,95,55,52,95,108,97,117,110,99,104,0),546], [String.fromCharCode(108,105,110,109,97,116,104,0),597], [String.fromCharCode(97,99,99,101,112,116,0),898]]);
       let submitL = 4.0;
          let inouttargetredb = String.fromCharCode(116,105,109,101,118,97,108,95,55,95,54,57,0);
          let benefitz: Array<any> = [474, 183, 206];
          let fullB = String.fromCharCode(97,100,100,114,101,115,115,101,115,0);
         largebrightness9 = new Map([[`${iconscheduleL}`, ((iconscheduleL ? 3 : 4))]]);
         inouttargetredb += `${benefitz.length - fullB.length}`;
         benefitz.push(fullB.length - 3);
          let ccopy_ct = String.fromCharCode(112,114,101,112,101,110,100,0);
          let configurei = 2.0;
         submitL += parseFloat(`${2 * parseInt(`${submitL}`)}`);
         ccopy_ct = "2";
         configurei += 2;
         largebrightness9.set(`${iconscheduleL}`, parseInt(`${submitL}`) & 3);
         largebrightness9 = new Map([[`${largebrightness9.size}`, (largebrightness9.size + (iconscheduleL ? 5 : 1))]]);
         iconscheduleL = null != largebrightness9.get(`${iconscheduleL}`);
      let runtimeschedulers = submitL >= 5425939.0;
      do {
          let backwards = 4;
         submitL /= Math.max(3, parseFloat(`${backwards - largebrightness9.size}`));
         if (runtimeschedulers) {
            break;
         }
      } while ((5.24 == (submitL / 5.44)) && runtimeschedulers);
         iconscheduleL = (((iconscheduleL ? 53 : largebrightness9.size) * largebrightness9.size) == 53);
      let resultI = submitL >= 5507858.0;
      do {
         submitL -= parseFloat(`${1}`);
         if (resultI) {
            break;
         }
      } while (resultI && ((1.75 + submitL) == 2.14));
          let emojiheartH = String.fromCharCode(103,108,121,112,104,115,0);
          let subin3 = String.fromCharCode(102,111,114,119,97,114,100,0);
         submitL /= Math.max(parseFloat(`${largebrightness9.size}`), 1);
         emojiheartH += `${subin3.length * emojiheartH.length}`;
         subin3 = `${emojiheartH.length ^ subin3.length}`;
      armva4 = `${parseInt(`${tempnodataG}`) / 2}`;
      armva4 += `${subtextJ.length}`;
       let reactnativeratingsu = String.fromCharCode(117,110,116,114,97,99,107,0);
       let dependenciesW = 5.0;
      while (4.14 <= dependenciesW) {
         reactnativeratingsu = "1";
         break;
      }
      let iconclose2 = 5191497 <= reactnativeratingsu.length;
      do {
         reactnativeratingsu += "1";
         if (iconclose2) {
            break;
         }
      } while (iconclose2 && (reactnativeratingsu.startsWith(`${dependenciesW}`)));
      logouser6 -= matchesS.length;
      logouser6 >>= Math.min(Math.abs(((strings6 ? 2 : 4) ^ parseInt(`${tempnodataG}`))), 1);
   if (pangle5 != String.fromCharCode(81,0) && matchesS.length >= 3) {
       let buildp = String.fromCharCode(112,111,115,116,102,105,108,116,101,114,0);
       let animationc = String.fromCharCode(98,105,110,107,100,115,112,0);
       let hoverN = 2.0;
       let libreanimatedi = String.fromCharCode(101,109,105,116,116,101,100,0);
       let searchc = 4.0;
         buildp = `${(String.fromCharCode(77,0) == animationc ? parseInt(`${hoverN}`) : animationc.length)}`;
      while (buildp.endsWith(`${libreanimatedi.length}`)) {
          let starr = false;
          let bootsplash3 = 4.0;
          let iconchatsendg = 3.0;
          let yingO = 5;
         libreanimatedi = `${((starr ? 3 : 5) >> (Math.min(buildp.length, 4)))}`;
         starr = 84 >= yingO;
         bootsplash3 -= parseInt(`${iconchatsendg}`);
         iconchatsendg -= 1;
         yingO |= parseInt(`${bootsplash3}`) % (Math.max(10, parseInt(`${iconchatsendg}`)));
         break;
      }
      let minivodf = buildp.length <= 9186800;
      do {
         buildp = `${3 * parseInt(`${searchc}`)}`;
         if (minivodf) {
            break;
         }
      } while (minivodf && ((buildp.length * 4) < 1));
      while ((5.33 * hoverN) >= 4.13) {
         hoverN += parseFloat(`${1}`);
         break;
      }
          let unticka = false;
         buildp += `${2 - buildp.length}`;
         unticka = !unticka;
      while (!libreanimatedi.startsWith(`${searchc}`)) {
         libreanimatedi = "3";
         break;
      }
          let iconnotificationnew8 = String.fromCharCode(115,97,100,100,0);
         buildp = `${parseInt(`${searchc}`)}`;
         iconnotificationnew8 += `${iconnotificationnew8.length | iconnotificationnew8.length}`;
       let iconuserA = 3.0;
      let indexA = 7024567.0 <= iconuserA;
      do {
         iconuserA += parseFloat(`${parseInt(`${searchc}`)}`);
         if (indexA) {
            break;
         }
      } while ((4.83 < (hoverN / (Math.max(iconuserA, 7))) && 4.41 < (iconuserA / 4.83)) && indexA);
      let cricketx = 8916586 <= libreanimatedi.length;
      do {
          let weibo6 = String.fromCharCode(111,112,116,105,111,110,97,108,95,113,95,57,53,0);
          let stationp = String.fromCharCode(100,111,99,117,109,101,110,116,115,0);
          let subbasketballplayera = true;
          let saveS = String.fromCharCode(100,101,115,116,114,111,121,0);
          let topicM = 4.0;
         libreanimatedi = `${3 - buildp.length}`;
         weibo6 += "2";
         stationp += `${saveS.length}`;
         subbasketballplayera = (topicM / (Math.max(4, parseFloat(`${stationp.length}`)))) > 3.21;
         saveS += `${((subbasketballplayera ? 5 : 4) - 2)}`;
         topicM -= parseFloat(`${2 + saveS.length}`);
         if (cricketx) {
            break;
         }
      } while ((parseInt(`${hoverN}`) == libreanimatedi.length) && cricketx);
      if (4.51 == (iconuserA + 1.4) || (hoverN + 1.4) == 2.90) {
          let basketballiconk: Map<any, any> = new Map([[String.fromCharCode(115,95,51,48,95,97,99,97,108,99,0),958], [String.fromCharCode(102,95,50,57,95,115,108,105,112,0),370]]);
          let transferz = 3.0;
          let libavdeviceU = 5;
          let cornershootf = 0.0;
         iconuserA /= Math.max(parseFloat(`${parseInt(`${cornershootf}`) / (Math.max(2, 9))}`), 2);
         basketballiconk.set(`${transferz}`, 3);
         transferz += parseInt(`${transferz}`) / 2;
         libavdeviceU |= 1 - parseInt(`${transferz}`);
         cornershootf /= Math.max(parseFloat(`${1 ^ parseInt(`${transferz}`)}`), 3);
      }
      if ((parseInt(`${searchc}`) * buildp.length) <= 2 && (parseFloat(`${buildp.length}`) * searchc) <= 2.79) {
         searchc -= parseFloat(`${2 * animationc.length}`);
      }
          let backV = 0.0;
          let basketballhometeamx = 2.0;
          let wnewarchdefaultsR = 1.0;
         searchc += (parseFloat(`${String.fromCharCode(86,0) == buildp ? buildp.length : animationc.length}`));
         backV *= parseFloat(`${2 * parseInt(`${basketballhometeamx}`)}`);
         basketballhometeamx -= parseInt(`${wnewarchdefaultsR}`) | 3;
         wnewarchdefaultsR /= Math.max(5, parseFloat(`${1}`));
      for (let m = 0; m < 1; m++) {
         hoverN -= parseFloat(`${2 - animationc.length}`);
      }
         buildp += `${libreanimatedi.length}`;
      pangle5 = `${2 >> (Math.min(4, buildp.length))}`;
   }
      logouser6 *= pangle5.length;
      yys_giftbutton_footballtrophy.playlistTopicsClickAnalytics({
        topic_id: playlist.topic_id.toString(),
        topic_name: playlist.topic_name,
      });
    }
  }, [playlist]);
  

  return (
    <>
      <ScreenContainer>
        <TitleWithBackButtonHeader
          title={playlist?.topic_name}
          headerStyle={{ marginBottom: spacing.s }}
        />
        {playlist && (
          <View style={{ gap: spacing.s, paddingBottom: 230 }}>
            <View style={styles.header}>
              <Text
                numberOfLines={3}
                style={{
                  ...textVariants.small,
                  color: colors.text,
                  flex: 1,
                  marginRight: spacing.l,
                }}
              >
                {playlist?.topic_blurb}
              </Text>
              <FavoritePlaylistButton playlist={playlist} />
            </View>
            <Text
              style={{
                ...textVariants.small,
              }}
            >{`(共${playlist.vod_list.length}部)`}</Text>
            <VodWithDescriptionList
              vodList={playlist.vod_list}
              onClickCatalogVideo={onClickCatalogVideo}
            />
          </View>
        )}
      </ScreenContainer>
    </>
  );
};

const styles = StyleSheet.create({
  header: {
    display: "flex",
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "space-between",
  },
});
