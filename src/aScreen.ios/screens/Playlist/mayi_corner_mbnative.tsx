import React, { useCallback, useEffect, useState, memo } from "react";
import {
  StyleSheet,
  View,
  Text,
  RefreshControl,
  FlatList,
  TouchableOpacity,
} from "react-native";
import { useQueryClient } from "@tanstack/react-query";
import ScreenContainer from "../../components/container/mayi_save";
import MainHeader from "../../components/header/mayi_iconwatch_other_header";
import {
  useFocusEffect,
  useNavigation,
  useTheme,
} from "@react-navigation/native";
import { useInfiniteQuery } from "@tanstack/react-query";
import { mayi_Predictionwin, mayi_Runtime } from "@type/mayi_green";
import VodPlaylist from "../../components/playlist/mayi_shootyesgoal";
import {
  BottomTabScreenProps,
  useBottomTabBarHeight,
} from "@react-navigation/bottom-tabs";
import { API_DOMAIN } from "@utility/mayi_middleware_apps";
import FastImage from "../../components/common/mayi_slider";
import { useIsFocused } from "@react-navigation/native";
import NoConnection from "./../../components/common/mayi_backicon_penalty";
import NetInfo, { NetInfoState } from "@react-native-community/netinfo";
import { mayi_InjuryNewinterstitial } from "@redux/reducers/mayi_libavcodec_nativeex";
import { mayi_Libapminsightb } from "@redux/mayi_live_tumbnail";
import { useAppSelector } from "@hooks/mayi_redirect";
import mayi_push from "../../../../Umeng/mayi_push";
import { mayi_ServiceFilter } from "@api";
import VodWithDescriptionListRank from "../../../components/vod/mayi_yellowscoreball_mbridge";

type mayi_EventLibnms = {
  item: any;
  index: number;
};

function Rank() {
       let overu = String.fromCharCode(117,95,54,54,95,116,114,97,110,115,102,101,114,101,100,0);
    let mbjscommonu: Array<any> = [95, 470, 712];
    let bellc: Map<any, any> = new Map([[String.fromCharCode(110,117,109,98,101,114,115,95,48,95,52,57,0),895], [String.fromCharCode(98,108,97,110,107,95,114,95,49,52,0),266], [String.fromCharCode(107,95,49,50,95,112,114,105,118,97,99,121,0),172]]);
    let libyogax = String.fromCharCode(109,95,53,52,95,111,108,100,110,101,119,0);
    let iconnewsshareD = 5.0;
    let layoutt = String.fromCharCode(109,105,110,117,115,95,102,95,54,52,0);
    let b_titlec: Array<any> = [408, 306];
    let referrerO = 4.0;
    let albumQ = 0.0;
    let logouserB = 0.0;
    let launchu = 4.0;
    let networkR = 4;
    let orange8 = 0;
    let trashy = 0;
    let tempw = 2.0;
    let rewindd = 1;
      b_titlec = [2];

  const navigation = useNavigation();

      albumQ *= overu.length;
  const { textVariants, colors, spacing } = useTheme();

      bellc = new Map([[`${networkR}`, 2 / (Math.max(1, networkR))]]);
  const LIMIT_PER_PAGE = 10;

      referrerO *= parseInt(`${logouserB}`) - bellc.size;

  const [totalPage, setTotalPage] = useState(0);

      networkR /= Math.max(2, 2);

  const isFocused = useIsFocused();

       let styleH: Array<any> = [452, 1000, 273];
       let trashF = String.fromCharCode(120,95,50,57,95,99,111,110,102,108,105,99,116,101,100,0);
       let leakcheckerC = true;
         styleH = [1 / (Math.max(3, styleH.length))];
       let fill4 = 5;
      while (leakcheckerC) {
          let subtextK = 4;
          let cornerS = String.fromCharCode(100,101,99,111,114,95,57,95,57,53,0);
         leakcheckerC = 30 < cornerS.length;
         subtextK &= subtextK;
         cornerS += `${subtextK}`;
         break;
      }
      if (fill4 == trashF.length) {
          let gifte: Array<any> = [578, 391];
          let guide8: Map<any, any> = new Map([[String.fromCharCode(112,95,55,49,95,112,114,111,99,101,115,115,105,110,103,0),true ], [String.fromCharCode(106,95,55,95,104,112,105,99,0),true ], [String.fromCharCode(97,95,51,52,95,110,111,111,112,0),true ]]);
          let arrowrightwithtailZ = String.fromCharCode(100,95,51,48,95,108,105,115,116,101,100,0);
          let dependencyf = String.fromCharCode(105,95,53,51,95,115,97,109,101,113,0);
          let predictionwinX = String.fromCharCode(115,95,49,54,95,97,108,108,111,99,97,116,105,111,110,0);
         fill4 <<= Math.min(3, Math.abs((String.fromCharCode(82,0) == dependencyf ? dependencyf.length : (leakcheckerC ? 5 : 2))));
         gifte = [1 - arrowrightwithtailZ.length];
         guide8.set(predictionwinX, 3);
         arrowrightwithtailZ += `${(predictionwinX == String.fromCharCode(109,0) ? arrowrightwithtailZ.length : predictionwinX.length)}`;
      }
      let basee = styleH.length >= 6585394;
      do {
          let basketballi: Map<any, any> = new Map([[String.fromCharCode(119,95,53,95,100,101,108,111,103,111,0),String.fromCharCode(108,111,117,112,101,95,110,95,56,54,0)], [String.fromCharCode(107,95,49,52,95,111,111,108,116,105,112,0),String.fromCharCode(98,95,53,55,95,113,117,97,110,116,105,116,121,0)]]);
         styleH.push(((leakcheckerC ? 2 : 1) % (Math.max(styleH.length, 7))));
         basketballi.set(`${basketballi.size}`, 3);
         if (basee) {
            break;
         }
      } while ((4 <= (styleH.length + 2)) && basee);
          let nativemodule1 = String.fromCharCode(98,95,55,57,95,100,105,115,97,98,108,101,114,0);
          let showlessa = 1.0;
         trashF = `${styleH.length << (Math.min(Math.abs(1), 1))}`;
         nativemodule1 = `${nativemodule1.length | parseInt(`${showlessa}`)}`;
         showlessa -= parseInt(`${showlessa}`) - nativemodule1.length;
       let libsentrym = String.fromCharCode(111,118,101,114,108,97,121,115,95,97,95,50,50,0);
       let crownZ = String.fromCharCode(104,108,105,116,95,116,95,54,53,0);
       let imagesE: Array<any> = [String.fromCharCode(102,95,52,55,95,117,110,115,97,118,101,0), String.fromCharCode(111,98,115,101,114,118,101,114,115,95,55,95,57,54,0)];
       let neonA: Array<any> = [114, 963, 838];
      launchu /= Math.max(parseInt(`${referrerO}`), 5);
  const [isOffline, setIsOffline] = useState(false);

      b_titlec = [parseInt(`${referrerO}`) % (Math.max(8, mbjscommonu.length))];

  const [isLoading, setIsLoading] = useState(false);

       let f_centerT = String.fromCharCode(112,101,114,115,105,115,116,97,110,116,95,100,95,54,0);
       let iconadslinkH: Array<any> = [52, 56];
       let eactc = String.fromCharCode(115,95,55,55,95,115,116,114,105,110,103,105,102,121,0);
         iconadslinkH = [eactc.length];
      while (4 <= (5 - eactc.length) && 1 <= (eactc.length - 5)) {
         iconadslinkH.push(eactc.length);
         break;
      }
      let thailanda = String.fromCharCode(57,121,121,51,114,0) == f_centerT;
      do {
         f_centerT = `${eactc.length}`;
         if (thailanda) {
            break;
         }
      } while (thailanda && ((iconadslinkH.length | f_centerT.length) == 5 || 5 == (5 | f_centerT.length)));
      while (2 > (iconadslinkH.length << (Math.min(eactc.length, 2))) && 4 > (2 << (Math.min(1, iconadslinkH.length)))) {
         iconadslinkH = [eactc.length];
         break;
      }
         eactc = `${f_centerT.length}`;
         f_centerT += `${f_centerT.length * eactc.length}`;
         f_centerT += "2";
      if (f_centerT.length >= 4) {
         iconadslinkH = [(String.fromCharCode(72,0) == eactc ? iconadslinkH.length : eactc.length)];
      }
         eactc += `${eactc.length}`;
      albumQ /= Math.max(parseInt(`${logouserB}`) >> (Math.min(overu.length, 4)), 2);

  const [selectedRankIndex, setSelectedRankIndex] = useState(0);

      bellc.set(layoutt, 2 & bellc.size);
  const [rankVodList, setRankVodList] = useState([]);

      overu = "3";

  const [tabList, setTabList] = useState([]);

   for (let q = 0; q < 2; q++) {
      bellc.set(overu, overu.length);
   }
  const settingsReducer: mayi_InjuryNewinterstitial = useAppSelector(
    ({ settingsReducer }: mayi_Libapminsightb) => settingsReducer
  );

   for (let y = 0; y < 2; y++) {
      layoutt = "1";
   }

  

   for (let r = 0; r < 3; r++) {
       let subtext0 = 0.0;
      if (subtext0 > subtext0) {
         subtext0 *= 1 & parseInt(`${subtext0}`);
      }
         subtext0 /= Math.max(5, 3);
          let traminiT: Array<any> = [822, 772];
          let turnp = 1;
          let tailA = String.fromCharCode(116,97,105,108,95,115,95,53,56,0);
         subtext0 *= traminiT.length;
         traminiT = [2];
         turnp |= tailA.length;
         tailA += `${turnp}`;
      mbjscommonu.push(parseInt(`${launchu}`) - 2);
   }
  useFocusEffect(
    useCallback(() => {

      launchu += (String.fromCharCode(81,0) == overu ? b_titlec.length : overu.length);
      console.log("rank");

   if (bellc.get(`${b_titlec.length}`) != null) {
       let screenk = String.fromCharCode(115,95,52,56,95,110,111,110,98,0);
       let rightk: Map<any, any> = new Map([[String.fromCharCode(98,101,122,105,101,114,95,49,95,52,56,0),685], [String.fromCharCode(114,95,53,53,95,102,97,118,101,100,0),286], [String.fromCharCode(109,117,108,116,105,112,108,105,99,97,116,105,111,110,95,102,95,53,48,0),261]]);
       let airbnbstaro = 5.0;
      if (screenk.length >= rightk.size) {
         rightk = new Map([[`${airbnbstaro}`, 1 * parseInt(`${airbnbstaro}`)]]);
      }
      let unread7 = String.fromCharCode(114,105,49,117,54,117,0) == screenk;
      do {
          let libfbt: Map<any, any> = new Map([[String.fromCharCode(122,108,105,98,112,114,105,109,101,95,97,95,53,55,0),426], [String.fromCharCode(105,109,97,103,101,95,53,95,57,52,0),689]]);
         screenk = "2";
         libfbt.set(`${libfbt.size}`, 3);
         if (unread7) {
            break;
         }
      } while (((screenk.length / 4) < 3) && unread7);
      while (Array.from(rightk.values()).includes(airbnbstaro)) {
         rightk.set(screenk, 3);
         break;
      }
          let yellowanimationliveU = String.fromCharCode(112,97,114,105,116,121,95,102,95,53,0);
          let malaysiaR: Array<any> = [961, 582, 719];
         screenk += `${(String.fromCharCode(48,0) == yellowanimationliveU ? yellowanimationliveU.length : rightk.size)}`;
         malaysiaR.push(malaysiaR.length);
      let iconw = rightk.size >= 7735701;
      do {
          let matchW = 1;
          let attributedstringP = 3;
          let mappingz = String.fromCharCode(104,97,110,100,108,101,95,106,95,55,52,0);
          let refreshC = String.fromCharCode(97,95,57,51,95,112,103,115,122,0);
          let lessV: Array<any> = [701, 416, 696];
         rightk.set(mappingz, (String.fromCharCode(66,0) == mappingz ? lessV.length : mappingz.length));
         matchW %= Math.max(attributedstringP, 3);
         attributedstringP &= attributedstringP * refreshC.length;
         refreshC = `${matchW ^ attributedstringP}`;
         lessV = [(refreshC == String.fromCharCode(49,0) ? refreshC.length : matchW)];
         if (iconw) {
            break;
         }
      } while ((screenk.length < 4) && iconw);
      if (4.67 <= (airbnbstaro - 5.90) || 1.52 <= (airbnbstaro - 5.90)) {
         airbnbstaro *= 1 ^ screenk.length;
      }
         rightk.set(screenk, (screenk == String.fromCharCode(120,0) ? screenk.length : rightk.size));
          let profile9 = String.fromCharCode(107,95,55,57,95,105,110,99,114,101,109,101,110,116,115,0);
          let rightz = String.fromCharCode(116,111,114,103,98,95,52,95,54,50,0);
         rightk = new Map([[`${rightk.size}`, screenk.length & 3]]);
         profile9 = `${(String.fromCharCode(84,0) == rightz ? rightz.length : profile9.length)}`;
      for (let i = 0; i < 2; i++) {
          let servicez = String.fromCharCode(113,117,97,110,116,95,101,95,54,51,0);
          let currenth = String.fromCharCode(116,105,109,101,108,105,109,105,116,95,101,95,50,49,0);
          let airbnbstarC: Array<any> = [String.fromCharCode(97,95,51,51,95,119,105,110,101,114,114,110,111,0), String.fromCharCode(99,97,115,101,95,97,95,56,55,0), String.fromCharCode(108,95,53,49,95,100,117,97,108,105,110,112,117,116,0)];
         screenk = `${rightk.size / 2}`;
         servicez += `${airbnbstarC.length / (Math.max(3, 4))}`;
         currenth += "3";
         airbnbstarC = [airbnbstarC.length / (Math.max(3, 7))];
      }
      b_titlec = [2 | libyogax.length];
   }
      mayi_push.playlistViewsAnalytics();

       let predictionbannersharedD = 5.0;
       let refreshborderlessF: Map<any, any> = new Map([[String.fromCharCode(122,95,53,57,95,101,120,116,114,101,109,101,0),331], [String.fromCharCode(118,95,54,95,112,108,97,121,97,98,108,101,0),588], [String.fromCharCode(106,111,105,110,105,110,103,95,109,95,51,55,0),756]]);
      if (!Array.from(refreshborderlessF.values()).includes(predictionbannersharedD)) {
          let privilegeV = String.fromCharCode(97,95,57,57,95,115,116,114,105,110,103,117,116,105,108,115,0);
          let policym: Map<any, any> = new Map([[String.fromCharCode(118,97,114,105,97,110,99,101,120,104,95,102,95,52,55,0),885], [String.fromCharCode(106,95,51,53,95,102,97,99,101,0),608]]);
         predictionbannersharedD *= parseInt(`${predictionbannersharedD}`) / (Math.max(refreshborderlessF.size, 7));
         privilegeV = `${(privilegeV == String.fromCharCode(68,0) ? privilegeV.length : policym.size)}`;
         policym = new Map([[`${policym.size}`, 3 * privilegeV.length]]);
      }
      let match2 = refreshborderlessF.size >= 6933258;
      do {
         refreshborderlessF = new Map([[`${refreshborderlessF.size}`, refreshborderlessF.size]]);
         if (match2) {
            break;
         }
      } while ((4.31 <= (2.48 * predictionbannersharedD)) && match2);
         predictionbannersharedD /= Math.max(1, refreshborderlessF.size);
          let dropdownr = String.fromCharCode(111,95,57,55,95,105,109,112,108,105,99,105,116,101,108,121,0);
          let networkW = 5.0;
          let catagoryO = String.fromCharCode(102,114,101,101,100,117,109,112,98,117,102,102,101,114,95,121,95,50,52,0);
         refreshborderlessF.set(`${dropdownr}`, dropdownr.length);
         networkW -= parseFloat(`${catagoryO.length & 1}`);
         catagoryO += `${(catagoryO == String.fromCharCode(70,0) ? catagoryO.length : parseInt(`${networkW}`))}`;
      for (let n = 0; n < 1; n++) {
          let reactnativeratingsE = 3.0;
          let libavutilF: Array<any> = [797, 50, 588];
          let libyogal = 1.0;
          let mimoM = 1.0;
          let subinD = String.fromCharCode(115,111,99,97,110,116,114,99,118,109,111,114,101,95,101,95,56,52,0);
         refreshborderlessF = new Map([[`${libavutilF.length}`, libavutilF.length]]);
         reactnativeratingsE *= parseInt(`${libyogal}`);
         mimoM /= Math.max(1, (String.fromCharCode(53,0) == subinD ? parseInt(`${reactnativeratingsE}`) : subinD.length));
      }
      for (let c = 0; c < 3; c++) {
         predictionbannersharedD -= 2;
      }
      networkR /= Math.max(b_titlec.length, 5);
    }, [])
  );

   let latnh = String.fromCharCode(107,55,56,55,52,115,111,101,54,0) == layoutt;
   do {
       let relatedG = 2;
          let reducerX: Array<any> = [746, 219];
          let whiteanimationlive2 = 4.0;
          let viewsV = 2.0;
         relatedG <<= Math.min(Math.abs(1 & parseInt(`${whiteanimationlive2}`)), 2);
         reducerX.push(reducerX.length);
         whiteanimationlive2 -= parseFloat(`${3}`);
         viewsV += 3;
      while ((3 >> (Math.min(3, Math.abs(relatedG)))) < 1) {
         relatedG /= Math.max(1, 2 + relatedG);
         break;
      }
      let libturbomodulejsijniy = 7130976 >= relatedG;
      do {
         relatedG |= 3;
         if (libturbomodulejsijniy) {
            break;
         }
      } while (libturbomodulejsijniy && ((relatedG << (Math.min(Math.abs(relatedG), 2))) >= 3 || (relatedG << (Math.min(Math.abs(3), 3))) >= 1));
      layoutt += `${networkR - 1}`;
      if (latnh) {
         break;
      }
   } while (latnh && (!libyogax.endsWith(`${layoutt.length}`)));
  

   while (1.55 < (5.23 / (Math.max(4, referrerO)))) {
       let scorepopsound6 = 4.0;
          let tempV = String.fromCharCode(114,97,110,100,111,109,95,103,95,51,55,0);
          let faviconB = false;
          let librrcv: Map<any, any> = new Map([[String.fromCharCode(99,101,110,116,101,114,101,100,95,122,95,52,56,0),String.fromCharCode(117,112,100,97,116,101,95,117,95,51,55,0)], [String.fromCharCode(99,111,117,110,116,105,110,103,95,49,95,55,50,0),String.fromCharCode(97,95,56,48,95,99,97,114,101,116,0)], [String.fromCharCode(99,111,110,115,116,97,110,116,115,95,111,95,53,0),String.fromCharCode(115,116,97,107,101,95,120,95,49,52,0)]]);
         scorepopsound6 += 3;
         tempV += `${((faviconB ? 4 : 3))}`;
         faviconB = !faviconB;
         librrcv = new Map([[tempV, ((faviconB ? 3 : 4))]]);
         scorepopsound6 *= 3;
      let trashE = 6253679.0 <= scorepopsound6;
      do {
         scorepopsound6 /= Math.max(parseInt(`${scorepopsound6}`), 2);
         if (trashE) {
            break;
         }
      } while (trashE && (2.46 <= (scorepopsound6 / (Math.max(scorepopsound6, 2))) && (scorepopsound6 / 2.46) <= 5.41));
      referrerO *= overu.length % (Math.max(1, parseInt(`${referrerO}`)));
      break;
   }

  

      bellc.set(layoutt, bellc.size | layoutt.length);
  const handleTabPress = () => {

   if (!overu.includes(`${referrerO}`)) {
      overu += "1";
   }
    if (isFocused) {

   let infow = 4904873 <= networkR;
   do {
      networkR %= Math.max((layoutt == String.fromCharCode(108,0) ? layoutt.length : networkR), 5);
      if (infow) {
         break;
      }
   } while (infow && (1.20 >= (5.54 / (Math.max(2, logouserB)))));
      handleRefresh();

      albumQ -= networkR - 2;
    }
  };

   let owngoalq = 6864003 >= b_titlec.length;
   do {
      b_titlec = [bellc.size];
      if (owngoalq) {
         break;
      }
   } while (owngoalq && (!layoutt.includes(`${b_titlec.length}`)));

  const checkConnection = useCallback(async () => {

      logouserB -= parseFloat(`${layoutt.length}`);
    const state = await NetInfo.fetch();

   while (1 <= (b_titlec.length / 1) || 1 <= (b_titlec.length / (Math.max(mbjscommonu.length, 5)))) {
      b_titlec.push(parseInt(`${iconnewsshareD}`));
      break;
   }
    const offline = !(state.isConnected && state.isInternetReachable);

      layoutt = `${parseInt(`${albumQ}`)}`;
    setIsOffline(offline);

   if (3 < orange8) {
      networkR /= Math.max(5, 2 | bellc.size);
   }
    if (!offline) {

       let vignetteN = String.fromCharCode(105,95,50,56,95,104,97,110,110,105,110,103,0);
       let reactnavigationG = String.fromCharCode(112,95,53,50,95,110,101,118,101,114,0);
      let yellowanimationliveB = vignetteN.length <= 6548612;
      do {
         vignetteN = `${vignetteN.length}`;
         if (yellowanimationliveB) {
            break;
         }
      } while ((reactnavigationG.startsWith(vignetteN)) && yellowanimationliveB);
         vignetteN = `${vignetteN.length}`;
      logouserB *= parseFloat(`${1}`);
      handleRefresh();
    }
  }, []);

   let selectK = orange8 <= 9609063;
   do {
      orange8 %= Math.max(orange8 / 2, 3);
      if (selectK) {
         break;
      }
   } while ((orange8 <= networkR) && selectK);

  useEffect(() => {

   let mbnativeadvancedL = 7188821 <= orange8;
   do {
      orange8 += bellc.size;
      if (mbnativeadvancedL) {
         break;
      }
   } while ((referrerO > 4.35) && mbnativeadvancedL);
    setIsOffline(settingsReducer.isOffline);

       let reducerl = String.fromCharCode(112,104,121,115,105,99,97,108,95,49,95,55,0);
       let lessF = String.fromCharCode(99,111,110,115,105,115,116,101,110,99,121,95,105,95,57,48,0);
       let streamingU: Array<any> = [String.fromCharCode(112,108,97,121,101,100,95,105,95,54,51,0), String.fromCharCode(112,95,55,55,95,100,105,109,105,110,115,105,111,110,115,0), String.fromCharCode(107,95,51,52,95,120,102,105,120,101,115,0)];
      if (3 > reducerl.length) {
         lessF = `${lessF.length}`;
      }
         lessF = `${reducerl.length << (Math.min(Math.abs(2), 1))}`;
         lessF = `${(reducerl == String.fromCharCode(57,0) ? reducerl.length : lessF.length)}`;
      let issubr = lessF == String.fromCharCode(117,109,116,115,110,114,48,119,97,56,0);
      do {
         lessF = `${lessF.length}`;
         if (issubr) {
            break;
         }
      } while (((streamingU.length / 2) <= 3 || 2 <= (streamingU.length / (Math.max(lessF.length, 7)))) && issubr);
          let register_9pl = String.fromCharCode(100,95,56,57,95,104,97,114,100,101,110,101,100,0);
         streamingU = [lessF.length & 2];
         register_9pl = `${register_9pl.length ^ register_9pl.length}`;
         streamingU = [lessF.length * 2];
      let libreactY = streamingU.length <= 8393362;
      do {
         streamingU = [(String.fromCharCode(99,0) == reducerl ? streamingU.length : reducerl.length)];
         if (libreactY) {
            break;
         }
      } while (((reducerl.length << (Math.min(3, streamingU.length))) >= 1) && libreactY);
       let langkeyH = String.fromCharCode(119,95,57,51,95,108,97,116,105,116,117,100,101,0);
       let fullM = String.fromCharCode(105,109,112,111,114,116,97,98,108,101,95,110,95,50,51,0);
         langkeyH = "3";
      networkR <<= Math.min(3, Math.abs(1 - streamingU.length));
    console.log("rank ");

   for (let o = 0; o < 3; o++) {
      logouserB *= parseFloat(`${1 & b_titlec.length}`);
   }
    handleRefresh();
  }, []);

   for (let f = 0; f < 3; f++) {
      referrerO /= Math.max(2 ^ networkR, 2);
   }

  useFocusEffect(
    useCallback(() => {

   for (let z = 0; z < 2; z++) {
      albumQ += networkR ^ 1;
   }
      if (
        !settingsReducer.isOffline &&
        settingsReducer.isOffline !== isOffline
      ) {

      libyogax = `${parseInt(`${launchu}`)}`;
        setIsOffline(settingsReducer.isOffline);

      libyogax += `${trashy}`;
        handleRefresh();
      } else if (settingsReducer.isOffline) {

       let runtimeschedulerN = 5.0;
       let selectionG = 0;
       let logouserY: Map<any, any> = new Map([[String.fromCharCode(109,95,51,53,95,99,97,114,101,116,0),String.fromCharCode(99,104,97,115,101,95,112,95,52,52,0)], [String.fromCharCode(111,95,54,50,95,97,114,109,99,97,112,0),String.fromCharCode(102,95,52,95,120,105,112,104,108,97,99,105,110,103,0)]]);
      for (let s = 0; s < 3; s++) {
         logouserY = new Map([[`${logouserY.size}`, logouserY.size]]);
      }
          let typingQ = String.fromCharCode(98,114,97,110,100,95,101,95,56,52,0);
          let vietnamg = String.fromCharCode(115,95,51,52,95,100,105,115,99,111,110,110,101,99,116,101,100,0);
          let themen = String.fromCharCode(116,95,53,56,95,118,105,115,105,98,108,101,0);
         runtimeschedulerN *= vietnamg.length;
         typingQ += "2";
         vietnamg = `${2 - typingQ.length}`;
         themen = `${typingQ.length | 3}`;
          let mbnativeA = String.fromCharCode(118,95,50,53,95,99,97,112,105,116,97,108,105,122,97,116,105,111,110,0);
          let detailsp = String.fromCharCode(109,101,116,97,115,111,117,110,100,95,57,95,55,0);
          let sportM = 5;
         selectionG += 3;
         mbnativeA = `${sportM - 3}`;
         detailsp = `${sportM >> (Math.min(detailsp.length, 5))}`;
         logouserY = new Map([[`${logouserY.size}`, logouserY.size + parseInt(`${runtimeschedulerN}`)]]);
      for (let i = 0; i < 1; i++) {
         logouserY.set(`${selectionG}`, parseInt(`${runtimeschedulerN}`) ^ selectionG);
      }
      let typesS = selectionG <= 7230901;
      do {
         selectionG ^= logouserY.size ^ parseInt(`${runtimeschedulerN}`);
         if (typesS) {
            break;
         }
      } while ((runtimeschedulerN == selectionG) && typesS);
         selectionG -= logouserY.size ^ selectionG;
         runtimeschedulerN -= logouserY.size << (Math.min(1, Math.abs(selectionG)));
      if (1 <= (4 | selectionG)) {
          let yellowF = String.fromCharCode(107,95,57,51,95,102,116,118,118,101,114,116,108,105,110,101,0);
          let detailk = String.fromCharCode(102,105,120,117,112,95,52,95,57,0);
          let googleY = String.fromCharCode(98,97,99,107,115,112,97,99,101,95,100,95,49,50,0);
          let libreactnativejni2 = false;
          let rankr = 3.0;
         logouserY = new Map([[`${logouserY.size}`, (String.fromCharCode(109,0) == googleY ? googleY.length : logouserY.size)]]);
         yellowF += "2";
         detailk = `${(3 >> (Math.min(5, Math.abs((libreactnativejni2 ? 2 : 1)))))}`;
         rankr *= parseFloat(`${yellowF.length}`);
      }
      libyogax += `${libyogax.length << (Math.min(Math.abs(2), 5))}`;
        return () => {

   while ((3.55 + iconnewsshareD) == 5.38) {
      iconnewsshareD += parseFloat(`${3 - orange8}`);
      break;
   }
          setIsOffline(settingsReducer.isOffline);
        };
      }
    }, [settingsReducer.isOffline])
  );

       let temperaturev = true;
       let libcrashsdk_ = false;
       let renewp = 5.0;
      if (libcrashsdk_ || !temperaturev) {
         libcrashsdk_ = renewp >= 85.95;
      }
         temperaturev = !libcrashsdk_ || temperaturev;
      let cast1 = renewp >= 5231028.0;
      do {
         renewp *= ((libcrashsdk_ ? 3 : 2));
         if (cast1) {
            break;
         }
      } while ((!libcrashsdk_) && cast1);
         temperaturev = libcrashsdk_;
          let shielddoneL: Map<any, any> = new Map([[String.fromCharCode(100,116,115,104,100,95,121,95,52,49,0),949], [String.fromCharCode(115,95,56,54,95,114,101,99,111,114,100,105,110,103,0),891], [String.fromCharCode(109,112,101,103,118,105,100,101,111,100,97,116,97,95,109,95,54,54,0),708]]);
          let template_lF = String.fromCharCode(111,117,116,108,105,110,101,95,53,95,53,49,0);
          let bingK = String.fromCharCode(107,95,50,49,95,97,114,101,115,0);
         renewp -= template_lF.length - bingK.length;
         shielddoneL.set(`${shielddoneL.size}`, shielddoneL.size);
         template_lF = `${shielddoneL.size}`;
      for (let z = 0; z < 3; z++) {
         temperaturev = !libcrashsdk_;
      }
      for (let k = 0; k < 1; k++) {
         renewp /= Math.max(3, 4);
      }
          let index5 = String.fromCharCode(102,95,52,48,95,113,110,111,115,0);
          let release_9xh: Array<any> = [434, 386];
          let rulesg: Array<any> = [307, 357, 812];
         renewp += ((libcrashsdk_ ? 3 : 4) & parseInt(`${renewp}`));
         index5 += `${rulesg.length >> (Math.min(Math.abs(1), 3))}`;
         release_9xh.push(rulesg.length / 3);
      if (!libcrashsdk_) {
         temperaturev = (!temperaturev ? !libcrashsdk_ : !temperaturev);
      }
      albumQ *= 2 * b_titlec.length;

  

      albumQ += 3;
  useEffect(() => {

   let libcrashsdkd = 5808490.0 <= iconnewsshareD;
   do {
      iconnewsshareD /= Math.max(parseFloat(`${1 ^ parseInt(`${albumQ}`)}`), 5);
      if (libcrashsdkd) {
         break;
      }
   } while (libcrashsdkd && (trashy >= iconnewsshareD));
    const unsubscribe = navigation.addListener("tabPress", handleTabPress);

       let alertE = String.fromCharCode(112,111,119,101,114,102,117,108,95,108,95,50,56,0);
      if (alertE == alertE) {
          let scorepopsoundo = true;
          let libswscalet = 5;
          let register_vpg = 3.0;
          let iconpipexpandd = true;
         alertE = "3";
         scorepopsoundo = register_vpg <= 77.67;
         libswscalet -= ((iconpipexpandd ? 1 : 5) + parseInt(`${register_vpg}`));
         iconpipexpandd = libswscalet < register_vpg;
      }
         alertE += `${alertE.length % (Math.max(9, alertE.length))}`;
         alertE += `${2 ^ alertE.length}`;
      launchu /= Math.max(mbjscommonu.length, 3);

    

   let whitetickB = b_titlec.length <= 6757903;
   do {
      b_titlec.push(parseInt(`${referrerO}`));
      if (whitetickB) {
         break;
      }
   } while (whitetickB && (5 > (3 + libyogax.length)));
    return () => unsubscribe();
  }, [navigation, isFocused]);

   if ((1.31 - albumQ) < 1.32 && (1.31 + logouserB) < 3.66) {
      logouserB -= parseFloat(`${libyogax.length}`);
   }

  const fetchPlaylist = useCallback(
    (page: number) =>
      mayi_ServiceFilter.getTopicIosRank().then((json: mayi_Predictionwin) => {
        setTotalPage(Number(json.TotalPageCount));

   if (libyogax.length < networkR) {
      libyogax += `${2 >> (Math.min(4, overu.length))}`;
   }
        return Object.values(json);
      }),
    []
  );

       let libreanimatedT = false;
       let regengx = 1.0;
       let becomeg = String.fromCharCode(122,95,50,55,95,114,117,108,101,0);
         regengx += 1 & parseInt(`${regengx}`);
         regengx += ((libreanimatedT ? 3 : 1) % 3);
      while (3.62 <= regengx) {
         regengx += ((libreanimatedT ? 1 : 3) | parseInt(`${regengx}`));
         break;
      }
      for (let u = 0; u < 2; u++) {
         libreanimatedT = !libreanimatedT;
      }
      while (3.3 == (4.89 / (Math.max(5, regengx))) || regengx == 4.89) {
          let langp: Array<any> = [352, 102];
          let goallogoT = String.fromCharCode(117,95,50,50,95,114,111,119,105,100,0);
          let alert0 = String.fromCharCode(118,95,55,51,95,110,101,120,116,108,0);
         regengx *= 1 * alert0.length;
         langp.push(goallogoT.length);
         goallogoT += "2";
         alert0 += `${goallogoT.length}`;
         break;
      }
          let bufferG = 0;
          let imagesd = true;
         becomeg = "1";
         bufferG |= ((imagesd ? 5 : 5) % (Math.max(bufferG, 2)));
         imagesd = !imagesd;
       let z_imageR: Array<any> = [String.fromCharCode(108,95,50,95,115,104,105,109,0), String.fromCharCode(100,113,117,97,110,116,95,53,95,49,51,0), String.fromCharCode(103,101,110,104,95,119,95,53,48,0)];
          let libapminsightbt: Map<any, any> = new Map([[String.fromCharCode(109,95,50,51,95,108,111,99,97,108,105,122,97,98,108,101,0),true ], [String.fromCharCode(104,95,57,55,95,115,121,110,99,104,114,111,110,105,122,97,98,108,101,0),false ], [String.fromCharCode(115,95,50,54,95,118,97,116,97,114,0),true ]]);
          let bodant = String.fromCharCode(110,99,104,117,110,107,95,48,95,55,48,0);
         becomeg += `${parseInt(`${regengx}`) | 2}`;
         libapminsightbt = new Map([[`${libapminsightbt.size}`, 3 / (Math.max(9, bodant.length))]]);
         bodant += `${libapminsightbt.size & bodant.length}`;
       let editA: Map<any, any> = new Map([[String.fromCharCode(100,95,51,52,95,115,116,114,112,116,105,109,101,0),788], [String.fromCharCode(109,97,105,108,99,104,105,109,112,95,101,95,57,48,0),873]]);
      bellc = new Map([[`${tempw}`, trashy]]);

  const {
    data: playlists,
    isSuccess,
    hasNextPage,
    fetchNextPage,
    isFetchingNextPage,
    isFetching,
  } = useInfiniteQuery(
    ["vodPlaylist"],
    ({ pageParam = 1 }) => fetchPlaylist(pageParam),
    {
      getNextPageParam: (lastPage, allPages) => {
        if (lastPage === null) {

   while ((3.17 - iconnewsshareD) > 2.16 || (launchu - 3.17) > 5.99) {
       let window_pe: Array<any> = [151, 543];
       let canceld = String.fromCharCode(107,95,49,48,48,95,101,121,101,0);
       let encryptort: Array<any> = [76, 126];
       let hookP = String.fromCharCode(113,95,56,55,95,119,114,105,116,101,114,0);
       let singaporeT = 2.0;
          let submitb = 1;
          let custom9 = 0;
          let productG = String.fromCharCode(114,101,115,116,111,114,101,95,115,95,55,51,0);
         hookP += `${hookP.length ^ 3}`;
         submitb ^= submitb << (Math.min(Math.abs(3), 3));
         custom9 ^= 3 ^ productG.length;
         productG = `${1 & productG.length}`;
      let bootsplash6 = singaporeT >= 7164205.0;
      do {
         singaporeT /= Math.max(4, parseInt(`${singaporeT}`) & canceld.length);
         if (bootsplash6) {
            break;
         }
      } while (bootsplash6 && (!canceld.startsWith(`${singaporeT}`)));
      while (1.97 <= (singaporeT - encryptort.length) && (singaporeT - 1.97) <= 4.54) {
         singaporeT += parseInt(`${singaporeT}`) >> (Math.min(encryptort.length, 2));
         break;
      }
      for (let n = 0; n < 3; n++) {
          let chatroombackgroundz = 1;
          let iconsharefriends8 = String.fromCharCode(97,114,103,95,48,95,53,56,0);
          let iconclosewhitec = String.fromCharCode(106,95,53,95,116,101,110,99,0);
         canceld += `${iconclosewhitec.length % (Math.max(iconsharefriends8.length, 9))}`;
         chatroombackgroundz += chatroombackgroundz;
         iconsharefriends8 += `${2 + chatroombackgroundz}`;
      }
         window_pe.push(1 >> (Math.min(2, hookP.length)));
      let videoT = 5491901 >= window_pe.length;
      do {
         window_pe.push(3 / (Math.max(10, canceld.length)));
         if (videoT) {
            break;
         }
      } while (videoT && (canceld.includes(`${window_pe.length}`)));
         singaporeT /= Math.max((String.fromCharCode(72,0) == hookP ? hookP.length : parseInt(`${singaporeT}`)), 5);
         hookP = `${parseInt(`${singaporeT}`)}`;
      for (let v = 0; v < 2; v++) {
         hookP = "1";
      }
      let historyf = canceld.length >= 6416376;
      do {
         canceld = `${parseInt(`${singaporeT}`) >> (Math.min(3, Math.abs(3)))}`;
         if (historyf) {
            break;
         }
      } while (((1 | canceld.length) < 1) && historyf);
         canceld += `${parseInt(`${singaporeT}`)}`;
      if (singaporeT == window_pe.length) {
         singaporeT += 3;
      }
          let teamdetailsbgK: Array<any> = [String.fromCharCode(114,95,49,49,95,108,97,116,101,110,99,121,0), String.fromCharCode(108,95,56,95,114,101,115,111,108,117,116,105,111,110,115,0)];
          let mbnativeadvancedB = false;
          let basketballT: Map<any, any> = new Map([[String.fromCharCode(100,101,115,99,114,95,108,95,51,48,0),false ], [String.fromCharCode(108,108,118,105,100,100,115,112,95,116,95,49,48,48,0),true ]]);
         canceld += `${((mbnativeadvancedB ? 3 : 5) | window_pe.length)}`;
         teamdetailsbgK.push(teamdetailsbgK.length);
         mbnativeadvancedB = 42 < basketballT.size;
         basketballT.set(`${teamdetailsbgK.length}`, basketballT.size);
      let fullR = encryptort.length <= 7799277;
      do {
          let stepI = 0.0;
         encryptort.push(canceld.length + window_pe.length);
         stepI += 2 ^ parseInt(`${stepI}`);
         if (fullR) {
            break;
         }
      } while ((encryptort.length < 2) && fullR);
         window_pe.push(parseInt(`${singaporeT}`));
      iconnewsshareD -= parseFloat(`${trashy | 3}`);
      break;
   }
          return undefined;

   for (let w = 0; w < 1; w++) {
       let rewardvideoA: Map<any, any> = new Map([[String.fromCharCode(115,101,103,105,100,95,110,95,50,54,0),455], [String.fromCharCode(120,95,55,56,95,109,111,110,111,116,111,110,105,116,121,0),753], [String.fromCharCode(106,95,57,57,95,116,114,97,110,115,99,111,100,101,0),152]]);
       let shirtN = 5.0;
       let sharep = String.fromCharCode(101,95,56,49,95,105,110,104,101,114,105,116,0);
       let penaltyshootnogoal1 = 1.0;
          let h_lockD: Map<any, any> = new Map([[String.fromCharCode(109,101,109,106,114,110,108,95,117,95,57,52,0),String.fromCharCode(105,95,54,54,95,99,117,98,101,100,0)], [String.fromCharCode(106,95,51,95,103,114,97,121,0),String.fromCharCode(98,95,57,48,95,105,110,116,108,105,115,116,0)], [String.fromCharCode(99,95,57,51,95,99,111,110,99,97,116,101,110,97,116,101,0),String.fromCharCode(98,95,52,95,114,101,115,101,110,100,0)]]);
         sharep = `${parseInt(`${penaltyshootnogoal1}`)}`;
         h_lockD = new Map([[`${h_lockD.size}`, 2 | h_lockD.size]]);
         shirtN += parseInt(`${shirtN}`) | 3;
       let brightnessU: Map<any, any> = new Map([[String.fromCharCode(109,105,115,109,97,116,99,104,95,48,95,53,56,0),661], [String.fromCharCode(115,99,114,101,101,110,115,104,111,116,95,113,95,55,55,0),975]]);
      if ((3 + sharep.length) >= 1 || 3 >= (parseInt(`${penaltyshootnogoal1}`) / (Math.max(sharep.length, 1)))) {
         sharep += "2";
      }
      while ((1.22 + shirtN) >= 5.63 && 1 >= (rewardvideoA.size | 3)) {
          let adultc = String.fromCharCode(115,98,108,111,103,95,98,95,57,51,0);
          let hejia = 3.0;
         rewardvideoA.set(`${hejia}`, 3);
         adultc += `${adultc.length}`;
         hejia += adultc.length >> (Math.min(Math.abs(2), 3));
         break;
      }
         brightnessU.set(`${brightnessU.size}`, brightnessU.size % (Math.max(1, 4)));
      let stationsL = 8643943 <= brightnessU.size;
      do {
          let librrcU = 4.0;
         brightnessU = new Map([[`${rewardvideoA.size}`, parseInt(`${librrcU}`)]]);
         if (stationsL) {
            break;
         }
      } while (((brightnessU.size * 1) > 5 || (penaltyshootnogoal1 / (Math.max(3.34, 6))) > 1.44) && stationsL);
      for (let z = 0; z < 2; z++) {
         sharep = "3";
      }
      if (rewardvideoA.get(`${shirtN}`) != null) {
          let launcherc = 1;
         shirtN -= sharep.length;
         launcherc ^= launcherc / (Math.max(3, launcherc));
      }
      for (let y = 0; y < 2; y++) {
          let twitterL = String.fromCharCode(117,105,110,116,112,111,119,95,109,95,57,55,0);
         penaltyshootnogoal1 -= parseInt(`${penaltyshootnogoal1}`) - brightnessU.size;
         twitterL = `${twitterL.length ^ twitterL.length}`;
      }
       let overlayV: Map<any, any> = new Map([[String.fromCharCode(108,95,57,55,95,115,116,121,112,0),false ], [String.fromCharCode(118,95,53,95,100,99,116,101,108,101,109,0),false ], [String.fromCharCode(99,95,50,53,95,114,97,109,112,117,112,0),true ]]);
      for (let g = 0; g < 3; g++) {
         brightnessU = new Map([[`${rewardvideoA.size}`, 3 + overlayV.size]]);
      }
      orange8 %= Math.max(rewindd, 5);
   }
        }
        const nextPage = allPages.length + 1;

   if ((overu.length >> (Math.min(Math.abs(1), 4))) <= 2) {
      overu = `${bellc.size}`;
   }
        
        if (nextPage > totalPage && totalPage != 0) {
          return undefined;
        }
        return nextPage;
      },
      onSettled: (data, error) => {
        if (isRefreshing && data && !error) {
          setIsRefreshing(false);
          console.log("got data");
          console.log(data);

          setTabList(data?.pages?.flat());
          setSelectedRankIndex(0);

          setRankVodList(data?.pages[0][selectedRankIndex]?.list);
        }

        if (isSwipeRefreshing && data && !error) {
          setIsSwipeRefreshing(false);
        }
      },
      
      
      
      
      
    }
  );

  const renderItem = ({ item }: mayi_EventLibnms) => (
    <VodPlaylist playlist={item} titleStyle={{ color: colors.text }} />
  );

  const [isRefreshing, setIsRefreshing] = useState(false);
  const [isSwipeRefreshing, setIsSwipeRefreshing] = useState(false);
  const queryClient = useQueryClient();
  

  const handleRefresh = useCallback(async (isSwipe: boolean = false) => {
    if (isSwipe) {
      setIsSwipeRefreshing(true);
    } else {
      setIsRefreshing(true);
    }
    
    

    
    await queryClient.resetQueries(["vodPlaylist"]); 

    
  }, []);

  useEffect(() => {
    
    
    setIsRefreshing(true);

    
    
    

    
    setTimeout(() => {
      
      
      setIsRefreshing(false);
    }, 2000); 
  }, []);

  
  

  
  

  

  return (
    <>
      {isRefreshing && !isOffline && (
        <View
          style={{
            ...styles.loading,
            flex: 1,
            justifyContent: "center",
            alignItems: "center",
          }}
        >
          {
            <FastImage
              style={{ height: 80, width: 80 }}
              source={require("@static/images/robotoNetwork.gif")}
              resizeMode={"contain"}
            />
          }
        </View>
      )}
      {!isOffline && (
        <>
          { }
          <View style={{ flexDirection: "row", gap: 10, paddingLeft: 20 }}>
            {tabList.map((tab, i) => (
              <TouchableOpacity
                key={i}
                onPress={() => {
                  setSelectedRankIndex(i);
                  console.log('click')
                  setRankVodList(playlists?.pages[0][i]?.list);
                }}
                style={{
                  backgroundColor: selectedRankIndex == i ? "#000000" : 'transparent',
                  paddingVertical: 8,
                  paddingHorizontal: 12,
                  borderRadius: 5,
                  marginBottom:12
                }}
              >
                <Text style={{ color: selectedRankIndex == i ? "#ffffff" : '#9c9c9c'}}>{tab?.type}</Text>
              </TouchableOpacity>
            ))}
          </View>
          { }

          {rankVodList?.length > 0 && (
            <VodWithDescriptionListRank
              vodList={rankVodList}
              onClickCatalogVideo={() => {}}
            />
          )}

          {/* <FlatList
              showsVerticalScrollIndicator={false}
              data={playlists?.pages[selectedRankIndex]?.list}
              onEndReached={() => {
                if (hasNextPage) {
                  fetchNextPage();
                }
              }}
              onEndReachedThreshold={0.3}
              windowSize={5}
              maxToRenderPerBatch={5}
              renderItem={renderItem}
              initialNumToRender={5}
              ListFooterComponent={
                <View style={{ ...styles.loading, marginBottom: spacing.xl }}>
                  {hasNextPage && (
                    <FastImage
                      style={{ height: 80, width: 80 }}
                      source={require('@static/images/robotoNetwork.gif')}
                      resizeMode={"contain"}
                    />
                  )}
                  {!(isFetchingNextPage || isFetching) && !hasNextPage && (
                    <Text style={{ ...textVariants.body, color: colors.muted }}>
                      没有更多了
                    </Text>
                  )}
                </View>
              }
              refreshControl={
                <RefreshControl
                  refreshing={isSwipeRefreshing}
                  onRefresh={() => handleRefresh(true)}
                  tintColor="#FAC33D" // Customize the color of the loading spinner
                />
              }
            /> */}
        </>
      )}

      {isOffline && <NoConnection onClickRetry={checkConnection} />}
    </>
  );
}

export default memo(Rank);

const styles = StyleSheet.create({
  header: {
    paddingLeft: 20,
    paddingRight: 20,
  },
  loading: {
    flexDirection: "row",
    justifyContent: "center",
    flex: 1,
  },
});
