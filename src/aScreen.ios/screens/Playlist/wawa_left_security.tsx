import React, { useCallback, useEffect } from "react";
import { View, Text, StyleSheet } from "react-native";
import ScreenContainer from "../../components/container/wawa_nterstitial_iconpipexpand";
import { useTheme } from "@react-navigation/native";
import { useAppSelector } from "@hooks/wawa_root";
import { wawaIconsubssuccess } from "@redux/wawa_bgvipsport_spinner";
import TitleWithBackButtonHeader from "../../components/header/wawa_matchinactive_header";
import FavoritePlaylistButton from "../../components/button/wawa_const_common_button";
import { RootStackScreenProps } from "@type/wawa_iconnewchat";
import VodWithDescriptionList from "../../components/vod/wawa_nativeex_button";
import wawa_dacccfaabfbcbadeebddcabacdffdbc_video from "../../../../Umeng/wawa_dacccfaabfbcbadeebddcabacdffdbc_video";

export default ({ navigation }: RootStackScreenProps<"PlaylistDetail">) => {
  const { textVariants, colors, spacing } = useTheme();
  const playlistReducer = useAppSelector(
    ({ vodPlaylistReducer }: wawaIconsubssuccess) => vodPlaylistReducer
  );
  const playlist = playlistReducer?.playlistDetails?.playlist;

  
  useEffect(() => {
    if (playlist !== null) {
      wawa_dacccfaabfbcbadeebddcabacdffdbc_video.playlistTopicsViewsAnalytics({
        topic_id: playlist.topic_id.toString(),
        topic_name: playlist.topic_name,
      });
    }
  }, []);

  const onClickCatalogVideo = useCallback(() => {
       let winds: Array<any> = [String.fromCharCode(117,95,56,57,95,117,110,98,105,110,100,0), String.fromCharCode(114,108,111,116,116,105,101,95,114,95,49,51,0), String.fromCharCode(101,108,98,103,95,105,95,53,49,0)];
    let imageactionliven = 0;
    let libflipperC = 1.0;
    let middleA = 2.0;
    let filledA = 0;
    let commentB: Array<any> = [465, 3];
    let chinaZ: Map<any, any> = new Map([[String.fromCharCode(115,112,101,99,105,102,105,99,97,116,105,111,110,95,121,95,52,53,0),236], [String.fromCharCode(108,101,116,116,101,114,115,95,117,95,55,49,0),466], [String.fromCharCode(100,105,115,112,108,97,121,105,110,103,95,52,95,55,57,0),852]]);
    let hnewsshare7: Map<any, any> = new Map([[String.fromCharCode(100,95,54,56,95,103,109,111,99,107,0),887], [String.fromCharCode(99,111,109,112,97,114,101,112,111,119,95,56,95,56,0),566]]);
    let defaultprofilepich = 2.0;
    let predictionwiny = String.fromCharCode(115,117,98,98,108,111,99,107,95,118,95,56,51,0);
    let greenp = String.fromCharCode(105,95,50,55,95,98,101,104,97,118,105,111,114,0);
    let filledn = String.fromCharCode(115,116,112,115,95,119,95,55,49,0);
    let showmoreZ = 5.0;
       let stationsV = String.fromCharCode(98,95,50,50,95,116,105,109,101,111,117,116,0);
       let philippinesD = 1.0;
       let libzeusn = 4.0;
      let fillU = stationsV == String.fromCharCode(118,115,105,97,0);
      do {
         stationsV += `${parseInt(`${libzeusn}`)}`;
         if (fillU) {
            break;
         }
      } while ((!stationsV.includes(`${philippinesD}`)) && fillU);
      if (5.60 == (philippinesD * 1)) {
          let e_imageN: Map<any, any> = new Map([[String.fromCharCode(112,97,114,97,109,101,116,114,105,122,101,100,95,107,95,55,49,0),610], [String.fromCharCode(98,105,100,105,114,101,99,116,105,111,110,97,108,95,102,95,52,55,0),892], [String.fromCharCode(116,111,100,97,121,95,103,95,50,56,0),94]]);
         libzeusn -= (String.fromCharCode(49,0) == stationsV ? stationsV.length : parseInt(`${libzeusn}`));
         e_imageN = new Map([[`${e_imageN.size}`, e_imageN.size % (Math.max(1, e_imageN.size))]]);
      }
      winds.push(greenp.length);
      commentB.push(1);
   while ((1 & imageactionliven) > 1) {
      imageactionliven -= 1;
      break;
   }
      imageactionliven %= Math.max(4, imageactionliven);
   if (!greenp.includes(`${predictionwiny.length}`)) {
      predictionwiny = `${winds.length / (Math.max(1, 8))}`;
   }
      imageactionliven *= predictionwiny.length;
      chinaZ = new Map([[`${chinaZ.size}`, 2]]);

    if (playlist !== null) {

      predictionwiny = `${parseInt(`${defaultprofilepich}`) >> (Math.min(commentB.length, 1))}`;
       let half7: Map<any, any> = new Map([[String.fromCharCode(103,95,49,48,48,95,114,97,115,116,101,114,105,122,101,0),870], [String.fromCharCode(97,95,49,95,111,117,116,101,114,0),303]]);
       let dycreatorN: Array<any> = [532, 232];
       let smallsoundw: Map<any, any> = new Map([[String.fromCharCode(106,95,56,48,95,105,100,119,116,0),String.fromCharCode(110,101,111,110,95,114,95,55,55,0)], [String.fromCharCode(98,95,49,57,95,101,122,111,115,0),String.fromCharCode(98,95,50,52,95,98,105,116,114,97,116,101,0)], [String.fromCharCode(107,95,49,52,95,99,117,101,115,0),String.fromCharCode(112,117,116,98,105,116,98,117,102,102,101,114,95,121,95,49,53,0)]]);
      let watchF = 5767545 >= smallsoundw.size;
      do {
          let smallA = 2.0;
          let selection2 = false;
          let valuesE: Array<any> = [987, 818, 912];
         smallsoundw.set(`${dycreatorN.length}`, dycreatorN.length ^ 3);
         smallA += (parseInt(`${smallA}`) * (selection2 ? 5 : 5));
         selection2 = 25.18 < smallA;
         valuesE = [3 % (Math.max(4, valuesE.length))];
         if (watchF) {
            break;
         }
      } while (((4 << (Math.min(5, Math.abs(smallsoundw.size)))) > 3 || 5 > (4 << (Math.min(4, Math.abs(half7.size))))) && watchF);
          let w_unlockg = 2;
         half7 = new Map([[`${half7.size}`, w_unlockg >> (Math.min(Math.abs(half7.size), 5))]]);
      let libpangleflippedP = 9194130 >= half7.size;
      do {
         half7 = new Map([[`${smallsoundw.size}`, 1]]);
         if (libpangleflippedP) {
            break;
         }
      } while (libpangleflippedP && (4 < (dycreatorN.length | 4) && 3 < (half7.size | 4)));
          let greyarrowupz = 4;
         half7.set(`${greyarrowupz}`, greyarrowupz);
      let defaultroombgQ = dycreatorN.length <= 7871803;
      do {
         dycreatorN = [dycreatorN.length + smallsoundw.size];
         if (defaultroombgQ) {
            break;
         }
      } while (defaultroombgQ && (dycreatorN.length == half7.size));
      for (let q = 0; q < 2; q++) {
         dycreatorN.push(smallsoundw.size - dycreatorN.length);
      }
         dycreatorN.push(smallsoundw.size | dycreatorN.length);
         half7 = new Map([[`${smallsoundw.size}`, smallsoundw.size << (Math.min(dycreatorN.length, 2))]]);
         smallsoundw = new Map([[`${half7.size}`, 2]]);
      middleA += hnewsshare7.size;
   if (2 >= (predictionwiny.length >> (Math.min(Math.abs(2), 4)))) {
       let rocketS: Array<any> = [231, 300];
       let redscoreballW = 3.0;
       let mbsplashG = 1;
       let hometeamfieldl = 3.0;
      for (let l = 0; l < 1; l++) {
         redscoreballW *= mbsplashG;
      }
      if ((rocketS.length + mbsplashG) > 4) {
         rocketS = [2];
      }
         redscoreballW += mbsplashG;
      while ((4 ^ rocketS.length) < 3 && 4 < (mbsplashG ^ rocketS.length)) {
          let yellowtoredT = 5;
          let imagenomoredatak = String.fromCharCode(98,97,110,110,101,114,95,49,95,53,54,0);
         rocketS = [imagenomoredatak.length];
         yellowtoredT *= yellowtoredT;
         imagenomoredatak = `${1 * yellowtoredT}`;
         break;
      }
      for (let f = 0; f < 3; f++) {
         redscoreballW /= Math.max(rocketS.length << (Math.min(3, Math.abs(parseInt(`${hometeamfieldl}`)))), 4);
      }
         redscoreballW += 3;
         redscoreballW /= Math.max(4, parseInt(`${hometeamfieldl}`));
      while ((rocketS.length - mbsplashG) < 1 || (1 - rocketS.length) < 2) {
         mbsplashG %= Math.max(2, 2);
         break;
      }
      chinaZ.set(`${winds.length}`, 2 | hnewsshare7.size);
   }
   let iconsharefriendsZ = chinaZ.size <= 8717410;
   do {
      chinaZ = new Map([[`${chinaZ.size}`, 1 << (Math.min(5, Math.abs(chinaZ.size)))]]);
      if (iconsharefriendsZ) {
         break;
      }
   } while (iconsharefriendsZ && (chinaZ.size >= 4));
      commentB.push(1);
   for (let k = 0; k < 3; k++) {
       let redgoalk = 3.0;
       let giftd: Array<any> = [292, 302, 187];
       let mapbufferl = String.fromCharCode(112,114,101,97,108,108,111,99,95,102,95,49,0);
       let eyeopena: Map<any, any> = new Map([[String.fromCharCode(121,95,51,53,95,104,97,110,103,117,112,0),true ], [String.fromCharCode(119,104,105,99,104,95,117,95,55,51,0),false ], [String.fromCharCode(100,109,97,99,95,121,95,54,52,0),false ]]);
       let basketballawayteamF = 3.0;
      let manifestA = giftd.length >= 5213231;
      do {
         giftd = [mapbufferl.length];
         if (manifestA) {
            break;
         }
      } while (manifestA && (Array.from(eyeopena.values()).includes(giftd.length)));
       let countdownX = 5.0;
          let mutedG = String.fromCharCode(99,111,110,115,116,114,117,99,116,111,114,109,97,103,105,99,95,53,95,54,57,0);
          let middlesoundj: Map<any, any> = new Map([[String.fromCharCode(116,105,112,115,95,53,95,57,53,0),String.fromCharCode(109,111,118,101,110,99,95,102,95,49,48,0)], [String.fromCharCode(112,117,108,108,95,106,95,49,48,48,0),String.fromCharCode(115,95,54,51,95,115,112,101,101,100,0)]]);
          let rulesq: Array<any> = [329, 868, 151];
         redgoalk *= 2;
         mutedG = `${middlesoundj.size}`;
         middlesoundj = new Map([[`${middlesoundj.size}`, rulesq.length * middlesoundj.size]]);
         rulesq.push((String.fromCharCode(102,0) == mutedG ? rulesq.length : mutedG.length));
      for (let d = 0; d < 1; d++) {
         mapbufferl = `${eyeopena.size}`;
      }
      if (2 > (eyeopena.size | 1) && (giftd.length | eyeopena.size) > 1) {
          let reactnativeultimatelistviewd = 4.0;
         eyeopena.set(`${basketballawayteamF}`, 3);
         reactnativeultimatelistviewd /= Math.max(1 & parseInt(`${reactnativeultimatelistviewd}`), 1);
      }
      for (let d = 0; d < 1; d++) {
          let collectionb = 3.0;
          let chatroombackgroundG = 5.0;
         mapbufferl = `${parseInt(`${basketballawayteamF}`)}`;
         collectionb /= Math.max(parseInt(`${chatroombackgroundG}`), 3);
      }
         mapbufferl = "3";
         redgoalk -= eyeopena.size << (Math.min(5, Math.abs(parseInt(`${redgoalk}`))));
      while (3.2 < (countdownX / (Math.max(redgoalk, 3))) && (3.2 / (Math.max(2, countdownX))) < 5.50) {
         redgoalk /= Math.max(4, parseInt(`${countdownX}`) >> (Math.min(mapbufferl.length, 5)));
         break;
      }
      let snewinterstitialp = 8147016.0 >= redgoalk;
      do {
          let profilepicf = String.fromCharCode(100,101,108,105,118,101,114,121,95,52,95,49,57,0);
          let homeV = 4;
         redgoalk += profilepicf.length + 2;
         profilepicf = `${homeV}`;
         if (snewinterstitialp) {
            break;
         }
      } while (snewinterstitialp && ((basketballawayteamF - redgoalk) == 4.64 || 3.3 == (4.64 - redgoalk)));
         countdownX -= parseInt(`${redgoalk}`);
          let back9 = 1.0;
          let penalty5 = 0.0;
          let with_iyR: Map<any, any> = new Map([[String.fromCharCode(98,95,49,56,95,115,112,101,99,105,102,105,99,0),734], [String.fromCharCode(101,110,99,97,112,115,117,108,97,116,101,100,95,102,95,56,52,0),453], [String.fromCharCode(108,95,51,55,95,115,111,108,105,100,105,116,121,0),549]]);
         countdownX += with_iyR.size;
         back9 /= Math.max(4, parseFloat(`${parseInt(`${penalty5}`)}`));
         penalty5 -= parseFloat(`${parseInt(`${back9}`) << (Math.min(Math.abs(parseInt(`${penalty5}`)), 2))}`);
         with_iyR.set(`${back9}`, parseInt(`${penalty5}`) - parseInt(`${back9}`));
      let pathv = mapbufferl == String.fromCharCode(115,113,111,115,0);
      do {
         mapbufferl += `${eyeopena.size}`;
         if (pathv) {
            break;
         }
      } while ((!mapbufferl.startsWith(`${giftd.length}`)) && pathv);
         countdownX += parseInt(`${basketballawayteamF}`) ^ mapbufferl.length;
      let libaneQ = 6653658 <= mapbufferl.length;
      do {
         mapbufferl += `${parseInt(`${redgoalk}`)}`;
         if (libaneQ) {
            break;
         }
      } while (libaneQ && ((basketballawayteamF + parseFloat(`${mapbufferl.length}`)) > 5.66));
      filledA <<= Math.min(5, Math.abs(parseInt(`${basketballawayteamF}`) * 2));
   }
      filledn = `${filledA}`;
      wawa_dacccfaabfbcbadeebddcabacdffdbc_video.playlistTopicsClickAnalytics({
        topic_id: playlist.topic_id.toString(),
        topic_name: playlist.topic_name,
      });
    }
  }, [playlist]);
  

  return (
    <>
      <ScreenContainer>
        <TitleWithBackButtonHeader
          title={playlist?.topic_name}
          headerStyle={{ marginBottom: spacing.s }}
        />
        {playlist && (
          <View style={{ gap: spacing.s, paddingBottom: 230 }}>
            <View style={styles.header}>
              <Text
                numberOfLines={3}
                style={{
                  ...textVariants.small,
                  color: colors.text,
                  flex: 1,
                  marginRight: spacing.l,
                }}
              >
                {playlist?.topic_blurb}
              </Text>
              <FavoritePlaylistButton playlist={playlist} />
            </View>
            <Text
              style={{
                ...textVariants.small,
              }}
            >{`(共${playlist.vod_list.length}部)`}</Text>
            <VodWithDescriptionList
              vodList={playlist.vod_list}
              onClickCatalogVideo={onClickCatalogVideo}
            />
          </View>
        )}
      </ScreenContainer>
    </>
  );
};

const styles = StyleSheet.create({
  header: {
    display: "flex",
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "space-between",
  },
});
