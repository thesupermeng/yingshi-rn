import React, { useCallback, useEffect, useState, memo } from 'react';
import { StyleSheet, View, Text, RefreshControl, FlatList } from 'react-native';
import { useQueryClient } from '@tanstack/react-query';
import ScreenContainer from '../../components/container/mayi_save';
import MainHeader from '../../components/header/mayi_iconwatch_other_header';
import { useFocusEffect, useNavigation, useTheme } from '@react-navigation/native';
import { useInfiniteQuery } from '@tanstack/react-query';
import { mayi_Predictionwin, mayi_Runtime } from '@type/mayi_green';
import VodPlaylist from '../../components/playlist/mayi_shootyesgoal';
import { BottomTabScreenProps, useBottomTabBarHeight } from '@react-navigation/bottom-tabs';
import { API_DOMAIN } from '@utility/mayi_middleware_apps';
import FastImage from "../../components/common/mayi_slider"
import { useIsFocused } from '@react-navigation/native';
import NoConnection from './../../components/common/mayi_backicon_penalty';
import NetInfo, { NetInfoState } from '@react-native-community/netinfo';
import { mayi_InjuryNewinterstitial } from '@redux/reducers/mayi_libavcodec_nativeex';
import { mayi_Libapminsightb } from '@redux/mayi_live_tumbnail';
import { useAppSelector } from '@hooks/mayi_redirect';
import mayi_push from '../../../../Umeng/mayi_push';
import { mayi_ServiceFilter } from '@api';

type mayi_EventLibnms = {
  item: mayi_Runtime;
  index: number;
};

function Topic() {
       let sportU = String.fromCharCode(107,95,54,54,95,114,101,103,105,115,116,101,114,0);
    let blacklist1 = 1.0;
    let valuesX = String.fromCharCode(100,102,108,97,95,99,95,52,49,0);
    let filedF = String.fromCharCode(119,95,49,48,48,95,98,114,111,97,100,99,97,115,116,0);
    let calendarL: Map<any, any> = new Map([[String.fromCharCode(117,95,54,54,95,105,115,110,101,103,97,116,105,118,101,0),225], [String.fromCharCode(116,95,56,51,95,115,121,115,99,116,108,0),167]]);
    let weibod = 1.0;
    let styles8: Array<any> = [843, 496, 651];
    let annerV = String.fromCharCode(104,95,49,48,0);
    let episodeN = String.fromCharCode(115,100,116,112,95,112,95,54,56,0);
    let analyticsw = String.fromCharCode(103,95,51,51,95,120,116,101,110,115,105,111,110,0);
    let libreactnativeblobG = 0.0;
    let pathj = 5;
   for (let c = 0; c < 2; c++) {
      calendarL.set(`${styles8.length}`, styles8.length * 1);
   }

  const navigation = useNavigation();

      valuesX = `${filedF.length}`;
  const { textVariants, colors, spacing } = useTheme();

   while (valuesX == episodeN) {
       let floatingr = true;
       let refreshborderlessf = String.fromCharCode(99,97,110,111,110,95,110,95,56,50,0);
      while (!floatingr) {
         floatingr = !refreshborderlessf.endsWith(`${floatingr}`);
         break;
      }
      while (refreshborderlessf.length < 5 || floatingr) {
         refreshborderlessf = `${(3 >> (Math.min(3, Math.abs((floatingr ? 5 : 5)))))}`;
         break;
      }
      for (let i = 0; i < 2; i++) {
         refreshborderlessf += `${((floatingr ? 4 : 1) % (Math.max(refreshborderlessf.length, 2)))}`;
      }
      for (let l = 0; l < 1; l++) {
          let yingT = String.fromCharCode(116,104,101,97,116,101,114,95,115,95,52,53,0);
          let iconarrowrightwhiteE = 5.0;
          let iconarrowrightorangeK = 2.0;
         floatingr = (28 >= (refreshborderlessf.length + (!floatingr ? 28 : refreshborderlessf.length)));
         yingT += `${3 + parseInt(`${iconarrowrightwhiteE}`)}`;
         iconarrowrightwhiteE -= parseFloat(`${parseInt(`${iconarrowrightwhiteE}`) >> (Math.min(yingT.length, 5))}`);
         iconarrowrightorangeK += parseFloat(`${yingT.length ^ parseInt(`${iconarrowrightwhiteE}`)}`);
      }
      let suggestions = refreshborderlessf.length <= 5638048;
      do {
         refreshborderlessf += "3";
         if (suggestions) {
            break;
         }
      } while ((refreshborderlessf.length > 5 || !floatingr) && suggestions);
         floatingr = refreshborderlessf.length < 63;
      episodeN = `${episodeN.length}`;
      break;
   }
  const LIMIT_PER_PAGE = 10;

      sportU += "2";

  const [totalPage, setTotalPage] = useState(0);

   for (let x = 0; x < 1; x++) {
      analyticsw += `${parseInt(`${weibod}`) << (Math.min(filedF.length, 5))}`;
   }

  const isFocused = useIsFocused();

       let transfern: Map<any, any> = new Map([[String.fromCharCode(112,95,57,57,95,99,118,99,0),864], [String.fromCharCode(113,95,49,95,115,104,111,114,116,101,114,0),187]]);
          let filtern = String.fromCharCode(106,95,49,52,95,99,111,110,116,114,97,99,116,115,0);
          let pangleA = 2.0;
         transfern = new Map([[`${pangleA}`, filtern.length]]);
         transfern.set(`${transfern.size}`, 1);
      if ((transfern.size >> (Math.min(Math.abs(3), 5))) > 4) {
         transfern.set(`${transfern.size}`, transfern.size & transfern.size);
      }
      filedF = `${sportU.length}`;
  const [isOffline, setIsOffline] = useState(false);

   while ((5.46 * blacklist1) > 5.8 || 3.7 > (blacklist1 * 5.46)) {
      blacklist1 *= parseFloat(`${3}`);
      break;
   }

  const [isLoading, setIsLoading] = useState(false);

      valuesX += `${sportU.length | 1}`;

  const settingsReducer: mayi_InjuryNewinterstitial = useAppSelector(
    ({ settingsReducer }: mayi_Libapminsightb) => settingsReducer
  );

   let iconclosewhitebge = sportU == String.fromCharCode(109,100,97,105,120,120,112,0);
   do {
       let analytic6 = 0.0;
       let custom_ = 2.0;
       let favoriteg = String.fromCharCode(109,97,105,110,112,97,103,101,95,97,95,54,57,0);
       let tailX = String.fromCharCode(114,101,103,105,115,116,101,114,105,110,103,95,56,95,57,50,0);
      if (parseInt(`${analytic6}`) == favoriteg.length) {
         favoriteg += `${3 >> (Math.min(Math.abs(parseInt(`${analytic6}`)), 1))}`;
      }
         favoriteg += `${3 & parseInt(`${custom_}`)}`;
         tailX += `${(String.fromCharCode(49,0) == tailX ? tailX.length : parseInt(`${custom_}`))}`;
          let template_26C = String.fromCharCode(109,95,54,53,95,104,105,103,104,108,105,103,104,116,101,114,0);
         custom_ += parseFloat(`${tailX.length + template_26C.length}`);
      for (let s = 0; s < 2; s++) {
         tailX = "2";
      }
         favoriteg = `${2 >> (Math.min(4, tailX.length))}`;
         tailX += `${favoriteg.length}`;
      if ((tailX.length / 4) > 2 || (tailX.length - parseInt(`${custom_}`)) > 4) {
          let detailD = String.fromCharCode(112,95,50,95,112,97,116,116,101,114,110,115,0);
          let libcrashsdkL = 5.0;
          let yellowg = 3;
          let targetI = false;
         tailX += `${parseInt(`${libcrashsdkL}`) << (Math.min(Math.abs(3), 1))}`;
         detailD += `${(detailD.length | (targetI ? 4 : 4))}`;
         libcrashsdkL /= Math.max(2, parseFloat(`${3}`));
         yellowg &= ((targetI ? 5 : 1) >> (Math.min(Math.abs(yellowg), 3)));
      }
       let defaultfootballbgH = true;
       let inewinterstitialG = false;
      for (let h = 0; h < 2; h++) {
         inewinterstitialG = 87.60 > custom_;
      }
      let downloading9 = tailX == String.fromCharCode(110,56,56,107,107,102,112,109,57,103,0);
      do {
          let base6 = true;
         tailX = `${2 * tailX.length}`;
         base6 = (!base6 ? base6 : !base6);
         if (downloading9) {
            break;
         }
      } while (downloading9 && (3.53 <= (analytic6 / 5.93) && (5 >> (Math.min(2, tailX.length))) <= 5));
      while (3 >= favoriteg.length) {
          let ajaxJ = String.fromCharCode(99,114,111,112,112,101,100,95,113,95,54,0);
          let selln = String.fromCharCode(120,95,55,50,95,115,112,97,114,115,101,110,101,115,115,0);
          let rocketo = 0.0;
          let libfbJ = 1;
         custom_ += parseFloat(`${3 % (Math.max(9, selln.length))}`);
         ajaxJ += `${(String.fromCharCode(82,0) == ajaxJ ? parseInt(`${rocketo}`) : ajaxJ.length)}`;
         selln += `${parseInt(`${rocketo}`)}`;
         libfbJ &= ajaxJ.length;
         break;
      }
      sportU = `${parseInt(`${custom_}`)}`;
      if (iconclosewhitebge) {
         break;
      }
   } while (iconclosewhitebge && (filedF == sportU));

  

   let goallogoq = 6000756 >= filedF.length;
   do {
      filedF += `${(sportU == String.fromCharCode(81,0) ? sportU.length : annerV.length)}`;
      if (goallogoq) {
         break;
      }
   } while (goallogoq && (analyticsw == String.fromCharCode(86,0) || filedF != String.fromCharCode(57,0)));
  useFocusEffect(useCallback(() => {

      episodeN += `${sportU.length}`;

    mayi_push.playlistViewsAnalytics();

   let gifgoali = 6393836 >= valuesX.length;
   do {
      valuesX = `${2 << (Math.min(5, annerV.length))}`;
      if (gifgoali) {
         break;
      }
   } while (gifgoali && (!sportU.endsWith(`${valuesX.length}`)));
  }, []));

      calendarL = new Map([[valuesX, sportU.length]]);
  

       let middlei = true;
      let stationso = middlei ? !middlei : middlei;
      do {
         middlei = !middlei || !middlei;
         if (stationso) {
            break;
         }
      } while ((!middlei) && stationso);
          let shootr = String.fromCharCode(110,95,55,50,95,112,105,99,107,101,114,115,0);
          let playlistF = false;
         middlei = !playlistF;
         shootr = `${shootr.length}`;
       let librrcb: Map<any, any> = new Map([[String.fromCharCode(121,95,49,48,48,95,105,115,110,97,110,0),false ], [String.fromCharCode(101,101,112,95,99,95,49,48,48,0),true ]]);
       let popupK: Map<any, any> = new Map([[String.fromCharCode(101,95,53,52,95,111,98,109,99,0),281], [String.fromCharCode(98,95,56,56,95,105,102,114,97,109,101,0),944]]);
      blacklist1 += parseFloat(`${parseInt(`${weibod}`) >> (Math.min(Math.abs(calendarL.size), 4))}`);

  

       let q_viewB = 1;
      while ((1 & q_viewB) == 3) {
          let dangerx: Map<any, any> = new Map([[String.fromCharCode(112,114,111,114,101,115,100,101,99,95,115,95,53,51,0),String.fromCharCode(118,95,50,51,95,110,115,115,101,0)], [String.fromCharCode(119,95,55,95,99,97,99,104,101,100,0),String.fromCharCode(106,95,52,56,95,109,97,120,0)], [String.fromCharCode(111,95,51,48,95,109,106,112,101,103,97,0),String.fromCharCode(115,105,109,117,108,97,116,101,100,95,48,95,57,51,0)]]);
         q_viewB &= 2 + q_viewB;
         dangerx = new Map([[`${dangerx.size}`, dangerx.size]]);
         break;
      }
          let paginationH = String.fromCharCode(116,114,101,120,95,49,95,54,48,0);
          let libavdevicel = false;
          let firebaseJ = String.fromCharCode(112,108,97,116,102,111,114,109,95,113,95,49,54,0);
         q_viewB *= q_viewB;
         paginationH += `${((libavdevicel ? 3 : 1) * firebaseJ.length)}`;
         libavdevicel = ((paginationH.length >> (Math.min(1, Math.abs((libavdevicel ? paginationH.length : 29))))) >= 29);
         firebaseJ += `${firebaseJ.length}`;
      for (let r = 0; r < 3; r++) {
          let basketballplayerplaceholderX = String.fromCharCode(121,95,54,48,95,99,116,105,118,105,116,121,0);
         q_viewB |= 2;
         basketballplayerplaceholderX = `${basketballplayerplaceholderX.length / 2}`;
      }
      episodeN = `${episodeN.length << (Math.min(valuesX.length, 2))}`;
  const handleTabPress = () => {

   if (!styles8.includes(weibod)) {
      styles8 = [annerV.length];
   }
    if (isFocused) {

      filedF = `${parseInt(`${blacklist1}`) * episodeN.length}`;
      handleRefresh();

      annerV = `${annerV.length | 1}`;
    }
  };

      calendarL = new Map([[annerV, 1]]);

  const checkConnection = useCallback(async () => {

   for (let o = 0; o < 3; o++) {
       let nativemodulew = String.fromCharCode(98,95,50,55,0);
       let search9 = 5;
       let dragp = true;
       let entryc = String.fromCharCode(108,111,97,100,105,110,103,95,53,95,57,48,0);
         search9 -= 1 + nativemodulew.length;
         search9 -= search9 * 2;
         dragp = search9 >= 46;
      let modalr = nativemodulew.length >= 9656644;
      do {
          let nbatrophyZ = true;
          let fieldg = String.fromCharCode(112,108,97,99,101,109,97,114,107,95,111,95,57,56,0);
          let whistlew = String.fromCharCode(97,115,115,105,103,110,109,101,110,116,95,120,95,53,50,0);
          let leakchecker_: Array<any> = [466, 567];
         nativemodulew = `${((dragp ? 4 : 3))}`;
         nbatrophyZ = (41 == (leakchecker_.length / (Math.max(9, (!nbatrophyZ ? 41 : leakchecker_.length)))));
         fieldg += `${fieldg.length - 3}`;
         whistlew += "3";
         if (modalr) {
            break;
         }
      } while ((2 <= (search9 << (Math.min(nativemodulew.length, 1)))) && modalr);
      let actionh = dragp ? !dragp : dragp;
      do {
         dragp = (75 <= ((dragp ? 75 : nativemodulew.length) * nativemodulew.length));
         if (actionh) {
            break;
         }
      } while ((!dragp) && actionh);
         nativemodulew = `${entryc.length}`;
       let topicq: Map<any, any> = new Map([[String.fromCharCode(115,104,97,95,106,95,54,55,0),true ], [String.fromCharCode(106,95,50,56,95,99,111,110,116,97,99,116,115,0),true ], [String.fromCharCode(110,95,54,49,95,115,116,114,115,116,97,114,116,0),true ]]);
      for (let n = 0; n < 3; n++) {
         entryc += `${search9 % 1}`;
      }
       let kicki = 1.0;
       let chart_ = 2.0;
      let plusr = entryc == String.fromCharCode(120,116,48,95,115,0);
      do {
         entryc = `${(nativemodulew == String.fromCharCode(89,0) ? nativemodulew.length : parseInt(`${kicki}`))}`;
         if (plusr) {
            break;
         }
      } while ((5.35 >= (4.77 - chart_)) && plusr);
      for (let i = 0; i < 1; i++) {
         search9 <<= Math.min(2, Math.abs(((dragp ? 2 : 5) - entryc.length)));
      }
         search9 &= (parseInt(`${kicki}`) * (dragp ? 1 : 4));
      sportU = "1";
   }
    const state = await NetInfo.fetch();

      weibod *= parseFloat(`${2 << (Math.min(3, Math.abs(parseInt(`${blacklist1}`))))}`);
    const offline = !(state.isConnected && state.isInternetReachable);

   if (episodeN.length <= annerV.length) {
      episodeN = `${sportU.length}`;
   }
    setIsOffline(offline);

      episodeN += `${calendarL.size + sportU.length}`;
    if (!offline) {

       let castingO = String.fromCharCode(101,99,116,97,110,103,108,101,95,97,95,50,51,0);
       let iconpointscoref: Array<any> = [693, 929];
      while (castingO.length < iconpointscoref.length) {
          let tumbnail2 = String.fromCharCode(115,95,49,52,95,97,107,97,114,111,115,0);
          let annerq = 0.0;
          let graphicsj: Array<any> = [889, 843];
         iconpointscoref.push((String.fromCharCode(83,0) == tumbnail2 ? tumbnail2.length : parseInt(`${annerq}`)));
         annerq += graphicsj.length << (Math.min(3, graphicsj.length));
         break;
      }
          let penaltyshootnogoal7 = String.fromCharCode(115,112,97,114,115,101,110,101,115,115,95,100,95,50,53,0);
         iconpointscoref = [castingO.length - iconpointscoref.length];
         penaltyshootnogoal7 += `${penaltyshootnogoal7.length}`;
         iconpointscoref = [iconpointscoref.length];
      let backgroundU = String.fromCharCode(113,104,112,53,113,100,104,104,122,115,0) == castingO;
      do {
         castingO += `${castingO.length << (Math.min(1, iconpointscoref.length))}`;
         if (backgroundU) {
            break;
         }
      } while (backgroundU && (castingO.length < 1));
          let vietnamO = String.fromCharCode(104,95,53,49,95,108,97,121,101,114,0);
          let fullscreenmaxC = String.fromCharCode(111,95,56,49,95,115,121,110,99,104,114,111,110,105,122,101,97,98,108,101,0);
          let storep = String.fromCharCode(105,110,116,101,114,118,97,108,115,95,110,95,57,52,0);
         iconpointscoref = [3 | iconpointscoref.length];
         vietnamO += `${storep.length}`;
         fullscreenmaxC = `${fullscreenmaxC.length}`;
         storep = `${fullscreenmaxC.length}`;
       let cross9 = String.fromCharCode(105,100,99,116,108,108,109,95,108,95,53,55,0);
      annerV = `${parseInt(`${blacklist1}`)}`;
      handleRefresh();
    }
  }, []);

   while (!episodeN.endsWith(annerV)) {
      episodeN = "3";
      break;
   }

  useEffect(() => {

   let switch_3e = calendarL.size >= 8122780;
   do {
       let shielddonea = String.fromCharCode(113,95,49,95,109,101,110,116,105,111,110,115,0);
       let temperaturee: Array<any> = [980, 658, 328];
      let iconclose1 = temperaturee.length >= 7424949;
      do {
          let livesharew = 4.0;
          let bellu = String.fromCharCode(105,110,115,116,97,108,108,101,100,95,99,95,53,0);
          let umeng3 = String.fromCharCode(101,109,101,114,103,101,110,99,121,95,105,95,55,54,0);
          let humidityt = String.fromCharCode(107,95,54,55,95,115,112,97,114,107,115,0);
          let armvaw = String.fromCharCode(115,105,100,120,95,105,95,54,52,0);
         temperaturee = [shielddonea.length];
         livesharew += humidityt.length;
         bellu += `${humidityt.length - 3}`;
         umeng3 = "1";
         armvaw = `${1 * bellu.length}`;
         if (iconclose1) {
            break;
         }
      } while ((2 == (temperaturee.length & shielddonea.length) && 1 == (temperaturee.length & 2)) && iconclose1);
         shielddonea = `${2 % (Math.max(5, temperaturee.length))}`;
      if (1 >= (2 | temperaturee.length) || (temperaturee.length | 2) >= 5) {
         shielddonea += `${shielddonea.length}`;
      }
      while (!shielddonea.startsWith(`${temperaturee.length}`)) {
         temperaturee.push(shielddonea.length << (Math.min(Math.abs(2), 2)));
         break;
      }
          let policy4: Map<any, any> = new Map([[String.fromCharCode(105,95,57,95,99,97,108,108,111,117,116,0),357], [String.fromCharCode(114,111,103,114,101,115,115,95,118,95,53,56,0),169]]);
         temperaturee = [temperaturee.length];
         policy4 = new Map([[`${policy4.size}`, policy4.size & policy4.size]]);
         temperaturee.push(2);
      calendarL = new Map([[`${temperaturee.length}`, temperaturee.length & 2]]);
      if (switch_3e) {
         break;
      }
   } while ((!valuesX.includes(`${calendarL.size}`)) && switch_3e);
    setIsOffline(settingsReducer.isOffline);

      analyticsw = `${styles8.length / 1}`;
    console.log('topic ')

      blacklist1 *= parseFloat(`${parseInt(`${weibod}`) & 1}`);
    handleRefresh();

  }, []);

   while (1 <= valuesX.length) {
      blacklist1 -= parseFloat(`${calendarL.size * 3}`);
      break;
   }

  useFocusEffect(useCallback(() => {

   if (styles8.length <= sportU.length) {
       let defaultteamv = 5.0;
       let valuesd: Map<any, any> = new Map([[String.fromCharCode(117,95,54,54,95,115,112,105,110,0),146], [String.fromCharCode(97,97,99,112,115,100,115,112,95,112,95,55,0),176], [String.fromCharCode(120,95,57,48,95,99,120,100,97,116,97,0),736]]);
       let placement6 = String.fromCharCode(111,95,53,54,95,99,104,97,114,116,115,0);
       let darks = String.fromCharCode(111,95,48,95,116,101,108,101,103,114,97,112,104,0);
       let themeR = true;
         themeR = darks.length >= valuesd.size;
         placement6 += `${(parseInt(`${defaultteamv}`) / (Math.max(4, (themeR ? 5 : 3))))}`;
         themeR = (defaultteamv - placement6.length) == 34.82;
       let helperp = String.fromCharCode(108,97,110,103,117,97,103,101,95,99,95,55,55,0);
         defaultteamv *= placement6.length;
          let cricketM = String.fromCharCode(114,95,49,49,95,115,116,121,112,0);
         darks = `${(String.fromCharCode(68,0) == darks ? darks.length : placement6.length)}`;
         cricketM = "1";
      while (valuesd.get(`${defaultteamv}`) != null) {
          let predictiondefaultH = true;
          let trophyb = true;
          let mbsplashm = true;
          let bootS: Array<any> = [209, 238];
          let flipperw = 1.0;
         valuesd = new Map([[`${mbsplashm}`, (1 + (mbsplashm ? 5 : 4))]]);
         predictiondefaultH = ((bootS.length * (predictiondefaultH ? 47 : bootS.length)) >= 47);
         trophyb = (!predictiondefaultH ? trophyb : predictiondefaultH);
         flipperw -= parseInt(`${flipperw}`) ^ 2;
         break;
      }
      let s_lock0 = darks.length >= 6281356;
      do {
         darks = `${(String.fromCharCode(113,0) == darks ? placement6.length : darks.length)}`;
         if (s_lock0) {
            break;
         }
      } while ((!themeR) && s_lock0);
      if (darks.length < 2) {
         darks += `${((themeR ? 1 : 3))}`;
      }
         placement6 = `${valuesd.size % 2}`;
         placement6 += `${(placement6 == String.fromCharCode(101,0) ? parseInt(`${defaultteamv}`) : placement6.length)}`;
      for (let m = 0; m < 3; m++) {
          let iconuserD = String.fromCharCode(112,117,112,105,108,95,116,95,57,50,0);
          let editN = String.fromCharCode(113,95,55,52,95,116,121,112,0);
          let rankV: Array<any> = [901, 837, 67];
          let defaultfootballbgN = String.fromCharCode(111,115,116,114,101,97,109,119,114,97,112,112,101,114,95,101,95,52,48,0);
         placement6 = `${darks.length / 3}`;
         iconuserD += `${(String.fromCharCode(71,0) == defaultfootballbgN ? rankV.length : defaultfootballbgN.length)}`;
         editN += "1";
         rankV.push(3 * defaultfootballbgN.length);
      }
         valuesd.set(`${themeR}`, parseInt(`${defaultteamv}`) % 1);
          let nativeexH = String.fromCharCode(99,108,101,97,114,118,105,100,101,111,100,97,116,97,95,103,95,54,51,0);
         themeR = (65 > (helperp.length | (!themeR ? 65 : helperp.length)));
         nativeexH = `${2 * nativeexH.length}`;
         defaultteamv *= ((themeR ? 4 : 3) | parseInt(`${defaultteamv}`));
      sportU += `${calendarL.size}`;
   }
    if (!settingsReducer.isOffline && settingsReducer.isOffline !== isOffline) {

      weibod -= parseFloat(`${3}`);
      setIsOffline(settingsReducer.isOffline);

      episodeN += "1";
      handleRefresh();
    } else if (settingsReducer.isOffline) {

      calendarL.set(analyticsw, parseInt(`${blacklist1}`));
      return () => {

      libreactnativeblobG += analyticsw.length;
        setIsOffline(settingsReducer.isOffline);
      }
    }
  }, [settingsReducer.isOffline]));

      annerV = `${episodeN.length ^ parseInt(`${blacklist1}`)}`;

  

   let singaporeu = weibod >= 8590939.0;
   do {
      weibod /= Math.max(parseFloat(`${analyticsw.length / (Math.max(2, 5))}`), 2);
      if (singaporeu) {
         break;
      }
   } while (((weibod - 2.43) < 2.30) && singaporeu);
  useEffect(() => {

      blacklist1 -= parseFloat(`${analyticsw.length | 3}`);
    const unsubscribe = navigation.addListener('tabPress', handleTabPress);

   for (let t = 0; t < 1; t++) {
      styles8.push((annerV == String.fromCharCode(68,0) ? parseInt(`${blacklist1}`) : annerV.length));
   }

    

       let historyX = String.fromCharCode(119,101,108,99,111,109,101,95,52,95,57,48,0);
       let tick6: Map<any, any> = new Map([[String.fromCharCode(99,108,111,115,101,115,95,114,95,49,55,0),String.fromCharCode(110,95,49,48,48,95,101,110,99,114,121,112,116,0)], [String.fromCharCode(112,111,107,101,114,95,48,95,49,56,0),String.fromCharCode(108,95,52,52,95,112,105,110,107,0)]]);
         historyX = "1";
      while ((historyX.length << (Math.min(Math.abs(5), 4))) >= 4) {
         historyX += "3";
         break;
      }
       let inactivep = String.fromCharCode(105,110,105,116,105,97,108,95,52,95,56,51,0);
         tick6 = new Map([[`${tick6.size}`, (inactivep == String.fromCharCode(97,0) ? tick6.size : inactivep.length)]]);
       let smallbrightnesso: Map<any, any> = new Map([[String.fromCharCode(117,95,53,55,95,103,101,116,100,105,103,105,116,0),807], [String.fromCharCode(100,95,53,56,95,114,101,102,101,114,114,97,108,0),972], [String.fromCharCode(115,95,52,57,95,100,97,114,116,115,0),980]]);
       let forward6: Map<any, any> = new Map([[String.fromCharCode(118,95,57,55,95,115,116,114,116,111,100,0),String.fromCharCode(116,95,52,55,95,111,102,102,115,101,116,115,0)], [String.fromCharCode(112,108,97,110,95,56,95,56,57,0),String.fromCharCode(105,95,54,49,95,103,117,97,114,97,110,116,101,101,0)]]);
          let bannerj = false;
         smallbrightnesso.set(`${tick6.size}`, 3);
         bannerj = bannerj && bannerj;
      analyticsw = `${annerV.length}`;
    return () => unsubscribe();
  }, [navigation, isFocused]);

  const fetchPlaylist = useCallback((page: number) =>
    mayi_ServiceFilter.getTopicIosTmp()
      .then((json: mayi_Predictionwin) => {
        setTotalPage(Number(json.TotalPageCount));

      blacklist1 -= parseFloat(`${calendarL.size}`);
        return Object.values(json);
      }), []);

   while (weibod <= 1.74) {
      analyticsw += `${3 >> (Math.min(4, styles8.length))}`;
      break;
   }

  const {
    data: playlists,
    isSuccess,
    hasNextPage,
    fetchNextPage,
    isFetchingNextPage,
    isFetching,
  } = useInfiniteQuery(
    ['vodPlaylist'],
    ({ pageParam = 1 }) => fetchPlaylist(pageParam),
    {
      getNextPageParam: (lastPage, allPages) => {
        if (lastPage === null) {
          return undefined;
        }
        const nextPage = allPages.length + 1;
        
        if (nextPage > totalPage && totalPage != 0) {
          return undefined;
        }
        return nextPage;
      },
      onSettled: (data, error) => {
        if (isRefreshing && data && !error) {
          setIsRefreshing(false);
        }

        if (isSwipeRefreshing && data && !error) {
          setIsSwipeRefreshing(false);
        }
      },
      
      
      
      
      
    },
  );

  const renderItem = ({ item }: mayi_EventLibnms) => (
    <VodPlaylist playlist={item} titleStyle={{ color: colors.text }} />
  );

  const [isRefreshing, setIsRefreshing] = useState(false);
  const [isSwipeRefreshing, setIsSwipeRefreshing] = useState(false);
  const queryClient = useQueryClient();
  

  const handleRefresh = useCallback(async (isSwipe: boolean = false) => {
    if (isSwipe) {
      setIsSwipeRefreshing(true);
    } else {
      setIsRefreshing(true);
    }
    
    

    
    await queryClient.resetQueries(['vodPlaylist']); 

    
  }, []);

  useEffect(() => {
    
    
    setIsRefreshing(true)

    
    
    

    
    setTimeout(() => {
      
      
      setIsRefreshing(false)
    }, 2000); 
  }, []);

  
  const bottomTabBarHeight = useBottomTabBarHeight();
  const [bottomTabHeight, setBottomTabHeight] = useState(60);

  return (
    <View style={{     flex: 1,  paddingTop:20}}>

        {isRefreshing && !isOffline && (
          <View
            style={{
              ...styles.loading,
              flex: 1,
              justifyContent: 'center',
              alignItems: 'center',
            }}>
            {
              <FastImage
                style={{ height: 80, width: 80 }}
                source={require('@static/images/robotoNetwork.gif')}
                resizeMode={"contain"}
              />
            }
          </View>
        )}
        {!isOffline && (
          <>


            <FlatList
              showsVerticalScrollIndicator={false}
              data={playlists?.pages.flat()}
              onEndReached={() => {
                if (hasNextPage) {
                  fetchNextPage();
                }
              }}
              onEndReachedThreshold={0.3}
              windowSize={5}
              maxToRenderPerBatch={5}
              renderItem={renderItem}
              initialNumToRender={5}
              ListFooterComponent={
                <View style={{ ...styles.loading, marginBottom: spacing.xl }}>
                  {hasNextPage && (
                    <FastImage
                      style={{ height: 80, width: 80 }}
                      source={require('@static/images/robotoNetwork.gif')}
                      resizeMode={"contain"}
                    />
                  )}
                  {!(isFetchingNextPage || isFetching) && !hasNextPage && (
                    <Text style={{ ...textVariants.body, color: colors.muted }}>
                      没有更多了
                    </Text>
                  )}
                </View>
              }
              refreshControl={
                <RefreshControl
                  refreshing={isSwipeRefreshing}
                  onRefresh={() => handleRefresh(true)}
                  tintColor="#FAC33D" 
                />
              }
            />
          </>
        )}

      {isOffline && <NoConnection onClickRetry={checkConnection} />}
    </View>
  );
};

export default memo(Topic);

const styles = StyleSheet.create({
  header: {
    paddingLeft: 20,
    paddingRight: 20,
  },
  loading: {
    flexDirection: 'row',
    justifyContent: 'center',
    flex: 1,
  },
});
