import React, { useCallback, useEffect } from "react";
import { View, Text, StyleSheet } from "react-native";
import ScreenContainer from "../../components/container/ww_collection";
import { useTheme } from "@react-navigation/native";
import { useAppSelector } from "@hooks/ww_catagory_neon";
import { wwEighteenShirt } from "@redux/ww_small";
import TitleWithBackButtonHeader from "../../components/header/ww_react_predictionwin_header";
import FavoritePlaylistButton from "../../components/button/ww_downloader_button";
import { RootStackScreenProps } from "@type/ww_tempnodatagif_description";
import VodWithDescriptionList from "../../components/vod/ww_grey";
import ww_runtime from "../../../../Umeng/ww_runtime";

export default ({ navigation }: RootStackScreenProps<"PlaylistDetail">) => {
  const { textVariants, colors, spacing } = useTheme();
  const playlistReducer = useAppSelector(
    ({ vodPlaylistReducer }: wwEighteenShirt) => vodPlaylistReducer
  );
  const playlist = playlistReducer?.playlistDetails?.playlist;

  
  useEffect(() => {
    if (playlist !== null) {
      ww_runtime.playlistTopicsViewsAnalytics({
        topic_id: playlist.topic_id.toString(),
        topic_name: playlist.topic_name,
      });
    }
  }, []);

  const onClickCatalogVideo = useCallback(() => {
       let baselineQ = 5.0;
    let whiteanimationliveK = String.fromCharCode(97,117,116,111,114,101,109,111,118,101,95,115,95,54,49,0);
    let larget = String.fromCharCode(114,101,115,101,116,95,104,95,50,52,0);
    let iconsetting3 = 5.0;
    let libreanimatedX = String.fromCharCode(106,95,50,56,95,115,99,111,112,101,100,0);
    let brightnessW: Array<any> = [621, 354, 190];
    let ksadX = String.fromCharCode(100,101,112,114,101,99,105,97,116,101,100,104,95,117,95,56,54,0);
    let reactB = false;
    let videojsj = 1.0;
    let reactnavigationO = true;
    let rcopy_0x3 = 5.0;
    let zhengpianj: Map<any, any> = new Map([[String.fromCharCode(101,95,56,54,95,104,101,105,99,0),false ], [String.fromCharCode(112,95,50,53,95,100,105,118,105,100,101,114,0),false ]]);
    let bellz = String.fromCharCode(106,95,52,48,95,97,117,116,111,100,101,108,101,116,101,0);
   let nbatrophy8 = 6675126.0 <= iconsetting3;
   do {
      iconsetting3 += larget.length;
      if (nbatrophy8) {
         break;
      }
   } while ((!reactB && 1.71 < (iconsetting3 * 3.26)) && nbatrophy8);
   let internet1 = String.fromCharCode(56,109,115,48,95,97,117,48,97,100,0) == whiteanimationliveK;
   do {
       let bannerW = 4.0;
       let privacyU = 0.0;
       let sendQ = 0;
      if ((parseFloat(`${sendQ}`) * privacyU) == 3.62 && 4.62 == (privacyU * 3.62)) {
         privacyU *= parseFloat(`${1}`);
      }
         bannerW /= Math.max(3, parseInt(`${privacyU}`));
       let tick6 = true;
      while (3.92 == bannerW) {
         tick6 = 96.13 == bannerW;
         break;
      }
          let tramini_: Map<any, any> = new Map([[String.fromCharCode(122,95,56,53,95,100,114,105,118,105,110,103,0),true ], [String.fromCharCode(116,95,56,50,95,112,97,100,100,105,110,103,0),true ], [String.fromCharCode(116,95,54,51,95,98,114,101,97,107,111,117,116,0),false ]]);
         sendQ &= ((tick6 ? 5 : 3) / (Math.max(6, parseInt(`${bannerW}`))));
         tramini_ = new Map([[`${tramini_.size}`, tramini_.size & 2]]);
         sendQ &= 2;
      let leakcheckeri = tick6 ? !tick6 : tick6;
      do {
          let libimagepipeline9 = 4.0;
          let countdownu = 0.0;
          let dialogn: Map<any, any> = new Map([[String.fromCharCode(118,95,49,52,95,102,114,97,99,116,105,111,110,97,108,0),false ], [String.fromCharCode(117,95,56,50,95,103,101,116,102,114,97,109,101,0),false ], [String.fromCharCode(104,95,49,50,95,98,111,114,105,110,103,115,115,108,0),true ]]);
         tick6 = bannerW == 79.38 || sendQ == 35;
         libimagepipeline9 += parseFloat(`${parseInt(`${libimagepipeline9}`)}`);
         countdownu += 1 | dialogn.size;
         dialogn = new Map([[`${dialogn.size}`, 1]]);
         if (leakcheckeri) {
            break;
         }
      } while (leakcheckeri && (!tick6));
      let default_4L = bannerW >= 5065943.0;
      do {
          let bridget: Array<any> = [100, 840, 511];
          let mimo5: Map<any, any> = new Map([[String.fromCharCode(112,101,101,108,95,118,95,53,0),58], [String.fromCharCode(99,95,51,95,109,97,112,115,116,114,105,110,103,0),18], [String.fromCharCode(101,110,117,109,101,114,97,116,105,111,110,95,114,95,52,57,0),489]]);
         bannerW -= 2;
         bridget = [bridget.length];
         mimo5 = new Map([[`${mimo5.size}`, 2 ^ mimo5.size]]);
         if (default_4L) {
            break;
         }
      } while ((2.32 < bannerW) && default_4L);
      let login3 = bannerW <= 5671851.0;
      do {
         bannerW *= 1 & sendQ;
         if (login3) {
            break;
         }
      } while (login3 && (2.8 >= bannerW));
      whiteanimationliveK += `${3 | parseInt(`${bannerW}`)}`;
      if (internet1) {
         break;
      }
   } while (((whiteanimationliveK.length ^ brightnessW.length) >= 4 && (4 ^ whiteanimationliveK.length) >= 5) && internet1);
       let forwardw: Array<any> = [String.fromCharCode(111,110,116,114,111,108,95,118,95,52,54,0), String.fromCharCode(121,95,54,49,95,105,99,101,99,97,115,116,0), String.fromCharCode(98,114,97,110,100,115,95,106,95,53,0)];
       let iconfeedback6: Array<any> = [String.fromCharCode(121,117,118,112,116,111,117,121,118,121,95,53,95,52,52,0), String.fromCharCode(121,95,56,52,95,117,110,112,114,101,109,117,108,116,105,112,108,121,0), String.fromCharCode(100,105,115,99,111,110,110,101,99,116,95,99,95,52,50,0)];
          let greyarrowupO = String.fromCharCode(121,95,51,52,0);
         iconfeedback6 = [iconfeedback6.length];
         greyarrowupO = `${greyarrowupO.length}`;
          let aboutz = String.fromCharCode(115,117,98,116,114,97,99,116,109,111,100,95,55,95,55,50,0);
          let ainit_7o = String.fromCharCode(106,111,105,110,95,117,95,51,50,0);
          let unselectedA: Map<any, any> = new Map([[String.fromCharCode(109,118,115,101,116,95,121,95,55,57,0),692], [String.fromCharCode(120,95,54,49,0),814]]);
         iconfeedback6.push(iconfeedback6.length);
         aboutz = `${aboutz.length}`;
         ainit_7o = `${1 | ainit_7o.length}`;
         unselectedA = new Map([[`${unselectedA.size}`, unselectedA.size * ainit_7o.length]]);
      let filledb = forwardw.length >= 8821013;
      do {
         forwardw.push(forwardw.length);
         if (filledb) {
            break;
         }
      } while ((5 <= (5 << (Math.min(3, iconfeedback6.length))) && 5 <= (forwardw.length << (Math.min(iconfeedback6.length, 1)))) && filledb);
       let homeT: Array<any> = [49, 838];
       let config_: Array<any> = [393, 186];
         iconfeedback6.push(forwardw.length % (Math.max(3, homeT.length)));
          let gpayU = 3.0;
         iconfeedback6.push(3 * iconfeedback6.length);
         gpayU -= parseFloat(`${parseInt(`${gpayU}`) * parseInt(`${gpayU}`)}`);
      videojsj *= 2 * parseInt(`${videojsj}`);
   for (let j = 0; j < 2; j++) {
      iconsetting3 /= Math.max(2, parseInt(`${baselineQ}`));
   }
       let styles5 = 1.0;
       let nalyticso = String.fromCharCode(112,95,49,52,95,118,105,115,105,98,108,105,116,121,0);
         nalyticso = `${parseInt(`${styles5}`)}`;
      while (styles5 <= 4.43) {
          let lineT = String.fromCharCode(104,95,57,53,95,115,105,122,101,108,101,115,115,0);
         nalyticso = `${2 % (Math.max(7, lineT.length))}`;
         break;
      }
      if (3.72 >= (1.5 + styles5)) {
          let dependencyJ = 2.0;
          let iconshareR = String.fromCharCode(99,97,110,111,110,95,107,95,49,56,0);
          let mbbidi = 5.0;
         styles5 -= iconshareR.length;
         dependencyJ += parseInt(`${mbbidi}`) / 1;
         iconshareR = `${parseInt(`${mbbidi}`) % (Math.max(parseInt(`${dependencyJ}`), 6))}`;
      }
      let reducerq = styles5 >= 5396814.0;
      do {
          let macauZ = 4.0;
          let basketballD: Map<any, any> = new Map([[String.fromCharCode(118,111,98,115,117,98,95,57,95,53,56,0),945], [String.fromCharCode(97,115,121,110,99,104,114,111,110,111,117,115,108,121,95,50,95,52,0),944]]);
          let constantsD = String.fromCharCode(118,116,114,107,95,55,95,56,0);
         styles5 *= constantsD.length;
         macauZ += parseFloat(`${parseInt(`${macauZ}`) & 3}`);
         basketballD.set(`${macauZ}`, basketballD.size);
         constantsD += `${parseInt(`${macauZ}`) / 3}`;
         if (reducerq) {
            break;
         }
      } while (reducerq && ((1.56 + styles5) <= 3.72));
      while (2.94 > (nalyticso.length * styles5)) {
          let eighteenM = 1.0;
          let settingc = String.fromCharCode(116,97,103,103,101,100,95,51,95,49,0);
          let iconeditn: Array<any> = [960, 226];
         nalyticso += `${parseInt(`${styles5}`) / 1}`;
         eighteenM /= Math.max(5, 1);
         settingc = `${parseInt(`${eighteenM}`)}`;
         iconeditn.push(iconeditn.length + settingc.length);
         break;
      }
         nalyticso += `${nalyticso.length}`;
      reactB = styles5 == 56.86;
   if (!reactB) {
      ksadX += `${ksadX.length | 2}`;
   }
      larget += `${1 % (Math.max(parseInt(`${baselineQ}`), 6))}`;
      reactnavigationO = ksadX.length == libreanimatedX.length;

    if (playlist !== null) {

       let typingk = String.fromCharCode(97,115,99,101,110,116,95,97,95,57,56,0);
       let libavutilG = true;
      if (libavutilG) {
         libavutilG = typingk.length <= 61;
      }
          let bannerR = String.fromCharCode(120,95,49,57,95,99,104,111,111,115,101,0);
          let final_whL = String.fromCharCode(114,95,54,95,114,101,116,114,121,97,98,108,101,0);
         typingk += `${((libavutilG ? 3 : 1) | 1)}`;
         bannerR += `${bannerR.length & 2}`;
         final_whL += `${bannerR.length}`;
         libavutilG = typingk.startsWith(`${libavutilG}`);
      for (let k = 0; k < 1; k++) {
         libavutilG = (10 == (typingk.length ^ (libavutilG ? 10 : typingk.length)));
      }
      if (!typingk.includes(`${libavutilG}`)) {
          let o_hashz = String.fromCharCode(114,97,105,116,95,97,95,54,56,0);
          let mimom: Array<any> = [810, 140];
         typingk = `${(String.fromCharCode(72,0) == typingk ? (libavutilG ? 3 : 1) : typingk.length)}`;
         o_hashz += "1";
         mimom = [3];
      }
         libavutilG = (85 > (typingk.length & (!libavutilG ? typingk.length : 85)));
      brightnessW = [libreanimatedX.length << (Math.min(Math.abs(3), 2))];
   for (let e = 0; e < 3; e++) {
       let middlebrightnessV = true;
      while (middlebrightnessV && !middlebrightnessV) {
         middlebrightnessV = !middlebrightnessV && middlebrightnessV;
         break;
      }
      let telegram6 = middlebrightnessV ? !middlebrightnessV : middlebrightnessV;
      do {
         middlebrightnessV = !middlebrightnessV || middlebrightnessV;
         if (telegram6) {
            break;
         }
      } while ((middlebrightnessV && middlebrightnessV) && telegram6);
         middlebrightnessV = (!middlebrightnessV ? middlebrightnessV : !middlebrightnessV);
      brightnessW = [(String.fromCharCode(101,0) == larget ? parseInt(`${rcopy_0x3}`) : larget.length)];
   }
   let emoji7 = reactB ? !reactB : reactB;
   do {
      reactB = 87 <= libreanimatedX.length;
      if (emoji7) {
         break;
      }
   } while (emoji7 && (4 == ksadX.length || !reactB));
       let libavdeviceD: Array<any> = [String.fromCharCode(97,118,97,116,97,114,95,109,95,49,51,0), String.fromCharCode(102,105,102,111,115,95,120,95,56,48,0), String.fromCharCode(103,95,57,51,95,115,112,101,101,120,0)];
       let feedbackY = String.fromCharCode(102,105,108,116,101,114,101,100,95,51,95,50,55,0);
          let hongkongr = false;
          let starc = 0.0;
          let collectionv = true;
         feedbackY = `${(parseInt(`${starc}`) & (hongkongr ? 5 : 1))}`;
         hongkongr = collectionv;
         starc -= (parseFloat(`${(collectionv ? 4 : 5)}`));
       let container7 = String.fromCharCode(114,95,49,48,95,114,101,100,117,99,101,100,0);
       let launchf = String.fromCharCode(102,95,50,54,95,100,101,99,114,121,112,116,101,100,0);
      for (let f = 0; f < 3; f++) {
         container7 += `${(container7 == String.fromCharCode(108,0) ? libavdeviceD.length : container7.length)}`;
      }
      while (libavdeviceD.length <= feedbackY.length) {
          let greenM = String.fromCharCode(114,95,53,54,95,119,114,105,116,101,99,111,112,121,0);
          let mbridge1 = String.fromCharCode(99,104,97,105,110,101,100,95,107,95,51,49,0);
         libavdeviceD.push(1);
         greenM += "1";
         mbridge1 += "2";
         break;
      }
         container7 = `${container7.length | 2}`;
      for (let i = 0; i < 3; i++) {
          let dplus4 = 4.0;
          let update_7xa = String.fromCharCode(115,116,105,99,107,101,114,112,97,99,107,95,50,95,53,0);
          let middlebrightnessJ = String.fromCharCode(115,112,108,105,116,116,105,110,103,95,49,95,54,54,0);
          let time_47 = false;
          let backiconN = 4.0;
         feedbackY += `${update_7xa.length | libavdeviceD.length}`;
         dplus4 *= (middlebrightnessJ == String.fromCharCode(81,0) ? middlebrightnessJ.length : (time_47 ? 1 : 5));
         update_7xa += `${2 | parseInt(`${dplus4}`)}`;
         time_47 = middlebrightnessJ.length <= 70;
         backiconN /= Math.max(3, 4);
      }
      reactB = libavdeviceD.length < 29 || 29 < brightnessW.length;
      libreanimatedX += `${libreanimatedX.length}`;
   if (rcopy_0x3 < videojsj) {
      videojsj /= Math.max(zhengpianj.size, 2);
   }
      brightnessW = [larget.length];
   if ((videojsj - 4.51) < 3.96 || (4.51 - videojsj) < 4.63) {
       let whiteP = 4;
       let verticalZ = 3.0;
       let membershipr = 3;
         verticalZ += parseInt(`${verticalZ}`) % (Math.max(2, membershipr));
         membershipr /= Math.max(5, membershipr | 1);
      let hejik = membershipr >= 5343584;
      do {
          let countdownn = String.fromCharCode(122,95,57,52,95,111,110,116,97,99,116,115,0);
          let plashx: Array<any> = [562, 176, 353];
          let libzeusY = 0;
          let playlistI = 1.0;
          let d_titleF = false;
         membershipr += plashx.length >> (Math.min(4, Math.abs(whiteP)));
         countdownn += `${parseInt(`${playlistI}`)}`;
         plashx.push(((d_titleF ? 5 : 5) / (Math.max(libzeusY, 8))));
         libzeusY -= libzeusY;
         playlistI -= 2 * libzeusY;
         d_titleF = !d_titleF;
         if (hejik) {
            break;
         }
      } while (((parseInt(`${verticalZ}`) + membershipr) < 4 && 1.86 < (membershipr + verticalZ)) && hejik);
       let delegate_tpO = String.fromCharCode(106,95,50,55,95,97,99,113,117,97,110,116,0);
      let mbjscommonP = delegate_tpO == String.fromCharCode(118,108,95,48,49,0);
      do {
          let temp6: Map<any, any> = new Map([[String.fromCharCode(117,110,97,117,116,104,111,114,105,122,101,100,95,108,95,53,57,0),String.fromCharCode(121,121,121,121,95,117,95,49,54,0)], [String.fromCharCode(113,95,52,52,95,105,115,115,101,116,117,103,105,100,0),String.fromCharCode(110,95,51,51,95,115,116,114,105,112,115,0)]]);
          let profileframeU = 3.0;
          let cornerkickz: Array<any> = [160, 236];
          let floaterq = 0;
          let umengs = 0.0;
         delegate_tpO += `${temp6.size}`;
         temp6 = new Map([[`${cornerkickz.length}`, parseInt(`${profileframeU}`) >> (Math.min(1, Math.abs(3)))]]);
         profileframeU /= Math.max(2, parseFloat(`${floaterq / (Math.max(parseInt(`${umengs}`), 8))}`));
         cornerkickz.push(cornerkickz.length);
         floaterq &= 1 | floaterq;
         umengs += 2 + parseInt(`${profileframeU}`);
         if (mbjscommonP) {
            break;
         }
      } while ((3 > (membershipr ^ 3) || (delegate_tpO.length ^ membershipr) > 3) && mbjscommonP);
          let sliderm = false;
          let loginO = String.fromCharCode(121,95,54,49,95,116,116,108,0);
          let user1: Array<any> = [143, 827];
         delegate_tpO += `${loginO.length}`;
         sliderm = user1.includes(sliderm);
         loginO += "1";
         user1.push(((sliderm ? 1 : 3) ^ user1.length));
      let streamingv = verticalZ <= 9815765.0;
      do {
          let middleX = String.fromCharCode(106,95,54,51,95,116,104,97,119,0);
          let f_hashW = String.fromCharCode(115,99,116,112,95,110,95,57,49,0);
          let line9 = true;
          let nalyticsK = String.fromCharCode(112,95,55,50,95,97,117,116,111,0);
         verticalZ /= Math.max(membershipr, 1);
         middleX += `${1 & nalyticsK.length}`;
         f_hashW = `${middleX.length}`;
         line9 = nalyticsK.length >= 72;
         if (streamingv) {
            break;
         }
      } while (streamingv && (verticalZ == 3.31));
      for (let s = 0; s < 1; s++) {
         membershipr >>= Math.min(Math.abs(parseInt(`${verticalZ}`) - 3), 1);
      }
      while (4 == whiteP) {
          let f_unlock4 = 4.0;
         delegate_tpO += `${whiteP}`;
         f_unlock4 += 1 / (Math.max(parseInt(`${f_unlock4}`), 1));
         break;
      }
      zhengpianj.set(`${membershipr}`, membershipr);
   }
      ww_runtime.playlistTopicsClickAnalytics({
        topic_id: playlist.topic_id.toString(),
        topic_name: playlist.topic_name,
      });
    }
  }, [playlist]);
  

  return (
    <>
      <ScreenContainer>
        <TitleWithBackButtonHeader
          title={playlist?.topic_name}
          headerStyle={{ marginBottom: spacing.s }}
        />
        {playlist && (
          <View style={{ gap: spacing.s, paddingBottom: 230 }}>
            <View style={styles.header}>
              <Text
                numberOfLines={3}
                style={{
                  ...textVariants.small,
                  color: colors.text,
                  flex: 1,
                  marginRight: spacing.l,
                }}
              >
                {playlist?.topic_blurb}
              </Text>
              <FavoritePlaylistButton playlist={playlist} />
            </View>
            <Text
              style={{
                ...textVariants.small,
              }}
            >{`(共${playlist.vod_list.length}部)`}</Text>
            <VodWithDescriptionList
              vodList={playlist.vod_list}
              onClickCatalogVideo={onClickCatalogVideo}
            />
          </View>
        )}
      </ScreenContainer>
    </>
  );
};

const styles = StyleSheet.create({
  header: {
    display: "flex",
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "space-between",
  },
});
