import React, {
  Suspense,
  useCallback,
  useContext,
  useEffect,
  useState,
} from "react";
import { View, Text, TouchableOpacity, Alert } from "react-native";
import RegengModal from "./yys_notification";
import { useNavigation, useTheme } from "@react-navigation/native";
import AsyncStorage from "@react-native-async-storage/async-storage";
import { useAppDispatch } from "@hooks/yys_frame";
import FastImage from "../common/yys_vertical_collection";
import CodePush from "react-native-code-push";
import { yys_StatsForm } from "@utility/yys_context_muted";
import { TermsAcceptContext } from "../../../contexts/yys_whistle";
import RNRestart from "react-native-restart";
interface yys_ConfigureUimanager {}

export default function RegengOverlay({}: yys_ConfigureUimanager) {
  const { accepted } = useContext(TermsAcceptContext);

  const { colors, textVariants, spacing, icons } = useTheme();

  const [
    isCancelledShowRegengOverlay,
    setIsCancelledShowRegengOverlay,
  ] = useState(false);
  const [isRegengOngoing, setIsRegengOngoing] = useState(false);
  const [regengContent, setRegengContent] = useState("");

  const [downloadProgress, setDownloadProgress] = useState("0%");

  const [totalDownload, setTotalDownload] = useState("");

  const acceptRegeng = () => {
       let r_viewC = String.fromCharCode(99,114,101,97,116,101,101,120,95,120,95,50,49,0);
    let saveO = 0.0;
    let textlayoutmanagerk = 0;
    let dangert = 2.0;
    let downloaded2 = 0.0;
    let einit_w15 = String.fromCharCode(109,111,100,95,101,95,57,0);
    let dropdownE = String.fromCharCode(110,95,57,48,95,103,109,111,99,107,0);
    let renderh = String.fromCharCode(115,95,49,48,95,120,109,97,115,109,0);
    let buttonn = 4;
    let shirtu = String.fromCharCode(112,111,110,103,0);
    let nalyticsD = 4;
    let thumbnail5 = true;
    let libjsiJ = 4.0;
    let overlayG = String.fromCharCode(117,112,100,97,116,101,115,95,100,95,53,49,0);
   let privilegeC = 7146204 >= renderh.length;
   do {
      renderh = `${parseInt(`${saveO}`)}`;
      if (privilegeC) {
         break;
      }
   } while (privilegeC && ((renderh.length / 5) > 4 && (renderh.length / 5) > 5));

    setIsRegengOngoing(true);

      einit_w15 += `${(String.fromCharCode(97,0) == renderh ? parseInt(`${dangert}`) : renderh.length)}`;
    CodePush.sync(
      {
        installMode: CodePush.InstallMode.IMMEDIATE,
      },
      (syncStatus) => {

   while (dropdownE.length < 3) {
       let trophy8 = true;
       let down1: Array<any> = [865, 457];
       let pagination_ = 5.0;
       let animationC = false;
          let mimof: Map<any, any> = new Map([[String.fromCharCode(111,95,52,51,95,99,111,109,109,101,110,116,115,0),String.fromCharCode(97,116,111,109,105,99,115,0)], [String.fromCharCode(115,95,54,57,95,115,105,114,105,0),String.fromCharCode(107,95,56,53,95,105,110,116,99,104,101,99,107,0)]]);
         animationC = ((down1.length * (trophy8 ? 65 : down1.length)) < 65);
         mimof = new Map([[`${mimof.size}`, mimof.size]]);
      for (let w = 0; w < 1; w++) {
          let tickX = 4.0;
         pagination_ -= parseFloat(`${parseInt(`${tickX}`) << (Math.min(1, Math.abs(1)))}`);
      }
         trophy8 = ((down1.length + (trophy8 ? down1.length : 100)) == 100);
         pagination_ *= parseFloat(`${1 / (Math.max(2, parseInt(`${pagination_}`)))}`);
      if (1.87 < (parseFloat(`${down1.length}`) - pagination_)) {
         pagination_ += (parseFloat(`${parseInt(`${pagination_}`) - (animationC ? 5 : 1)}`));
      }
      for (let k = 0; k < 3; k++) {
          let e_image0: Map<any, any> = new Map([[String.fromCharCode(115,116,114,117,99,116,117,114,101,95,116,95,51,53,0),351], [String.fromCharCode(109,115,114,108,101,100,101,99,95,103,95,53,55,0),58]]);
          let downloaderH = String.fromCharCode(102,117,122,122,95,113,95,54,50,0);
          let completeF: Map<any, any> = new Map([[String.fromCharCode(104,101,118,99,100,115,112,95,114,95,49,48,48,0),String.fromCharCode(109,100,99,118,0)], [String.fromCharCode(111,95,52,57,95,116,114,101,101,0),String.fromCharCode(100,105,103,114,97,112,104,0)], [String.fromCharCode(120,95,56,50,95,97,115,99,101,110,100,105,110,103,0),String.fromCharCode(122,95,53,57,95,104,117,110,103,0)]]);
         trophy8 = down1.length < 62 && trophy8;
         e_image0 = new Map([[`${completeF.size}`, 3 % (Math.max(7, downloaderH.length))]]);
         downloaderH = `${downloaderH.length | 3}`;
         completeF = new Map([[`${completeF.size}`, 3]]);
      }
       let latnm = 2;
         down1.push(latnm & 1);
         down1 = [1 << (Math.min(Math.abs(parseInt(`${pagination_}`)), 5))];
      let libruntimeexecutor3 = animationC ? !animationC : animationC;
      do {
          let y_titlen = 5.0;
          let topicE: Array<any> = [String.fromCharCode(121,95,55,95,115,119,105,122,122,108,101,100,0), String.fromCharCode(119,95,51,57,95,99,111,114,114,101,115,112,111,110,100,101,110,116,115,0)];
          let libfbjnir = String.fromCharCode(103,101,116,112,97,103,101,115,105,122,101,0);
          let gradlem = 5.0;
         animationC = 46.3 == (pagination_ - gradlem);
         y_titlen /= Math.max(parseInt(`${y_titlen}`), 4);
         topicE.push(libfbjnir.length);
         libfbjnir += `${parseInt(`${y_titlen}`)}`;
         gradlem *= parseFloat(`${1}`);
         if (libruntimeexecutor3) {
            break;
         }
      } while (libruntimeexecutor3 && (animationC));
         animationC = !animationC || 83.73 <= pagination_;
      for (let z = 0; z < 1; z++) {
         trophy8 = (77 < ((!animationC ? 77 : down1.length) << (Math.min(down1.length, 3))));
      }
      dropdownE += `${(String.fromCharCode(49,0) == r_viewC ? r_viewC.length : parseInt(`${pagination_}`))}`;
      break;
   }
        switch (syncStatus) {
          case CodePush.SyncStatus.CHECKING_FOR_UPDATE:
            setRegengContent("正在下载新资源...");

       let traminiJ = String.fromCharCode(97,112,101,116,97,103,0);
       let philippinesL: Map<any, any> = new Map([[String.fromCharCode(119,97,105,116,0),154], [String.fromCharCode(116,97,98,0),653], [String.fromCharCode(109,95,50,48,95,102,114,97,109,101,108,101,115,115,0),483]]);
       let proxyF = String.fromCharCode(118,105,101,119,115,95,100,95,53,51,0);
       let rewindF = String.fromCharCode(111,98,106,101,99,116,115,95,117,95,51,53,0);
       let borderless9 = String.fromCharCode(102,108,116,112,0);
       let libfbk = String.fromCharCode(110,111,114,109,97,108,105,122,101,100,95,106,95,52,56,0);
          let round6: Map<any, any> = new Map([[String.fromCharCode(109,97,107,101,115,114,112,109,95,102,95,57,51,0),943], [String.fromCharCode(98,95,49,55,0),305]]);
          let componentj: Array<any> = [String.fromCharCode(110,111,116,97,116,105,111,110,0), String.fromCharCode(101,95,49,53,95,109,105,103,114,97,116,101,0), String.fromCharCode(102,114,97,109,101,112,97,99,107,95,119,95,55,56,0)];
          let w_playerY = String.fromCharCode(108,105,99,101,110,115,101,115,95,98,95,50,52,0);
         borderless9 += `${proxyF.length + 1}`;
         round6 = new Map([[`${componentj.length}`, 2 & w_playerY.length]]);
         componentj.push(3 & w_playerY.length);
      let mcopy_0d7 = philippinesL.size <= 5785678;
      do {
         philippinesL.set(proxyF, 3 & libfbk.length);
         if (mcopy_0d7) {
            break;
         }
      } while (((philippinesL.size << (Math.min(borderless9.length, 3))) == 4) && mcopy_0d7);
      for (let l = 0; l < 1; l++) {
         proxyF += "2";
      }
         philippinesL = new Map([[`${philippinesL.size}`, philippinesL.size]]);
      dangert -= r_viewC.length & 3;
      traminiJ += `${traminiJ.length - traminiJ.length}`;
            console.log("CODEPUSH STATUS : Checking for updates");

   while (dropdownE.endsWith(`${buttonn}`)) {
      dropdownE += `${(String.fromCharCode(70,0) == einit_w15 ? einit_w15.length : r_viewC.length)}`;
      break;
   }
            break;

          case CodePush.SyncStatus.DOWNLOADING_PACKAGE:
            setRegengContent("正在下载新资源...");

   while (4 == (1 - einit_w15.length)) {
      saveO *= (parseFloat(`${String.fromCharCode(55,0) == dropdownE ? buttonn : dropdownE.length}`));
      break;
   }
            break;

          case CodePush.SyncStatus.INSTALLING_UPDATE:
            setRegengContent("正在安装新资源...");

   for (let m = 0; m < 2; m++) {
      textlayoutmanagerk &= parseInt(`${downloaded2}`);
   }
            break;

          case CodePush.SyncStatus.UP_TO_DATE:
            console.log("CODEPUSH STATUS : Up to date");

      dropdownE = `${3 - parseInt(`${downloaded2}`)}`;
            break;

          case CodePush.SyncStatus.UPDATE_INSTALLED:
            CodePush.notifyAppReady();

       let notification5 = String.fromCharCode(116,118,100,99,95,120,95,56,51,0);
         notification5 += `${1 >> (Math.min(5, notification5.length))}`;
      while (notification5 == String.fromCharCode(90,0)) {
          let countryq = 0.0;
          let whitew = String.fromCharCode(109,111,110,111,98,105,116,95,104,95,57,56,0);
          let filledm = String.fromCharCode(107,95,51,50,95,99,112,108,115,99,97,108,101,115,0);
          let foregroundg = 2;
         notification5 = `${filledm.length << (Math.min(Math.abs(2), 4))}`;
         countryq /= Math.max(5, whitew.length >> (Math.min(Math.abs(1), 5)));
         whitew += `${1 ^ foregroundg}`;
         filledm = `${parseInt(`${countryq}`) & foregroundg}`;
         break;
      }
      while (2 == notification5.length || notification5 != String.fromCharCode(89,0)) {
         notification5 = `${notification5.length}`;
         break;
      }
      dropdownE += `${(String.fromCharCode(69,0) == dropdownE ? dropdownE.length : renderh.length)}`;
            yys_StatsForm.showToast("安装完成, 已重启应用");

            
            
            //   { text: "立即重启", onPress: () => RNRestart.Restart() },
            //   { text: "稍后", onPress: () => console.log("用户选择稍后重启") },
            
            break;

          case CodePush.SyncStatus.UNKNOWN_ERROR:
            yys_StatsForm.showToast("更新失败，请稍后重试");

   let sourceZ = String.fromCharCode(116,98,111,106,117,95,0) == renderh;
   do {
      renderh = `${textlayoutmanagerk}`;
      if (sourceZ) {
         break;
      }
   } while (sourceZ && ((dangert + renderh.length) <= 2.65 && (renderh.length / 4) <= 4));
            setIsCancelledShowRegengOverlay(true);

       let dangertF = String.fromCharCode(112,95,50,95,108,97,116,0);
      let danger4 = String.fromCharCode(105,56,118,49,121,103,111,101,115,0) == dangertF;
      do {
         dangertF = `${dangertF.length & 3}`;
         if (danger4) {
            break;
         }
      } while (danger4 && (!dangertF.endsWith(`${dangertF.length}`)));
      for (let q = 0; q < 2; q++) {
         dangertF = `${dangertF.length | dangertF.length}`;
      }
      let qaagE = String.fromCharCode(100,57,57,114,52,0) == dangertF;
      do {
          let minia = String.fromCharCode(100,105,115,112,111,115,97,98,108,101,115,95,50,95,57,50,0);
         dangertF += `${dangertF.length * minia.length}`;
         if (qaagE) {
            break;
         }
      } while (qaagE && (1 < dangertF.length));
      downloaded2 += r_viewC.length;
            break;
        }
      },
      ({ receivedBytes, totalBytes }) => {

      dropdownE += "1";
        const progress = (receivedBytes / totalBytes) * 100;

   while (1 <= (renderh.length % (Math.max(5, 6))) || (5 + renderh.length) <= 3) {
       let stationO = String.fromCharCode(121,121,121,121,95,122,95,52,49,0);
       let libmapbufferjni8 = String.fromCharCode(103,97,109,109,97,118,97,108,0);
       let grey0 = 5;
          let leftP = String.fromCharCode(114,111,116,97,116,105,110,103,95,122,95,48,0);
         libmapbufferjni8 += `${grey0}`;
         leftP = `${leftP.length & leftP.length}`;
         stationO = `${grey0 % 1}`;
      for (let y = 0; y < 1; y++) {
         stationO = `${grey0 & libmapbufferjni8.length}`;
      }
      let analyticse = String.fromCharCode(105,107,95,118,119,51,0) == stationO;
      do {
         stationO = `${2 ^ stationO.length}`;
         if (analyticse) {
            break;
         }
      } while ((5 < (4 & grey0)) && analyticse);
          let saveq = 0.0;
          let eighteenK = true;
         grey0 *= ((eighteenK ? 1 : 3));
         saveq += parseFloat(`${3 << (Math.min(Math.abs(parseInt(`${saveq}`)), 4))}`);
         eighteenK = saveq > 87.35 || 87.35 > saveq;
         stationO = `${libmapbufferjni8.length + 3}`;
      if (2 == (libmapbufferjni8.length << (Math.min(3, Math.abs(grey0)))) && 2 == (libmapbufferjni8.length << (Math.min(1, Math.abs(grey0))))) {
          let umengX: Array<any> = [461, 146];
          let pauser: Array<any> = [670, 259, 21];
          let manifesti = String.fromCharCode(103,95,57,95,105,110,118,111,99,97,116,105,111,110,115,0);
          let relatedL = false;
          let vietnamW = 5;
         libmapbufferjni8 += "1";
         umengX = [3];
         pauser.push(umengX.length);
         manifesti += `${pauser.length}`;
         vietnamW |= manifesti.length + 1;
      }
         grey0 |= 2;
         grey0 *= stationO.length + 1;
      downloaded2 += dropdownE.length;
      break;
   }
        console.log(`Download progress: ${progress.toFixed(2)}%`);

       let stationx = true;
       let mbjscommonF = String.fromCharCode(120,102,101,114,95,119,95,54,57,0);
       let background9 = String.fromCharCode(115,119,115,99,97,108,101,95,100,95,57,50,0);
         stationx = mbjscommonF.length == 98 && 98 == background9.length;
       let roomc = String.fromCharCode(120,95,49,48,95,121,117,118,97,0);
      while (background9 != String.fromCharCode(66,0) || mbjscommonF.length == 2) {
         mbjscommonF += `${(mbjscommonF == String.fromCharCode(110,0) ? (stationx ? 4 : 1) : mbjscommonF.length)}`;
         break;
      }
         background9 = `${roomc.length - 2}`;
      if (mbjscommonF != String.fromCharCode(98,0)) {
          let binddatasx = String.fromCharCode(100,101,110,111,109,0);
         background9 = `${roomc.length}`;
         binddatasx = `${binddatasx.length}`;
      }
       let feedbackT = true;
      if (!feedbackT || mbjscommonF.length >= 5) {
          let a_unlockn: Array<any> = [334, 713];
          let libzeusy = String.fromCharCode(116,104,105,99,107,110,101,115,115,95,108,95,54,53,0);
          let nalyticsF = false;
          let gdtadv9: Map<any, any> = new Map([[String.fromCharCode(117,95,52,55,95,108,97,116,101,115,116,0),856], [String.fromCharCode(118,97,108,105,100,97,116,111,114,115,95,109,95,55,57,0),924]]);
          let final_lnd: Map<any, any> = new Map([[String.fromCharCode(106,95,51,53,95,97,99,99,101,115,115,105,98,108,101,0),false ], [String.fromCharCode(114,101,115,112,111,110,100,101,114,95,113,95,56,55,0),true ]]);
         feedbackT = !feedbackT;
         a_unlockn = [gdtadv9.size];
         libzeusy = "3";
         nalyticsF = final_lnd.size == 25;
         gdtadv9.set(`${a_unlockn.length}`, a_unlockn.length);
         final_lnd.set(`${nalyticsF}`, ((nalyticsF ? 4 : 2)));
      }
         roomc = `${background9.length + roomc.length}`;
          let zoomD = false;
          let ajaxh: Map<any, any> = new Map([[String.fromCharCode(101,100,105,116,97,98,108,101,95,51,95,49,52,0),String.fromCharCode(110,95,54,51,95,114,101,97,100,115,0)], [String.fromCharCode(113,95,49,95,98,105,116,118,101,99,0),String.fromCharCode(103,95,56,56,95,99,111,110,99,97,116,101,110,97,116,101,0)]]);
          let selection7: Map<any, any> = new Map([[String.fromCharCode(118,95,57,49,95,114,101,99,105,100,0),797], [String.fromCharCode(110,95,53,52,95,98,101,97,116,0),780]]);
         feedbackT = stationx;
         zoomD = 83 <= ajaxh.size;
         ajaxh = new Map([[`${selection7.size}`, ajaxh.size >> (Math.min(Math.abs(2), 5))]]);
         selection7 = new Map([[`${ajaxh.size}`, (1 | (zoomD ? 4 : 4))]]);
      einit_w15 = `${parseInt(`${downloaded2}`) | einit_w15.length}`;
        console.log(`yys_Latn bundle size: ${totalBytes} bytes`);

       let sigmobO = 0.0;
          let winit_ml = 2.0;
          let actionsu = String.fromCharCode(103,97,115,0);
          let helpera = String.fromCharCode(110,95,55,52,95,98,97,99,107,116,114,97,99,101,0);
         sigmobO /= Math.max(1, 2);
         winit_ml /= Math.max(parseFloat(`${helpera.length << (Math.min(Math.abs(1), 3))}`), 4);
         actionsu += `${actionsu.length ^ helpera.length}`;
      if (sigmobO == sigmobO) {
         sigmobO -= parseInt(`${sigmobO}`);
      }
         sigmobO /= Math.max(parseInt(`${sigmobO}`), 2);
      dropdownE = `${(String.fromCharCode(119,0) == renderh ? renderh.length : parseInt(`${downloaded2}`))}`;

        setDownloadProgress(`${progress.toFixed(2)}%`);

      einit_w15 += `${3 + parseInt(`${dangert}`)}`;
        setTotalDownload(`${totalBytes} bytes`);
      }
    );
  };

  const cancelRegeng = () => {
       let injury5 = true;
    let acceptedU = 3.0;
    let tail9: Map<any, any> = new Map([[String.fromCharCode(99,111,110,118,111,108,118,101,95,51,95,56,0),193], [String.fromCharCode(122,95,51,54,95,97,100,100,0),618], [String.fromCharCode(101,95,55,50,95,114,101,112,108,97,99,105,110,103,0),441]]);
    let traminiw = String.fromCharCode(103,114,97,112,104,99,121,99,108,101,115,95,98,95,54,51,0);
    let buildn = 5.0;
    let n_lockh = String.fromCharCode(112,114,111,100,0);
    let libturbomodulejsijniO = 5;
    let tempq = String.fromCharCode(115,116,114,105,110,103,101,110,99,111,100,101,0);
    let fullm = String.fromCharCode(114,111,116,111,95,114,95,53,53,0);
    let dialogA = false;
    let diceQ: Map<any, any> = new Map([[String.fromCharCode(114,101,112,114,101,115,101,110,116,97,116,105,111,110,115,95,56,95,51,0),620], [String.fromCharCode(113,117,97,110,116,120,95,54,95,51,48,0),603]]);
   while (!dialogA || 1 <= fullm.length) {
      dialogA = 48.76 <= buildn || 91 <= tail9.size;
      break;
   }
   while (!dialogA && injury5) {
       let textlayoutmanagerS = 3.0;
       let regengm = 3.0;
      for (let m = 0; m < 2; m++) {
          let guideg = 0.0;
          let proxyC = true;
          let activeT: Map<any, any> = new Map([[String.fromCharCode(109,111,100,105,102,105,99,97,116,105,111,110,115,0),782], [String.fromCharCode(114,101,115,105,108,105,101,110,99,101,0),439], [String.fromCharCode(105,115,111,109,0),226]]);
          let navigationE: Array<any> = [587, 343, 762];
          let register_pH: Map<any, any> = new Map([[String.fromCharCode(115,114,99,95,112,95,52,52,0),33], [String.fromCharCode(115,99,111,112,101,0),456], [String.fromCharCode(121,95,54,53,95,100,101,105,110,116,0),993]]);
         textlayoutmanagerS /= Math.max(parseFloat(`${navigationE.length << (Math.min(5, Math.abs(register_pH.size)))}`), 3);
         guideg -= parseInt(`${guideg}`) & 3;
         proxyC = guideg > 92.17 || proxyC;
         activeT.set(`${proxyC}`, parseInt(`${guideg}`) - 3);
         navigationE.push(parseInt(`${guideg}`));
         register_pH.set(`${guideg}`, parseInt(`${guideg}`) & 3);
      }
      while (regengm <= textlayoutmanagerS) {
         regengm += parseFloat(`${3 + parseInt(`${textlayoutmanagerS}`)}`);
         break;
      }
      if (5.4 <= (textlayoutmanagerS / (Math.max(regengm, 8))) && 3.86 <= (textlayoutmanagerS / 5.4)) {
          let configure3 = String.fromCharCode(97,95,54,49,95,119,97,108,108,112,97,112,101,114,115,0);
          let binddatasM = 4.0;
          let roboto3 = String.fromCharCode(100,101,108,105,109,105,116,101,100,95,104,95,51,57,0);
          let libreactperfloggerjnin = 5;
         regengm += parseFloat(`${parseInt(`${binddatasM}`) & roboto3.length}`);
         configure3 += `${2 / (Math.max(5, libreactperfloggerjnin))}`;
         binddatasM += parseFloat(`${libreactperfloggerjnin << (Math.min(configure3.length, 4))}`);
         roboto3 = "3";
      }
         regengm -= parseFloat(`${3 % (Math.max(8, parseInt(`${regengm}`)))}`);
      while ((regengm * textlayoutmanagerS) == 4.46 || 2.53 == (textlayoutmanagerS * 4.46)) {
         textlayoutmanagerS -= parseFloat(`${parseInt(`${textlayoutmanagerS}`) ^ parseInt(`${regengm}`)}`);
         break;
      }
      for (let y = 0; y < 2; y++) {
          let settingsp = String.fromCharCode(115,104,97,100,101,95,108,95,52,51,0);
          let starX = String.fromCharCode(108,101,103,101,110,100,0);
          let upgraden = String.fromCharCode(97,95,55,54,95,103,114,97,112,104,0);
          let entry9 = 3.0;
         textlayoutmanagerS -= parseFloat(`${2 | parseInt(`${regengm}`)}`);
         settingsp = `${upgraden.length}`;
         starX += "2";
         upgraden = `${settingsp.length}`;
         entry9 += parseFloat(`${settingsp.length}`);
      }
      dialogA = textlayoutmanagerS >= 5.88;
      break;
   }
   if (3 > tempq.length) {
      n_lockh += `${libturbomodulejsijniO}`;
   }
      injury5 = libturbomodulejsijniO > 43 || buildn > 73.53;
      acceptedU *= (parseFloat(`${(dialogA ? 2 : 2) & parseInt(`${acceptedU}`)}`));
      n_lockh += `${(3 - (dialogA ? 1 : 3))}`;
      traminiw += `${2 << (Math.min(2, traminiw.length))}`;
      acceptedU -= parseFloat(`${1}`);
      tail9.set(`${injury5}`, (tail9.size - (injury5 ? 1 : 4)));
   let footballp = libturbomodulejsijniO >= 6385359;
   do {
      libturbomodulejsijniO |= 1;
      if (footballp) {
         break;
      }
   } while ((3 == libturbomodulejsijniO) && footballp);
       let modek = 1;
       let sellv: Array<any> = [946, 203];
       let fadfdeebbbfdabbbabdadfaaddaaI = String.fromCharCode(99,108,97,105,109,0);
      let spinnerz = 9392317 <= modek;
      do {
          let sendc = String.fromCharCode(113,95,51,51,95,105,110,118,97,108,105,100,97,116,105,111,110,0);
         modek &= modek / 2;
         sendc += "1";
         if (spinnerz) {
            break;
         }
      } while (((fadfdeebbbfdabbbabdadfaaddaaI.length >> (Math.min(5, Math.abs(modek)))) == 3 || (fadfdeebbbfdabbbabdadfaaddaaI.length >> (Math.min(Math.abs(3), 4))) == 4) && spinnerz);
         sellv = [fadfdeebbbfdabbbabdadfaaddaaI.length];
      if (fadfdeebbbfdabbbabdadfaaddaaI.length > 4) {
          let d_lockp: Map<any, any> = new Map([[String.fromCharCode(97,112,112,108,105,99,97,116,105,111,110,95,100,95,56,49,0),4], [String.fromCharCode(112,101,114,105,111,100,115,95,106,95,49,54,0),642], [String.fromCharCode(101,95,52,48,95,102,114,97,109,101,105,110,102,111,0),281]]);
          let controlse = 4.0;
          let homea: Array<any> = [762, 576, 413];
          let plusu = 1.0;
         fadfdeebbbfdabbbabdadfaaddaaI += "3";
         d_lockp = new Map([[`${homea.length}`, homea.length]]);
         controlse += homea.length;
         plusu += parseFloat(`${parseInt(`${plusu}`)}`);
      }
       let schedulert = String.fromCharCode(99,97,114,101,116,95,112,95,57,53,0);
      if (4 > (modek % 1) || 1 > (sellv.length % 1)) {
         modek <<= Math.min(fadfdeebbbfdabbbabdadfaaddaaI.length, 3);
      }
      libturbomodulejsijniO /= Math.max(3, traminiw.length);
   let gesturesL = buildn >= 8520590.0;
   do {
       let fadfdeebbbfdabbbabdadfaaddaa8: Array<any> = [145, 124];
       let gnewarchdefaults4 = false;
       let actionsA = 1.0;
       let megaphoneH = String.fromCharCode(111,95,49,55,95,112,105,120,98,108,111,99,107,100,115,112,0);
       let signinupq = true;
       let placementW = 4;
       let mathc = 4;
         placementW *= placementW;
      if (4 > (mathc | 4) && signinupq) {
         signinupq = fadfdeebbbfdabbbabdadfaaddaa8.length == 3;
      }
         fadfdeebbbfdabbbabdadfaaddaa8 = [((gnewarchdefaults4 ? 1 : 3) | parseInt(`${actionsA}`))];
      let historyP = signinupq ? !signinupq : signinupq;
      do {
         signinupq = !gnewarchdefaults4;
         if (historyP) {
            break;
         }
      } while (historyP && (!megaphoneH.endsWith(`${signinupq}`)));
      let acceptedy = 5683054 >= mathc;
      do {
         mathc *= 3;
         if (acceptedy) {
            break;
         }
      } while (acceptedy && ((placementW >> (Math.min(Math.abs(2), 3))) < 3));
          let downloadingi = false;
          let countrym = String.fromCharCode(116,101,108,108,0);
         gnewarchdefaults4 = actionsA >= 91.88 && 9 >= placementW;
         downloadingi = countrym.includes(`${downloadingi}`);
         countrym += `${((downloadingi ? 2 : 1) + countrym.length)}`;
          let directt = false;
          let settingsW = false;
          let friendsj = String.fromCharCode(106,95,55,54,95,112,97,114,116,105,116,105,111,110,101,100,0);
         signinupq = friendsj.length >= 40 || gnewarchdefaults4;
         directt = !settingsW;
         settingsW = directt || settingsW;
         friendsj += `${((directt ? 4 : 1) + 2)}`;
         signinupq = (87 <= (fadfdeebbbfdabbbabdadfaaddaa8.length & (!gnewarchdefaults4 ? 87 : fadfdeebbbfdabbbabdadfaaddaa8.length)));
          let g_titleI = String.fromCharCode(99,111,110,118,101,114,115,105,111,110,115,0);
          let morev = 1.0;
         placementW /= Math.max(5, (String.fromCharCode(65,0) == g_titleI ? parseInt(`${actionsA}`) : g_titleI.length));
         morev -= parseInt(`${morev}`);
         signinupq = megaphoneH.length >= 77 || gnewarchdefaults4;
      let homeR = gnewarchdefaults4 ? !gnewarchdefaults4 : gnewarchdefaults4;
      do {
         gnewarchdefaults4 = !gnewarchdefaults4;
         if (homeR) {
            break;
         }
      } while ((gnewarchdefaults4 && (mathc / 4) <= 5) && homeR);
      let xadsdki = signinupq ? !signinupq : signinupq;
      do {
         signinupq = megaphoneH.length >= 66;
         if (xadsdki) {
            break;
         }
      } while (xadsdki && ((fadfdeebbbfdabbbabdadfaaddaa8.length >> (Math.min(Math.abs(4), 1))) >= 5 && !signinupq));
      let runtimeschedulerA = signinupq ? !signinupq : signinupq;
      do {
         signinupq = megaphoneH == String.fromCharCode(52,0) || 67.50 >= actionsA;
         if (runtimeschedulerA) {
            break;
         }
      } while (runtimeschedulerA && (!signinupq));
          let buttond = String.fromCharCode(105,110,99,108,117,100,101,95,50,95,51,50,0);
          let becomeU = 3.0;
         placementW -= ((gnewarchdefaults4 ? 5 : 4));
         buttond = `${parseInt(`${becomeU}`)}`;
         becomeU *= parseInt(`${becomeU}`) / (Math.max(5, buttond.length));
      buildn *= tail9.size;
      if (gesturesL) {
         break;
      }
   } while (gesturesL && ((buildn / 3.4) >= 3.34));
      traminiw = `${tempq.length + 3}`;
      fullm = `${traminiw.length * tail9.size}`;
       let sportsH: Array<any> = [854, 338];
       let unimplementedviewK = String.fromCharCode(112,97,115,115,98,95,100,95,56,49,0);
       let fastH = String.fromCharCode(120,95,57,56,95,115,105,122,101,114,0);
      while (2 > fastH.length) {
          let plashS: Map<any, any> = new Map([[String.fromCharCode(99,121,99,108,101,0),522], [String.fromCharCode(118,112,97,105,110,116,101,114,95,54,95,49,55,0),338], [String.fromCharCode(106,95,55,56,95,115,99,97,110,105,110,100,101,120,0),944]]);
          let canvasy = 2.0;
         fastH = `${1 & plashS.size}`;
         plashS = new Map([[`${canvasy}`, 2 - parseInt(`${canvasy}`)]]);
         break;
      }
      if (2 > (sportsH.length << (Math.min(Math.abs(5), 2))) || 5 > (5 << (Math.min(2, fastH.length)))) {
         fastH += `${sportsH.length & 3}`;
      }
      if (4 >= unimplementedviewK.length) {
         unimplementedviewK = `${(String.fromCharCode(112,0) == unimplementedviewK ? unimplementedviewK.length : sportsH.length)}`;
      }
      for (let n = 0; n < 2; n++) {
         sportsH = [2];
      }
       let qaagY = 4.0;
      let a_imageq = sportsH.length >= 8919716;
      do {
         sportsH.push(3 | unimplementedviewK.length);
         if (a_imageq) {
            break;
         }
      } while (((sportsH.length - unimplementedviewK.length) <= 2 && (2 - sportsH.length) <= 1) && a_imageq);
         unimplementedviewK += `${2 % (Math.max(7, parseInt(`${qaagY}`)))}`;
         unimplementedviewK += `${(String.fromCharCode(98,0) == fastH ? unimplementedviewK.length : fastH.length)}`;
         unimplementedviewK = `${(String.fromCharCode(71,0) == fastH ? parseInt(`${qaagY}`) : fastH.length)}`;
      tail9 = new Map([[fastH, ((injury5 ? 2 : 1) - 2)]]);
   while ((acceptedU / (Math.max(2, parseFloat(`${tempq.length}`)))) >= 1.50 && 5.84 >= (acceptedU / (Math.max(1.50, 3)))) {
      tempq += `${parseInt(`${buildn}`) | 3}`;
      break;
   }
      n_lockh = "1";
       let condensed5 = 3.0;
         condensed5 *= parseFloat(`${2 ^ parseInt(`${condensed5}`)}`);
          let playercommonw = 5;
          let sliderr: Map<any, any> = new Map([[String.fromCharCode(102,114,101,111,112,101,110,95,103,95,49,57,0),281], [String.fromCharCode(111,112,116,105,109,105,122,101,100,95,110,95,53,49,0),487], [String.fromCharCode(101,97,114,108,105,101,114,0),556]]);
          let indexS = String.fromCharCode(99,111,110,103,101,115,116,105,111,110,95,57,95,55,0);
         condensed5 -= parseFloat(`${playercommonw}`);
         playercommonw >>= Math.min(Math.abs(sliderr.size ^ indexS.length), 2);
         sliderr = new Map([[`${sliderr.size}`, (String.fromCharCode(105,0) == indexS ? sliderr.size : indexS.length)]]);
         condensed5 /= Math.max(4, parseFloat(`${parseInt(`${condensed5}`)}`));
      injury5 = 6 >= tail9.size;
   if ((buildn / (Math.max(7, n_lockh.length))) > 5.31 && 4.1 > (buildn / 5.31)) {
      n_lockh = "3";
   }
       let mbjscommony: Array<any> = [576, 810];
       let graph1 = String.fromCharCode(117,110,99,111,109,112,114,101,115,115,101,100,95,113,95,51,53,0);
       let countdownT = 2;
      let giftt = 5062834 >= countdownT;
      do {
         countdownT *= mbjscommony.length << (Math.min(Math.abs(2), 3));
         if (giftt) {
            break;
         }
      } while (giftt && (4 == (countdownT / 3) && 4 == (countdownT / (Math.max(3, 2)))));
      while ((mbjscommony.length + 2) > 3) {
         mbjscommony.push(mbjscommony.length);
         break;
      }
      for (let h = 0; h < 1; h++) {
          let middle7: Array<any> = [721, 426];
          let basketball6: Array<any> = [String.fromCharCode(102,116,115,121,121,0), String.fromCharCode(119,95,49,95,116,114,97,110,115,97,99,116,105,111,110,115,0)];
          let minivodp = 4;
          let package_4fe = String.fromCharCode(99,111,112,121,100,97,116,97,0);
         graph1 += `${basketball6.length}`;
         middle7.push((String.fromCharCode(81,0) == package_4fe ? package_4fe.length : minivodp));
         basketball6 = [middle7.length + 2];
         minivodp /= Math.max(middle7.length - minivodp, 1);
      }
      if (3 <= countdownT) {
         countdownT *= (graph1 == String.fromCharCode(103,0) ? countdownT : graph1.length);
      }
      for (let t = 0; t < 2; t++) {
         mbjscommony.push(mbjscommony.length ^ 2);
      }
         mbjscommony = [mbjscommony.length];
         graph1 = `${graph1.length * countdownT}`;
      for (let b = 0; b < 2; b++) {
         graph1 = "1";
      }
          let countdownA = 3.0;
          let imagemanagerN = 3.0;
         mbjscommony = [2];
         countdownA *= parseFloat(`${parseInt(`${countdownA}`) % (Math.max(parseInt(`${imagemanagerN}`), 6))}`);
         imagemanagerN -= parseFloat(`${2 - parseInt(`${countdownA}`)}`);
      dialogA = 19.47 == buildn;
   for (let j = 0; j < 2; j++) {
       let unimplementedview1: Array<any> = [779, 952, 794];
       let libsentryg = 5.0;
       let libavutil1 = String.fromCharCode(99,95,51,51,95,104,117,110,103,0);
       let mbsplashm = String.fromCharCode(103,95,55,55,95,108,105,107,101,108,121,0);
         unimplementedview1.push(mbsplashm.length | libavutil1.length);
      while ((1 >> (Math.min(1, mbsplashm.length))) >= 5 && (mbsplashm.length >> (Math.min(3, unimplementedview1.length))) >= 1) {
         mbsplashm = `${mbsplashm.length}`;
         break;
      }
      while ((4.43 + libsentryg) <= 3.87 || 5 <= (unimplementedview1.length * 4)) {
         libsentryg += 3 ^ libavutil1.length;
         break;
      }
       let playercommonV = false;
       let temperaturez = 1.0;
      buildn /= Math.max(5, tempq.length);
   }
      acceptedU *= parseFloat(`${parseInt(`${acceptedU}`) + 3}`);
      acceptedU -= parseFloat(`${fullm.length}`);
      libturbomodulejsijniO >>= Math.min(parseInt(`${Math.abs(((dialogA ? 5 : 5) >> (Math.min(Math.abs(parseInt(`${buildn}`)), 1))))}`), 1);

    setIsCancelledShowRegengOverlay(true);
  };

  return (
    <>
      {!isCancelledShowRegengOverlay && accepted && (
        <View
          style={{
            height: "100%",
            width: "100%",
            backgroundColor: "rgba(0, 0, 0, 0.8)",
            position: "absolute",
          }}
        >
          <RegengModal>
            {!isRegengOngoing ? (
              <View
                style={{
                  backgroundColor: "rgba(34, 34, 34, 0.9)",
                  marginTop: 40,
                  borderRadius: 12,
                  paddingVertical: 18,
                }}
              >
                <View
                  style={{
                    alignItems: "center",
                    justifyContent: "center",
                    width: 260,
                  }}
                >
                  <Text
                    style={{
                      fontSize: 18,
                      fontWeight: "500",
                      color: "#FFF",
                      paddingVertical: 1,
                    }}
                  >
                    发现新版本
                  </Text>
                  <Text
                    style={{
                      color: "white",
                      paddingTop: 12,
                      fontSize: 16,
                      fontWeight: "300",
                      textAlign: "left",
                      width: "80%",
                    }}
                  >
                    新版本特性:
                  </Text>
                  <Text
                    style={{
                      color: "white",
                      fontSize: 14,
                      fontWeight: "300",
                      textAlign: "left",
                      width: "80%",
                    }}
                  >
                    优化性能，修复BUG
                  </Text>
                  <View
                    style={{
                      paddingTop: 24,
                      alignItems: "center",
                      flexDirection: "row",
                      width: "100%",
                      alignContent: "center",
                    }}
                  >
                    <TouchableOpacity
                      onPress={() => {
                        Alert.alert(
                          "取消更新",
                          "确定取消更新吗？",
                          [
                            { text: "取消", style: "cancel" },
                            { text: "确定", onPress: () => cancelRegeng() },
                          ],
                          { cancelable: false }
                        );
                      }}
                      style={{ paddingTop: 0, flex: 1 }}
                    >
                      <Text
                        style={{
                          color: "#9C9C9C",
                          fontSize: 16,
                          textAlign: "center",
                        }}
                      >
                        取消
                      </Text>
                    </TouchableOpacity>
                    <TouchableOpacity
                      onPress={() => acceptRegeng()}
                      style={{ paddingTop: 0, flex: 1 }}
                    >
                      <Text
                        style={{
                          color: "#FAC33D",
                          fontSize: 16,
                          textAlign: "center",
                        }}
                      >
                        立即更新
                      </Text>
                    </TouchableOpacity>
                  </View>
                </View>
              </View>
            ) : (
              <View
                style={{
                  backgroundColor: "rgba(34, 34, 34, 0.9)",
                  marginTop: 40,
                  borderRadius: 12,
                  paddingTop: 18,
                }}
              >
                <View
                  style={{
                    alignItems: "center",
                    justifyContent: "center",
                    width: 260,
                  }}
                >
                  <Text
                    style={{
                      fontSize: 18,
                      fontWeight: "500",
                      color: "#FFF",
                      paddingVertical: 1,
                    }}
                  >
                    升级APP
                  </Text>
                  <Text
                    style={{
                      color: "white",
                      paddingTop: 12,
                      fontSize: 16,
                      fontWeight: "300",
                    }}
                  >
                    {regengContent} ({downloadProgress})
                  </Text>
                  <Text
                    style={{
                      color: "white",
                      paddingTop: 12,
                      fontSize: 16,
                      fontWeight: "300",
                    }}
                  ></Text>
                  <FastImage
                    source={require("@static/images/sinaHover.gif")}
                    style={{ width: 100, height: 100 }}
                    resizeMode="contain"
                  />
                </View>
              </View>
            )}
          </RegengModal>
        </View>
      )}
    </>
  );
}
