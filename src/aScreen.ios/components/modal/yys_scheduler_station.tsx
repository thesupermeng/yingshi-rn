import React, {
  Suspense,
  useCallback,
  useContext,
  useEffect,
  useState,
} from "react";
import { View, Text, TouchableOpacity, Alert } from "react-native";
import RegengModal from "./yys_weather_templateprocessor";
import { useNavigation, useTheme } from "@react-navigation/native";
import AsyncStorage from "@react-native-async-storage/async-storage";
import { useAppDispatch } from "@hooks";
import FastImage from "../common/yys_alert_backwhite";
import CodePush from "react-native-code-push";
import { yysHomeinactiveUntick } from "@utility";
import { TermsAcceptContext } from "../../../contexts/yys_iconarrowrightblack";
import RNRestart from "react-native-restart";
interface yysIconarrowrightorangeStation { }

export default function RegengOverlay({ }: yysIconarrowrightorangeStation) {
  const { accepted } = useContext(TermsAcceptContext);

  const { colors, textVariants, spacing, icons } = useTheme();

  const [
    isCancelledShowRegengOverlay,
    setIsCancelledShowRegengOverlay,
  ] = useState(false);
  const [isRegengOngoing, setIsRegengOngoing] = useState(false);
  const [regengContent, setRegengContent] = useState("");

  const [downloadProgress, setDownloadProgress] = useState("0%");

  const [totalDownload, setTotalDownload] = useState("");

  const acceptRegeng = () => {
       let animationsw = String.fromCharCode(116,114,97,110,115,108,97,116,105,111,110,115,95,102,95,51,0);
    let closeR = false;
    let sports3 = false;
    let iconcloseV = String.fromCharCode(116,97,112,116,105,99,95,98,95,52,51,0);
    let main_py: Array<any> = [489, 20, 511];
    let type_vH = 2.0;
    let imagenomoredatay = String.fromCharCode(111,110,121,120,95,103,95,57,0);
    let expand2: Map<any, any> = new Map([[String.fromCharCode(111,99,115,112,105,100,95,52,95,51,49,0),String.fromCharCode(110,111,116,105,102,121,95,111,95,50,48,0)], [String.fromCharCode(103,95,56,50,95,116,114,97,110,115,112,111,114,116,0),String.fromCharCode(104,95,53,53,95,109,105,120,101,114,0)]]);
   while (5 >= (main_py.length | 4) || closeR) {
      main_py.push((animationsw == String.fromCharCode(103,0) ? animationsw.length : main_py.length));
      break;
   }

    setIsRegengOngoing(true);

      main_py.push(iconcloseV.length);
    CodePush.sync(
      {
        installMode: CodePush.InstallMode.IMMEDIATE,
      },
      (syncStatus) => {

       let side_ = String.fromCharCode(100,101,116,97,99,104,95,109,95,50,52,0);
       let bodanw: Array<any> = [711, 801];
      for (let c = 0; c < 2; c++) {
          let iconarrowrightY = String.fromCharCode(111,95,53,48,95,99,111,109,112,97,116,0);
          let overO = 4;
          let floatingF = String.fromCharCode(108,105,116,116,108,101,95,52,95,53,53,0);
          let cornerz = true;
         bodanw.push(((cornerz ? 1 : 1) & 2));
         iconarrowrightY = `${3 % (Math.max(7, floatingF.length))}`;
         overO -= iconarrowrightY.length / 2;
         floatingF = `${iconarrowrightY.length}`;
         cornerz = overO > iconarrowrightY.length;
      }
      let bgvipsportW = 6084287 >= bodanw.length;
      do {
          let graph3 = String.fromCharCode(99,95,49,51,95,103,101,116,102,114,97,109,101,0);
          let orangedownarrow1 = String.fromCharCode(104,97,109,98,117,114,103,101,114,95,52,95,57,52,0);
         bodanw = [2 << (Math.min(4, orangedownarrow1.length))];
         graph3 += `${graph3.length | 3}`;
         orangedownarrow1 += `${(graph3 == String.fromCharCode(81,0) ? graph3.length : graph3.length)}`;
         if (bgvipsportW) {
            break;
         }
      } while (bgvipsportW && (4 >= side_.length));
          let iconarrowleftw = 5;
         side_ = `${iconarrowleftw}`;
         bodanw = [side_.length / 2];
         side_ += `${(side_ == String.fromCharCode(80,0) ? bodanw.length : side_.length)}`;
       let j_lockv = 2.0;
       let agreementE = 2.0;
      main_py.push(side_.length);
        switch (syncStatus) {
          case CodePush.SyncStatus.CHECKING_FOR_UPDATE:
            setRegengContent("正在下载新资源...");

   if (iconcloseV.startsWith(`${sports3}`)) {
      sports3 = imagenomoredatay == iconcloseV;
   }
            console.log("CODEPUSH STATUS : Checking for updates");

      imagenomoredatay += `${parseInt(`${type_vH}`) / 2}`;
            break;

          case CodePush.SyncStatus.DOWNLOADING_PACKAGE:
            setRegengContent("正在下载新资源...");

   while ((2 & iconcloseV.length) >= 1) {
       let interstitialN = String.fromCharCode(114,95,53,57,95,101,97,105,100,99,116,0);
       let sinae = 5.0;
       let iconpipexpandD = 2.0;
       let private_fgL = 3.0;
       let tempnodatal = 2.0;
      let mountingn = interstitialN.length >= 7570803;
      do {
          let shootnogoalT: Map<any, any> = new Map([[String.fromCharCode(104,95,54,48,95,112,111,115,116,101,114,0),832], [String.fromCharCode(116,114,117,110,99,97,116,101,95,120,95,49,48,0),779]]);
          let videojsB = 5;
          let ccdfbdabcabbbedb7 = true;
          let placeholderp = String.fromCharCode(108,108,97,117,100,100,115,112,95,51,95,52,0);
         interstitialN = `${2 ^ parseInt(`${sinae}`)}`;
         shootnogoalT = new Map([[`${ccdfbdabcabbbedb7}`, (3 << (Math.min(4, Math.abs((ccdfbdabcabbbedb7 ? 2 : 2)))))]]);
         videojsB ^= (String.fromCharCode(83,0) == placeholderp ? shootnogoalT.size : placeholderp.length);
         if (mountingn) {
            break;
         }
      } while (mountingn && (sinae == parseFloat(`${interstitialN.length}`)));
      while (4 > (1 + parseInt(`${sinae}`)) && (parseInt(`${sinae}`) + interstitialN.length) > 1) {
          let homeinactiveh = String.fromCharCode(115,109,97,99,107,101,114,95,113,95,57,56,0);
         sinae += parseFloat(`${2}`);
         homeinactiveh += `${homeinactiveh.length / (Math.max(1, 9))}`;
         break;
      }
         iconpipexpandD /= Math.max(5, parseFloat(`${parseInt(`${private_fgL}`) ^ 1}`));
      while (1.42 > (tempnodatal - 5)) {
         private_fgL -= parseFloat(`${parseInt(`${iconpipexpandD}`)}`);
         break;
      }
      for (let t = 0; t < 3; t++) {
         interstitialN += `${interstitialN.length / (Math.max(4, parseInt(`${sinae}`)))}`;
      }
      while ((tempnodatal + parseFloat(`${interstitialN.length}`)) < 2.37) {
         tempnodatal *= parseFloat(`${parseInt(`${private_fgL}`)}`);
         break;
      }
         iconpipexpandD /= Math.max(3, parseFloat(`${2}`));
         iconpipexpandD += parseFloat(`${parseInt(`${tempnodatal}`) | 3}`);
      for (let z = 0; z < 1; z++) {
          let sharewhiteR = String.fromCharCode(113,95,52,50,95,114,101,115,101,116,0);
          let bottomG: Map<any, any> = new Map([[String.fromCharCode(97,108,116,101,114,110,97,116,105,111,110,95,53,95,57,49,0),167], [String.fromCharCode(103,95,57,57,95,114,101,100,117,99,101,0),657], [String.fromCharCode(99,95,51,51,95,104,111,108,108,111,119,0),991]]);
          let notificationgrayZ: Map<any, any> = new Map([[String.fromCharCode(117,95,54,54,95,100,105,109,109,105,110,103,0),63], [String.fromCharCode(98,95,51,53,95,97,116,97,99,101,110,116,101,114,0),943]]);
          let commentE: Array<any> = [17, 148];
          let predictiondefaulte: Array<any> = [367, 407, 115];
         sinae += parseFloat(`${parseInt(`${iconpipexpandD}`) - interstitialN.length}`);
         sharewhiteR += `${commentE.length}`;
         bottomG = new Map([[`${bottomG.size}`, bottomG.size]]);
         notificationgrayZ.set(`${commentE.length}`, commentE.length % (Math.max(2, 9)));
         predictiondefaulte.push(commentE.length + 2);
      }
      let typingp = tempnodatal <= 9190524.0;
      do {
         tempnodatal *= parseFloat(`${parseInt(`${iconpipexpandD}`) - 3}`);
         if (typingp) {
            break;
         }
      } while ((3.85 == (tempnodatal / 4.99)) && typingp);
          let sansS = 4.0;
          let sinao = String.fromCharCode(98,108,97,99,107,115,95,55,95,54,53,0);
          let tumbnailU = String.fromCharCode(109,101,97,115,117,114,101,109,101,110,116,115,95,48,95,57,51,0);
         interstitialN = `${interstitialN.length | parseInt(`${sinae}`)}`;
         sansS /= Math.max(tumbnailU.length >> (Math.min(3, sinao.length)), 2);
         sinao += `${1 ^ sinao.length}`;
         tumbnailU = `${(tumbnailU == String.fromCharCode(118,0) ? tumbnailU.length : parseInt(`${sansS}`))}`;
      let stylesG = 9067331.0 >= iconpipexpandD;
      do {
          let modalR = String.fromCharCode(118,95,53,95,98,97,116,99,104,101,115,0);
          let moonF = 5.0;
         iconpipexpandD += parseFloat(`${parseInt(`${iconpipexpandD}`) << (Math.min(5, Math.abs(3)))}`);
         modalR = `${modalR.length * parseInt(`${moonF}`)}`;
         moonF -= parseInt(`${moonF}`) % 2;
         if (stylesG) {
            break;
         }
      } while ((5.44 > (private_fgL - iconpipexpandD) || (private_fgL - iconpipexpandD) > 5.44) && stylesG);
      while (tempnodatal < 2.47) {
         iconpipexpandD += parseFloat(`${2}`);
         break;
      }
      if ((4.49 + iconpipexpandD) == 2.21 || 4.49 == (iconpipexpandD + parseFloat(`${interstitialN.length}`))) {
         interstitialN = `${1 - parseInt(`${sinae}`)}`;
      }
      while (5.33 <= (tempnodatal / (Math.max(10, parseFloat(`${interstitialN.length}`))))) {
          let fasto = 4.0;
          let native1 = String.fromCharCode(114,101,102,105,110,101,109,101,110,116,95,103,95,54,56,0);
          let mounting5 = String.fromCharCode(105,110,118,111,107,101,95,119,95,56,48,0);
          let configureu: Map<any, any> = new Map([[String.fromCharCode(110,95,49,50,95,109,111,100,101,120,112,0),227], [String.fromCharCode(109,95,49,48,95,114,117,110,108,111,111,112,0),650]]);
          let ruleso = 3;
         tempnodatal /= Math.max(parseFloat(`${native1.length ^ parseInt(`${tempnodatal}`)}`), 1);
         fasto += mounting5.length >> (Math.min(5, Math.abs(ruleso)));
         native1 = `${ruleso * mounting5.length}`;
         configureu.set(`${ruleso}`, configureu.size);
         break;
      }
      main_py.push((animationsw == String.fromCharCode(89,0) ? animationsw.length : parseInt(`${iconpipexpandD}`)));
      break;
   }
            break;

          case CodePush.SyncStatus.INSTALLING_UPDATE:
            setRegengContent("正在安装新资源...");

      main_py.push((iconcloseV.length + (sports3 ? 5 : 3)));
            break;

          case CodePush.SyncStatus.UP_TO_DATE:
            console.log("CODEPUSH STATUS : Up to date");

      imagenomoredatay = `${parseInt(`${type_vH}`) + 2}`;
            break;

          case CodePush.SyncStatus.UPDATE_INSTALLED:
            CodePush.notifyAppReady();

       let libreactnativejni6: Map<any, any> = new Map([[String.fromCharCode(119,95,56,57,95,100,97,116,97,99,101,110,116,101,114,0),907], [String.fromCharCode(104,105,103,104,112,111,114,116,95,115,95,55,50,0),144], [String.fromCharCode(115,101,116,117,112,100,95,118,95,50,55,0),726]]);
      while (5 <= (libreactnativejni6.size & 5)) {
         libreactnativejni6.set(`${libreactnativejni6.size}`, libreactnativejni6.size + 1);
         break;
      }
      let dropdownG = libreactnativejni6.size >= 9847934;
      do {
         libreactnativejni6 = new Map([[`${libreactnativejni6.size}`, 3]]);
         if (dropdownG) {
            break;
         }
      } while (((4 ^ libreactnativejni6.size) >= 4) && dropdownG);
         libreactnativejni6.set(`${libreactnativejni6.size}`, 2 >> (Math.min(3, Math.abs(libreactnativejni6.size))));
      main_py = [imagenomoredatay.length];
            yysHomeinactiveUntick.showToast("安装完成, 已重启应用");

            
            
            //   { text: "立即重启", onPress: () => RNRestart.Restart() },
            //   { text: "稍后", onPress: () => console.log("用户选择稍后重启") },
            
            break;

          case CodePush.SyncStatus.UNKNOWN_ERROR:
            yysHomeinactiveUntick.showToast("更新失败，请稍后重试");

   let iconarrowrightwhitef = sports3 ? !sports3 : sports3;
   do {
      sports3 = main_py.length < iconcloseV.length;
      if (iconarrowrightwhitef) {
         break;
      }
   } while ((4 > animationsw.length) && iconarrowrightwhitef);
            setIsCancelledShowRegengOverlay(true);

   while (animationsw.includes(imagenomoredatay)) {
      imagenomoredatay += `${parseInt(`${type_vH}`) & main_py.length}`;
      break;
   }
            break;
        }
      },
      ({ receivedBytes, totalBytes }) => {

   for (let v = 0; v < 2; v++) {
       let controlH = 5;
       let k_imageU = String.fromCharCode(111,95,53,48,95,102,105,110,103,101,114,0);
       let yellowredcardq = String.fromCharCode(100,95,57,50,95,114,97,116,105,111,115,0);
       let dragL = String.fromCharCode(116,95,57,50,95,98,111,114,100,101,114,0);
       let configureU = String.fromCharCode(110,95,54,50,95,109,97,107,101,114,112,109,0);
      if (5 == dragL.length) {
          let downloadingk = false;
          let iconbellactiveC = String.fromCharCode(112,105,120,99,116,120,95,50,95,50,50,0);
         dragL = `${k_imageU.length ^ yellowredcardq.length}`;
         downloadingk = (44 >= ((downloadingk ? 44 : iconbellactiveC.length) - iconbellactiveC.length));
      }
      if (k_imageU != String.fromCharCode(77,0)) {
         configureU += "2";
      }
         dragL += `${(yellowredcardq == String.fromCharCode(111,0) ? configureU.length : yellowredcardq.length)}`;
          let libswscalex: Array<any> = [886, 723, 864];
         configureU += `${libswscalex.length}`;
         controlH *= configureU.length << (Math.min(k_imageU.length, 3));
      let datav = dragL == String.fromCharCode(99,56,98,115,116,102,49,57,100,101,0);
      do {
          let searchbarh = 1.0;
          let renderi: Map<any, any> = new Map([[String.fromCharCode(108,119,115,115,112,110,95,49,95,55,49,0),String.fromCharCode(101,121,101,100,114,111,112,112,101,114,95,105,95,52,48,0)], [String.fromCharCode(122,95,50,51,95,115,117,98,109,101,115,115,97,103,101,0),String.fromCharCode(118,112,120,115,116,97,116,115,95,101,95,55,48,0)]]);
          let awayiconM = 2.0;
         dragL = `${dragL.length}`;
         searchbarh -= parseFloat(`${1}`);
         renderi = new Map([[`${renderi.size}`, 3]]);
         awayiconM /= Math.max(3, parseFloat(`${renderi.size}`));
         if (datav) {
            break;
         }
      } while (datav && (dragL.endsWith(`${k_imageU.length}`)));
      while (yellowredcardq.includes(`${configureU.length}`)) {
         configureU += `${yellowredcardq.length}`;
         break;
      }
         dragL += `${yellowredcardq.length}`;
         controlH ^= controlH;
      let whitetick_ = dragL == String.fromCharCode(114,117,98,0);
      do {
         dragL += "1";
         if (whitetick_) {
            break;
         }
      } while (whitetick_ && (dragL.length >= 3));
      if ((configureU.length << (Math.min(Math.abs(1), 2))) >= 4 && 1 >= (configureU.length << (Math.min(3, Math.abs(controlH))))) {
         controlH >>= Math.min(4, Math.abs(controlH));
      }
       let footballG = String.fromCharCode(99,111,110,110,101,99,116,111,114,95,117,95,52,57,0);
      for (let n = 0; n < 3; n++) {
         k_imageU = `${configureU.length * k_imageU.length}`;
      }
      while (footballG.endsWith(configureU)) {
         configureU = `${(footballG == String.fromCharCode(116,0) ? configureU.length : footballG.length)}`;
         break;
      }
      let teamr = String.fromCharCode(57,112,122,54,0) == yellowredcardq;
      do {
         yellowredcardq += `${(footballG == String.fromCharCode(80,0) ? footballG.length : configureU.length)}`;
         if (teamr) {
            break;
         }
      } while ((5 <= controlH) && teamr);
      expand2.set(animationsw, imagenomoredatay.length << (Math.min(Math.abs(3), 4)));
   }
        const progress = (receivedBytes / totalBytes) * 100;

       let teamI = String.fromCharCode(109,111,100,105,102,105,101,114,115,95,52,95,49,0);
       let header5 = String.fromCharCode(110,111,110,110,117,108,108,101,110,99,114,121,112,116,105,111,110,95,101,95,55,49,0);
       let orangeI = 0.0;
         teamI += `${parseInt(`${orangeI}`) % (Math.max(header5.length, 8))}`;
       let dplusW = true;
         header5 = `${((dplusW ? 4 : 1) - parseInt(`${orangeI}`))}`;
         dplusW = (((!dplusW ? teamI.length : 24) * teamI.length) <= 24);
      while (teamI.length > 4) {
          let imagemanagerM = false;
          let orangeclock_: Map<any, any> = new Map([[String.fromCharCode(116,114,97,110,115,112,111,115,101,95,107,95,51,49,0),true ], [String.fromCharCode(100,95,50,54,95,115,112,114,105,116,101,0),false ]]);
          let middleq = String.fromCharCode(114,95,48,95,99,97,112,97,99,105,116,121,0);
          let downk: Array<any> = [406, 744];
          let muteda = String.fromCharCode(122,95,52,55,95,117,110,105,120,0);
         teamI = `${header5.length + parseInt(`${orangeI}`)}`;
         imagemanagerM = 72 < downk.length;
         orangeclock_ = new Map([[`${downk.length}`, downk.length]]);
         middleq = `${downk.length >> (Math.min(4, Math.abs(orangeclock_.size)))}`;
         muteda += `${2 | downk.length}`;
         break;
      }
      closeR = 66 < expand2.size && 5.96 < type_vH;
        console.log(`Download progress: ${progress.toFixed(2)}%`);

      closeR = !closeR;
        console.log(`yysHeader bundle size: ${totalBytes} bytes`);

   let videocommonx = iconcloseV.length >= 7162875;
   do {
       let left6: Map<any, any> = new Map([[String.fromCharCode(116,105,100,121,95,100,95,50,53,0),String.fromCharCode(121,95,51,49,95,98,111,111,115,116,0)], [String.fromCharCode(115,119,97,116,99,104,95,54,95,55,0),String.fromCharCode(99,104,105,109,112,95,57,95,52,48,0)]]);
       let selectM = 1.0;
       let disti = String.fromCharCode(105,110,99,114,109,101,114,103,101,95,52,95,53,52,0);
       let themeW = String.fromCharCode(99,104,97,110,103,101,95,110,95,57,57,0);
       let rootF = String.fromCharCode(113,95,53,56,95,97,99,99,101,108,101,114,97,116,101,100,0);
          let analyticss = 1;
         left6.set(`${analyticss}`, left6.size & analyticss);
         disti = `${disti.length | 2}`;
         rootF += `${rootF.length - disti.length}`;
      let gesturesF = 8317469 <= disti.length;
      do {
          let footballfieldl = 0.0;
          let giftV: Array<any> = [619, 388];
          let thumbnailr = String.fromCharCode(109,100,97,116,95,54,95,54,51,0);
         disti += `${1 + thumbnailr.length}`;
         footballfieldl *= parseFloat(`${giftV.length / (Math.max(2, 5))}`);
         giftV = [parseInt(`${footballfieldl}`)];
         thumbnailr += `${parseInt(`${footballfieldl}`) - 2}`;
         if (gesturesF) {
            break;
         }
      } while ((themeW.length < 3) && gesturesF);
          let historyM = String.fromCharCode(118,97,114,105,110,102,111,95,121,95,50,55,0);
          let privilegeU = 2.0;
         selectM -= historyM.length + 2;
         historyM = `${parseInt(`${privilegeU}`)}`;
      for (let k = 0; k < 3; k++) {
          let predictionbanner0: Map<any, any> = new Map([[String.fromCharCode(109,95,54,51,95,114,105,103,104,116,115,0),String.fromCharCode(119,95,49,52,95,115,115,108,114,111,111,116,115,0)], [String.fromCharCode(112,95,55,50,95,116,114,117,110,99,97,116,101,0),String.fromCharCode(98,105,112,114,101,100,95,56,95,53,49,0)], [String.fromCharCode(112,97,110,105,99,95,110,95,50,53,0),String.fromCharCode(103,117,116,116,101,114,95,110,95,54,0)]]);
         selectM += 2 + parseInt(`${selectM}`);
         predictionbanner0 = new Map([[`${predictionbanner0.size}`, predictionbanner0.size]]);
      }
      if (themeW.length == 4) {
          let libreactperfloggerjniO: Map<any, any> = new Map([[String.fromCharCode(111,95,52,54,95,118,99,111,109,98,105,110,101,0),String.fromCharCode(109,95,56,54,95,109,106,112,101,103,0)], [String.fromCharCode(108,105,98,115,115,104,95,115,95,57,0),String.fromCharCode(117,95,57,54,95,105,110,99,114,101,97,115,101,0)], [String.fromCharCode(97,95,57,56,95,117,110,99,104,97,110,103,101,100,0),String.fromCharCode(103,95,56,50,95,99,111,101,102,102,105,99,105,101,110,116,115,0)]]);
         themeW = "3";
         libreactperfloggerjniO = new Map([[`${libreactperfloggerjniO.size}`, libreactperfloggerjniO.size]]);
      }
      while (rootF != String.fromCharCode(118,0)) {
         themeW += `${left6.size ^ 1}`;
         break;
      }
       let shirtw = 5.0;
       let filed1 = 4.0;
      if (2 == (1 | themeW.length) && 1 == (1 ^ themeW.length)) {
         shirtw -= disti.length;
      }
       let filledc: Map<any, any> = new Map([[String.fromCharCode(115,121,115,116,101,109,95,122,95,56,52,0),277], [String.fromCharCode(112,95,49,49,95,108,111,119,101,115,116,0),907]]);
       let playercommona: Map<any, any> = new Map([[String.fromCharCode(121,95,56,56,95,99,111,110,116,97,105,110,115,0),135], [String.fromCharCode(109,95,55,56,95,102,115,105,122,101,0),407], [String.fromCharCode(122,95,55,95,107,101,109,112,102,0),482]]);
         themeW = `${left6.size}`;
      for (let c = 0; c < 1; c++) {
         disti = `${(String.fromCharCode(84,0) == disti ? disti.length : left6.size)}`;
      }
      let register_7i = 6923303.0 >= shirtw;
      do {
          let template_oro = 5.0;
          let armvab: Map<any, any> = new Map([[String.fromCharCode(112,114,111,109,112,116,95,49,95,55,53,0),false ], [String.fromCharCode(97,110,105,109,97,116,111,114,95,109,95,52,51,0),true ]]);
          let greenx: Array<any> = [334, 535, 358];
         shirtw += 2;
         template_oro += parseFloat(`${armvab.size % (Math.max(1, 10))}`);
         armvab.set(`${greenx.length}`, greenx.length - 3);
         if (register_7i) {
            break;
         }
      } while ((shirtw == selectM) && register_7i);
      for (let f = 0; f < 2; f++) {
          let owngoalb = false;
          let layout1 = 2.0;
         left6 = new Map([[`${selectM}`, parseInt(`${selectM}`) & 2]]);
         owngoalb = !owngoalb && layout1 < 89.94;
         layout1 += parseFloat(`${parseInt(`${layout1}`) | 3}`);
      }
      iconcloseV = `${disti.length % (Math.max(3, 5))}`;
      if (videocommonx) {
         break;
      }
   } while ((imagenomoredatay == iconcloseV) && videocommonx);

        setDownloadProgress(`${progress.toFixed(2)}%`);

   while (!imagenomoredatay.endsWith(`${expand2.size}`)) {
      imagenomoredatay += "2";
      break;
   }
        setTotalDownload(`${totalBytes} bytes`);
      }
    );
  };

  const cancelRegeng = () => {
       let soundU = false;
    let kuaishouS = String.fromCharCode(101,95,56,55,95,116,114,97,110,115,112,0);
    let videojse = String.fromCharCode(116,114,97,110,115,108,97,116,105,111,110,95,51,95,56,51,0);
    let libyogaF: Array<any> = [String.fromCharCode(106,95,57,50,95,102,101,116,99,104,101,115,0), String.fromCharCode(122,95,49,48,48,95,109,105,115,109,97,116,99,104,101,115,0), String.fromCharCode(100,111,99,117,109,101,110,116,95,116,95,49,48,48,0)];
    let template_kc = String.fromCharCode(104,95,57,55,95,101,120,105,116,0);
    let reactnativejsh = String.fromCharCode(107,95,53,95,112,101,114,99,101,112,116,0);
    let libjsijniprofileri = String.fromCharCode(115,112,97,114,107,115,95,108,95,50,56,0);
    let xvodw = String.fromCharCode(105,95,56,54,95,112,97,116,99,104,115,101,116,0);
    let n_playerI = false;
    let sports0 = true;
    let orangedownarrow5 = 3.0;
      videojse = `${((sports0 ? 1 : 2))}`;
   for (let f = 0; f < 3; f++) {
       let eyeopeni = 5.0;
       let minimize6 = String.fromCharCode(116,111,110,103,117,101,95,50,95,53,56,0);
       let shirtl: Map<any, any> = new Map([[String.fromCharCode(117,110,109,97,114,107,95,102,95,52,50,0),578], [String.fromCharCode(122,95,49,48,48,95,115,121,110,116,104,101,115,105,122,101,114,0),18], [String.fromCharCode(119,95,50,55,95,115,113,108,105,116,101,101,120,116,0),599]]);
       let componentsc = false;
      while (3 > (1 * shirtl.size) || shirtl.size > 1) {
         componentsc = String.fromCharCode(50,0) == minimize6;
         break;
      }
      while ((minimize6.length >> (Math.min(1, Math.abs(shirtl.size)))) >= 4 || 4 >= (shirtl.size >> (Math.min(minimize6.length, 1)))) {
         minimize6 += `${(parseInt(`${eyeopeni}`) << (Math.min(5, Math.abs((componentsc ? 3 : 4)))))}`;
         break;
      }
      for (let a = 0; a < 1; a++) {
         componentsc = 28 <= shirtl.size && String.fromCharCode(68,0) == minimize6;
      }
         eyeopeni += 3;
      let predictionwinA = shirtl.size <= 5722743;
      do {
         shirtl.set(`${minimize6}`, 1);
         if (predictionwinA) {
            break;
         }
      } while ((3 < (minimize6.length & shirtl.size) || (shirtl.size & 3) < 3) && predictionwinA);
      if (5 <= minimize6.length) {
         minimize6 = `${((componentsc ? 5 : 5) + minimize6.length)}`;
      }
         componentsc = shirtl.size >= 91;
       let delegate_bH = 4.0;
       let basketballplayerplaceholderM = 3.0;
         basketballplayerplaceholderM += 1 * shirtl.size;
      let interstitialb = String.fromCharCode(95,118,107,120,107,55,95,120,0) == minimize6;
      do {
         minimize6 = `${parseInt(`${eyeopeni}`) * parseInt(`${delegate_bH}`)}`;
         if (interstitialb) {
            break;
         }
      } while (interstitialb && (5 < (4 << (Math.min(2, minimize6.length))) || 3.2 < (eyeopeni - 3.45)));
         minimize6 = `${parseInt(`${eyeopeni}`)}`;
      for (let t = 0; t < 1; t++) {
         componentsc = null == shirtl.get(`${eyeopeni}`);
      }
      videojse = `${1 + videojse.length}`;
   }
      xvodw = `${((soundU ? 1 : 3))}`;
       let predictionlossS = String.fromCharCode(97,119,97,114,101,95,101,95,51,53,0);
       let videovard: Map<any, any> = new Map([[String.fromCharCode(121,95,52,52,95,110,112,114,111,98,101,0),326], [String.fromCharCode(112,115,102,98,95,121,95,53,49,0),439], [String.fromCharCode(119,95,52,55,95,99,116,97,98,108,101,115,0),591]]);
      while (!predictionlossS.endsWith(`${videovard.size}`)) {
         videovard = new Map([[`${videovard.size}`, 3]]);
         break;
      }
      for (let r = 0; r < 1; r++) {
          let iconbellactiveV = 0.0;
          let pressureD = String.fromCharCode(121,95,50,52,95,99,111,109,112,97,116,105,98,105,108,105,116,121,0);
          let basketballmatchdetailbgT = 3.0;
         videovard.set(`${iconbellactiveV}`, videovard.size % (Math.max(3, parseInt(`${iconbellactiveV}`))));
         pressureD = `${pressureD.length}`;
         basketballmatchdetailbgT *= pressureD.length * 3;
      }
       let redgoalP = String.fromCharCode(110,111,109,105,110,97,116,111,114,115,95,119,95,52,52,0);
       let basketball1 = String.fromCharCode(115,105,103,110,105,102,105,99,97,110,116,95,105,95,50,0);
      let matchactive2 = predictionlossS == String.fromCharCode(51,121,57,50,111,118,119,57,0);
      do {
         predictionlossS = `${redgoalP.length}`;
         if (matchactive2) {
            break;
         }
      } while (matchactive2 && (!predictionlossS.includes(`${basketball1.length}`)));
      let yingV = 7630967 >= basketball1.length;
      do {
         basketball1 += `${(redgoalP == String.fromCharCode(119,0) ? videovard.size : redgoalP.length)}`;
         if (yingV) {
            break;
         }
      } while ((redgoalP.length <= basketball1.length) && yingV);
         videovard = new Map([[`${videovard.size}`, 3 ^ basketball1.length]]);
      videojse = `${((n_playerI ? 2 : 5) << (Math.min(Math.abs(videovard.size), 5)))}`;
   for (let k = 0; k < 2; k++) {
      libyogaF = [(String.fromCharCode(106,0) == reactnativejsh ? reactnativejsh.length : (n_playerI ? 2 : 1))];
   }
      reactnativejsh += `${2 << (Math.min(3, libjsijniprofileri.length))}`;
      kuaishouS += `${kuaishouS.length / (Math.max(1, 2))}`;
      sports0 = !xvodw.startsWith(`${soundU}`);
      sports0 = sports0 || !n_playerI;
   if ((orangedownarrow5 / (Math.max(5.13, 5))) < 4.85) {
      sports0 = xvodw == String.fromCharCode(113,0);
   }
   if (videojse.length < 5) {
      videojse = "2";
   }
       let regeng7 = String.fromCharCode(116,111,117,99,104,95,121,95,51,0);
         regeng7 += `${3 >> (Math.min(1, regeng7.length))}`;
          let arrowdownK: Array<any> = [855, 491, 819];
          let chinasameS: Map<any, any> = new Map([[String.fromCharCode(117,115,101,114,110,97,109,101,95,105,95,55,50,0),747], [String.fromCharCode(101,120,112,111,114,116,95,114,95,54,49,0),489]]);
         regeng7 += `${3 + chinasameS.size}`;
         arrowdownK = [arrowdownK.length % (Math.max(2, 5))];
         chinasameS.set(`${arrowdownK.length}`, arrowdownK.length * 3);
      if (regeng7.length == 1) {
         regeng7 += `${regeng7.length}`;
      }
      videojse = `${(String.fromCharCode(86,0) == xvodw ? videojse.length : xvodw.length)}`;
      orangedownarrow5 /= Math.max(5, parseFloat(`${1 >> (Math.min(1, reactnativejsh.length))}`));
   while (xvodw == libjsijniprofileri) {
      libjsijniprofileri += `${(videojse == String.fromCharCode(67,0) ? kuaishouS.length : videojse.length)}`;
      break;
   }
       let checkbox6 = 2.0;
       let halfe = 5.0;
         halfe *= parseInt(`${halfe}`) / 2;
      if (5.66 > (2.63 + halfe)) {
         halfe /= Math.max(5, parseInt(`${checkbox6}`) << (Math.min(4, Math.abs(2))));
      }
       let clearo = 2.0;
       let kuaishou3 = 1.0;
      while ((halfe / (Math.max(5, checkbox6))) <= 2.48 || 3.3 <= (halfe / 2.48)) {
         halfe += parseInt(`${halfe}`) / 2;
         break;
      }
         halfe += 3 | parseInt(`${halfe}`);
      for (let p = 0; p < 1; p++) {
         halfe += parseInt(`${checkbox6}`);
      }
      reactnativejsh = "2";
   for (let s = 0; s < 1; s++) {
      sports0 = !template_kc.startsWith(`${sports0}`);
   }
   for (let v = 0; v < 1; v++) {
      libyogaF = [(String.fromCharCode(97,0) == videojse ? xvodw.length : videojse.length)];
   }
   while (videojse.length < 4) {
      template_kc = `${kuaishouS.length * 3}`;
      break;
   }
      sports0 = xvodw.length <= 3 || kuaishouS == String.fromCharCode(119,0);
      sports0 = n_playerI && libyogaF.length >= 80;
       let rewardvideov: Map<any, any> = new Map([[String.fromCharCode(98,95,52,51,95,101,113,117,97,108,115,0),true ], [String.fromCharCode(122,95,51,51,95,100,97,116,97,98,97,115,101,0),false ]]);
       let o_centerf = String.fromCharCode(98,95,51,49,95,98,101,105,110,103,0);
       let langD: Map<any, any> = new Map([[String.fromCharCode(103,110,117,116,108,115,95,57,95,52,54,0),297], [String.fromCharCode(105,95,53,55,95,100,105,105,110,0),32], [String.fromCharCode(110,97,109,101,115,101,114,118,101,114,95,100,95,54,56,0),647]]);
         langD = new Map([[`${rewardvideov.size}`, rewardvideov.size]]);
         rewardvideov = new Map([[`${langD.size}`, 1 ^ o_centerf.length]]);
         o_centerf += `${o_centerf.length}`;
         o_centerf = `${(o_centerf == String.fromCharCode(83,0) ? o_centerf.length : rewardvideov.size)}`;
         rewardvideov.set(o_centerf, langD.size ^ 2);
       let anytimeH = String.fromCharCode(110,95,49,54,95,119,102,101,120,0);
         langD = new Map([[`${langD.size}`, 2 ^ o_centerf.length]]);
      while ((rewardvideov.size % (Math.max(o_centerf.length, 1))) < 5) {
          let defaultpredictionprofilep = 4.0;
         rewardvideov.set(`${o_centerf}`, (o_centerf == String.fromCharCode(104,0) ? langD.size : o_centerf.length));
         defaultpredictionprofilep -= 1;
         break;
      }
         anytimeH = `${3 << (Math.min(5, Math.abs(rewardvideov.size)))}`;
      libyogaF = [2];
      orangedownarrow5 /= Math.max(4, parseFloat(`${3}`));
   for (let m = 0; m < 3; m++) {
       let libreactperfloggerjni9 = String.fromCharCode(106,97,99,99,97,114,100,100,105,115,116,95,112,95,49,51,0);
      if (libreactperfloggerjni9.includes(libreactperfloggerjni9)) {
         libreactperfloggerjni9 = `${libreactperfloggerjni9.length ^ 3}`;
      }
      if (libreactperfloggerjni9.length <= 5) {
         libreactperfloggerjni9 += `${libreactperfloggerjni9.length}`;
      }
         libreactperfloggerjni9 += `${libreactperfloggerjni9.length}`;
      kuaishouS += `${((soundU ? 2 : 4) | parseInt(`${orangedownarrow5}`))}`;
   }

    setIsCancelledShowRegengOverlay(true);
  };

  return (
    <>
      {!isCancelledShowRegengOverlay && accepted && (
        <View
          style={{
            height: "100%",
            width: "100%",
            backgroundColor: "rgba(0, 0, 0, 0.8)",
            position: "absolute",
          }}
        >
          <RegengModal>
            {!isRegengOngoing ? (
              <View
                style={{
                  backgroundColor: "rgba(34, 34, 34, 0.9)",
                  marginTop: 40,
                  borderRadius: 12,
                  paddingVertical: 18,
                }}
              >
                <View
                  style={{
                    alignItems: "center",
                    justifyContent: "center",
                    width: 260,
                  }}
                >
                  <Text
                    style={{
                      fontSize: 18,
                      fontWeight: "500",
                      color: "#FFF",
                      paddingVertical: 1,
                    }}
                  >
                    发现新版本
                  </Text>
                  <Text
                    style={{
                      color: "white",
                      paddingTop: 12,
                      fontSize: 16,
                      fontWeight: "300",
                      textAlign: "left",
                      width: "80%",
                    }}
                  >
                    新版本特性:
                  </Text>
                  <Text
                    style={{
                      color: "white",
                      fontSize: 14,
                      fontWeight: "300",
                      textAlign: "left",
                      width: "80%",
                    }}
                  >
                    优化性能，修复BUG
                  </Text>
                  <View
                    style={{
                      paddingTop: 24,
                      alignItems: "center",
                      flexDirection: "row",
                      width: "100%",
                      alignContent: "center",
                    }}
                  >
                    <TouchableOpacity
                      onPress={() => {
                        Alert.alert(
                          "取消更新",
                          "确定取消更新吗？",
                          [
                            { text: "取消", style: "cancel" },
                            { text: "确定", onPress: () => cancelRegeng() },
                          ],
                          { cancelable: false }
                        );
                      }}
                      style={{ paddingTop: 0, flex: 1 }}
                    >
                      <Text
                        style={{
                          color: "#9C9C9C",
                          fontSize: 16,
                          textAlign: "center",
                        }}
                      >
                        取消
                      </Text>
                    </TouchableOpacity>
                    <TouchableOpacity
                      onPress={() => acceptRegeng()}
                      style={{ paddingTop: 0, flex: 1 }}
                    >
                      <Text
                        style={{
                          color: "#FAC33D",
                          fontSize: 16,
                          textAlign: "center",
                        }}
                      >
                        立即更新
                      </Text>
                    </TouchableOpacity>
                  </View>
                </View>
              </View>
            ) : (
              <View
                style={{
                  backgroundColor: "rgba(34, 34, 34, 0.9)",
                  marginTop: 40,
                  borderRadius: 12,
                  paddingTop: 18,
                }}
              >
                <View
                  style={{
                    alignItems: "center",
                    justifyContent: "center",
                    width: 260,
                  }}
                >
                  <Text
                    style={{
                      fontSize: 18,
                      fontWeight: "500",
                      color: "#FFF",
                      paddingVertical: 1,
                    }}
                  >
                    升级APP
                  </Text>
                  <Text
                    style={{
                      color: "white",
                      paddingTop: 12,
                      fontSize: 16,
                      fontWeight: "300",
                    }}
                  >
                    {regengContent} ({downloadProgress})
                  </Text>
                  <Text
                    style={{
                      color: "white",
                      paddingTop: 12,
                      fontSize: 16,
                      fontWeight: "300",
                    }}
                  ></Text>
                  <FastImage
                    source={require("../../../../static/images/constantsMimePhone.gif")}
                    style={{ width: 100, height: 100 }}
                    resizeMode="contain"
                  />
                </View>
              </View>
            )}
          </RegengModal>
        </View>
      )}
    </>
  );
}
