import { useTheme } from "@react-navigation/native";
import React from "react";
import { View, Text, TouchableOpacity, StyleSheet, ActionSheetIOS } from "react-native";
import FastImage from "react-native-fast-image";
import { wwImage } from "@type/ww_dycreator_result";
import { wwLaunchRound } from "@utility/ww_star";
import { useAppDispatch } from "@hooks/ww_catagory_neon";
import { showReportAction } from "@redux/actions/ww_hash";

interface wwIndexDice {
  commentItem: wwImage;
}

export const CommentCard = ({ commentItem }: wwIndexDice) => {
  const { textVariants, colors } = useTheme();
  const dispatch = useAppDispatch();

  const handlePress = async () => {
       let stepR = 2.0;
    let mimoQ = 4;
    let umeng2 = String.fromCharCode(103,95,49,51,95,99,97,108,108,115,0);
    let shielddoneS = 5;
    let shootM: Array<any> = [364, 381];
    let selectedM: Array<any> = [639, 732, 304];
    let libflipperD = 2.0;
    let libswscaleX = 3;
    let photoo = 4;
    let unselectedE = 0;
    let libimagepipelineK = 3.0;
    let stationsN = String.fromCharCode(115,101,115,115,105,111,110,95,117,95,55,0);
    let otherO = 2;
    let indicator1: Map<any, any> = new Map([[String.fromCharCode(114,101,112,114,111,99,101,115,115,95,105,95,51,50,0),216], [String.fromCharCode(112,111,115,116,101,114,115,95,55,95,56,49,0),783], [String.fromCharCode(101,97,99,104,95,103,95,56,51,0),936]]);
      selectedM = [(umeng2 == String.fromCharCode(66,0) ? parseInt(`${stepR}`) : umeng2.length)];
   let libjsijniprofilerR = umeng2.length >= 9217811;
   do {
       let libhermesA = String.fromCharCode(111,95,51,55,95,118,103,108,111,98,97,108,0);
       let bodanv = 2;
       let libavcodecB: Array<any> = [688, 360];
       let z_countS = 3.0;
      if (bodanv <= libavcodecB.length) {
         bodanv /= Math.max(3, 3);
      }
       let controlu = String.fromCharCode(106,95,56,48,95,102,114,105,99,116,105,111,110,0);
      while (5 <= (5 >> (Math.min(5, controlu.length))) || (5 >> (Math.min(4, Math.abs(bodanv)))) <= 5) {
         bodanv *= bodanv % 1;
         break;
      }
         controlu = `${controlu.length}`;
      let lighti = String.fromCharCode(110,116,99,57,100,110,51,122,109,99,0) == libhermesA;
      do {
          let collectionR = false;
          let flagb = String.fromCharCode(101,120,112,97,110,100,95,110,95,50,56,0);
          let pangleE = 5;
          let k_positionr = 2.0;
          let cancel_ = String.fromCharCode(111,112,116,97,98,108,101,0);
         libhermesA += `${pangleE}`;
         collectionR = 17 <= cancel_.length;
         flagb += `${(flagb == String.fromCharCode(73,0) ? (collectionR ? 2 : 2) : flagb.length)}`;
         pangleE |= flagb.length & 3;
         k_positionr *= (parseFloat(`${parseInt(`${k_positionr}`) / (Math.max(5, (collectionR ? 2 : 3)))}`));
         cancel_ = `${parseInt(`${k_positionr}`)}`;
         if (lighti) {
            break;
         }
      } while ((3 < (1 << (Math.min(5, libhermesA.length)))) && lighti);
         bodanv ^= 1;
      let ballx = z_countS >= 6253208.0;
      do {
          let matchactiveZ = 5.0;
         z_countS *= parseFloat(`${1 - parseInt(`${matchactiveZ}`)}`);
         if (ballx) {
            break;
         }
      } while ((2 >= libavcodecB.length) && ballx);
      if (5 == (libhermesA.length >> (Math.min(4, Math.abs(bodanv)))) && 2 == (bodanv >> (Math.min(Math.abs(5), 2)))) {
         bodanv <<= Math.min(3, Math.abs(3));
      }
       let forwardb: Map<any, any> = new Map([[String.fromCharCode(97,99,99,101,108,101,114,97,116,101,95,56,95,50,48,0),385], [String.fromCharCode(104,97,115,95,109,95,52,48,0),163]]);
         controlu += `${parseInt(`${z_countS}`) * libavcodecB.length}`;
      while (z_countS > 3.82) {
          let suggestionw = String.fromCharCode(101,108,97,115,116,105,99,95,103,95,50,55,0);
          let searchb = 0;
          let shrink0 = 5;
          let windz: Map<any, any> = new Map([[String.fromCharCode(102,111,114,101,109,97,110,95,115,95,53,55,0),932], [String.fromCharCode(109,95,54,55,95,115,105,110,117,115,111,105,100,97,108,0),1], [String.fromCharCode(118,95,55,51,95,100,105,97,103,114,97,109,0),354]]);
         controlu = `${windz.size / 1}`;
         suggestionw = `${searchb}`;
         searchb /= Math.max(2, 5);
         shrink0 -= searchb;
         windz = new Map([[suggestionw, suggestionw.length ^ 1]]);
         break;
      }
          let i_titleX = String.fromCharCode(108,95,52,53,95,111,117,116,108,105,101,114,0);
         bodanv ^= 3;
         i_titleX = `${i_titleX.length >> (Math.min(i_titleX.length, 3))}`;
      umeng2 += `${1 >> (Math.min(2, shootM.length))}`;
      if (libjsijniprofilerR) {
         break;
      }
   } while ((3 >= selectedM.length) && libjsijniprofilerR);
   for (let z = 0; z < 1; z++) {
      stepR *= photoo;
   }

    ActionSheetIOS.showActionSheetWithOptions(
      {
        options: ['取消', '色情低俗', '广告', '令人恶心', '违纪违法', '政治敏感'],
        cancelButtonIndex: 0,
        userInterfaceStyle: 'dark',
        tintColor: colors.primary,
      },
      buttonIndex => {

      photoo ^= shootM.length;
      umeng2 = `${3 & selectedM.length}`;
   while ((umeng2.length | 3) >= 1 && 4 >= (umeng2.length | 3)) {
       let dependenciesG = 4;
       let predictionwinL = 3;
       let root2 = String.fromCharCode(97,95,53,55,95,102,114,111,122,101,110,0);
       let greenA = String.fromCharCode(119,111,114,107,105,110,103,95,116,95,57,55,0);
      while (root2.endsWith(greenA)) {
          let benefitb = 3;
          let index4 = 4.0;
          let starJ: Array<any> = [17, 228];
          let mbridgej = String.fromCharCode(115,117,98,112,97,116,104,115,95,107,95,56,57,0);
         root2 += `${predictionwinL}`;
         benefitb ^= 2 >> (Math.min(Math.abs(parseInt(`${index4}`)), 4));
         index4 += 3;
         starJ.push(starJ.length >> (Math.min(1, Math.abs(parseInt(`${index4}`)))));
         mbridgej = `${starJ.length / (Math.max(8, mbridgej.length))}`;
         break;
      }
         root2 = `${predictionwinL ^ root2.length}`;
         root2 = `${root2.length << (Math.min(greenA.length, 2))}`;
      for (let j = 0; j < 3; j++) {
          let inactiveL = String.fromCharCode(109,112,115,117,98,0);
         predictionwinL += greenA.length % (Math.max(root2.length, 5));
         inactiveL = "1";
      }
      for (let l = 0; l < 3; l++) {
          let toponJ = 2.0;
         root2 += `${3 >> (Math.min(1, Math.abs(predictionwinL)))}`;
         toponJ += parseFloat(`${1 << (Math.min(Math.abs(parseInt(`${toponJ}`)), 4))}`);
      }
          let backwardu: Map<any, any> = new Map([[String.fromCharCode(110,95,54,48,0),93], [String.fromCharCode(103,95,49,54,95,114,101,99,117,114,115,105,118,101,0),113], [String.fromCharCode(120,109,117,108,116,105,112,108,101,95,120,95,49,48,48,0),953]]);
          let filez = String.fromCharCode(97,98,108,101,0);
         predictionwinL += 2 * root2.length;
         backwardu.set(`${filez}`, backwardu.size + filez.length);
      let activityy = greenA == String.fromCharCode(109,118,53,0);
      do {
         greenA = `${root2.length % 3}`;
         if (activityy) {
            break;
         }
      } while (activityy && (greenA == String.fromCharCode(56,0) || root2 == String.fromCharCode(70,0)));
         greenA = `${root2.length >> (Math.min(1, Math.abs(dependenciesG)))}`;
          let tempv: Map<any, any> = new Map([[String.fromCharCode(108,95,55,54,95,109,117,108,116,105,112,108,101,0),16], [String.fromCharCode(110,95,51,95,118,100,101,98,117,103,0),124], [String.fromCharCode(116,101,115,116,110,101,116,95,105,95,50,55,0),98]]);
         root2 = "2";
         tempv.set(`${tempv.size}`, tempv.size >> (Math.min(Math.abs(tempv.size), 4)));
      for (let g = 0; g < 2; g++) {
          let teamc = 1.0;
          let shrinkp = String.fromCharCode(97,117,116,111,102,105,120,95,118,95,55,56,0);
          let circleW = 1.0;
          let iconuserr = 2.0;
          let changes = String.fromCharCode(115,95,55,56,95,117,112,112,101,114,0);
         predictionwinL &= parseInt(`${circleW}`) >> (Math.min(Math.abs(3), 2));
         teamc *= parseFloat(`${parseInt(`${iconuserr}`)}`);
         shrinkp = `${shrinkp.length}`;
         circleW /= Math.max(2, 2 >> (Math.min(5, changes.length)));
         changes += `${2 >> (Math.min(1, shrinkp.length))}`;
      }
      if (root2 != greenA) {
         greenA += `${greenA.length}`;
      }
      let liveendmodallogoS = root2.length <= 5969354;
      do {
         root2 += `${root2.length - 1}`;
         if (liveendmodallogoS) {
            break;
         }
      } while ((dependenciesG == 1) && liveendmodallogoS);
      umeng2 = `${umeng2.length & 2}`;
      break;
   }
        if (buttonIndex !== 0) {

   for (let t = 0; t < 3; t++) {
      stepR -= libswscaleX >> (Math.min(5, Math.abs(3)));
   }
   while (2 > (shootM.length - 1) && 5.27 > (1.98 * stepR)) {
       let selectedo: Array<any> = [String.fromCharCode(116,95,55,56,95,109,101,109,111,114,121,115,116,114,101,97,109,0), String.fromCharCode(101,120,99,101,112,116,105,111,110,95,101,95,56,48,0), String.fromCharCode(103,95,54,57,95,118,100,97,115,104,101,114,0)];
       let emojiq = 0.0;
       let volumet: Array<any> = [String.fromCharCode(119,104,105,116,101,115,112,97,99,101,115,95,57,95,54,48,0), String.fromCharCode(115,117,98,106,95,48,95,50,48,0), String.fromCharCode(103,101,116,119,105,110,116,105,109,101,111,102,100,97,121,95,119,95,52,50,0)];
          let bridgeL = String.fromCharCode(99,95,56,57,95,109,105,100,108,0);
         selectedo = [2 >> (Math.min(1, selectedo.length))];
         bridgeL += "2";
         volumet.push(2 ^ parseInt(`${emojiq}`));
      for (let s = 0; s < 3; s++) {
         emojiq -= parseInt(`${emojiq}`) | volumet.length;
      }
          let actionD = 4.0;
         emojiq *= selectedo.length * 3;
         actionD -= parseFloat(`${1 ^ parseInt(`${actionD}`)}`);
       let progressP = 5;
      stepR /= Math.max(5, 1 & shootM.length);
      break;
   }
   while ((shootM.length * 3) < 5 || 2 < (3 + shootM.length)) {
       let hovert = String.fromCharCode(103,95,54,50,95,115,105,98,108,105,110,103,0);
       let mbsplashE = 5.0;
      for (let u = 0; u < 2; u++) {
          let dependenciesB = String.fromCharCode(97,107,105,100,0);
          let orientationV = 3.0;
          let graphicsG: Map<any, any> = new Map([[String.fromCharCode(112,114,105,111,114,105,116,105,101,115,95,50,95,52,49,0),701], [String.fromCharCode(108,101,110,118,108,99,95,112,95,57,54,0),780]]);
         hovert = `${(hovert == String.fromCharCode(100,0) ? hovert.length : parseInt(`${mbsplashE}`))}`;
         dependenciesB = `${parseInt(`${orientationV}`) % (Math.max(3, dependenciesB.length))}`;
         orientationV *= 2;
         graphicsG = new Map([[`${graphicsG.size}`, dependenciesB.length << (Math.min(3, Math.abs(graphicsG.size)))]]);
      }
          let defaultprofilepicp: Array<any> = [876, 390];
          let iconplay6: Array<any> = [802, 764];
         mbsplashE -= 2;
         defaultprofilepicp = [2];
         iconplay6 = [defaultprofilepicp.length % (Math.max(7, iconplay6.length))];
          let gifgoalbgN = String.fromCharCode(100,95,52,54,95,105,110,103,101,110,105,101,110,116,0);
          let searchp = 4.0;
         hovert += `${hovert.length ^ 3}`;
         gifgoalbgN += `${parseInt(`${searchp}`)}`;
         searchp *= parseFloat(`${gifgoalbgN.length}`);
          let left0 = false;
          let basketballhometeamB: Array<any> = [479, 724];
         mbsplashE *= parseInt(`${mbsplashE}`) & 1;
         left0 = left0 || basketballhometeamB.length < 8;
         basketballhometeamB = [2 & basketballhometeamB.length];
          let iconarrowrightY: Map<any, any> = new Map([[String.fromCharCode(112,117,98,105,99,95,49,95,57,55,0),583], [String.fromCharCode(108,105,98,111,112,101,110,104,95,56,95,56,54,0),351], [String.fromCharCode(122,95,51,95,113,100,114,97,119,0),22]]);
         mbsplashE /= Math.max(parseInt(`${mbsplashE}`), 3);
         iconarrowrightY.set(`${iconarrowrightY.size}`, iconarrowrightY.size ^ 2);
      let whistleoranger = 9603132 >= hovert.length;
      do {
         hovert = `${(String.fromCharCode(103,0) == hovert ? hovert.length : parseInt(`${mbsplashE}`))}`;
         if (whistleoranger) {
            break;
         }
      } while (whistleoranger && (5.53 <= (mbsplashE - 5.1)));
      libflipperD += shootM.length | mimoQ;
      break;
   }
          wwLaunchRound.showToast("我们将在24小时内处理您的请求，并在确认存在违规行为后采取适当的措施来处理相关内容。")
        }
      },
    );

  };

  return (
    <View style={styles.container}>
      {/* <DefaultProfileIcon
        width={42}
        height={42}
      /> */}
      <View style={{ ...styles.commentContainer }}>
        <View style={{ flexDirection: 'row', gap: 10, alignItems: 'center' }}>
          <Text style={{ ...textVariants.bodyBold, flex: 1 }}>
            {commentItem.user_name}
          </Text>
          <TouchableOpacity
            onPress={handlePress}
            style={styles.btnContainer}>
            <Text style={{ ...textVariants.small, textAlign: 'center' }}>
              举报
            </Text>
          </TouchableOpacity>
          <TouchableOpacity
            onPress={() => wwLaunchRound.showToast("拉黑成功！已不能在接受对方的消息！")}
            style={styles.btnContainer}>
            <Text style={{ ...textVariants.small, textAlign: 'center' }}>
              拉黑
            </Text>
          </TouchableOpacity>
        </View>

        <Text
          style={{ ...textVariants.subBody, color: colors.muted }}
          numberOfLines={3}
        >
          {commentItem.user_review}
        </Text>
      </View>
    </View>
  )
}

const styles = StyleSheet.create({
  container: {
    flexDirection: 'row',
    gap: 5,
    marginTop: 15,
  },
  commentContainer: {
    flex: 5,
    gap: 5,
  },
  btnContainer: {
    backgroundColor: '#EF1F1F',
    borderRadius: 4,
    paddingHorizontal: 4,
    paddingVertical: 1,
  }
})