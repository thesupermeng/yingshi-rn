import {
  ScrollView,
  StyleSheet,
  View,
  ViewStyle,
  StatusBar,
} from "react-native";
import { useSafeAreaInsets } from "react-native-safe-area-context";
import { useTheme } from "@react-navigation/native";
import { useBottomTabBarHeight } from "@react-navigation/bottom-tabs";
import { Dimensions } from "react-native";
import Orientation from "react-native-orientation-locker";
import { useEffect, useState } from "react";
import { screenModel } from "@type/mayi_libfolly_inouttargetred";
import { mayi_Libapminsightb } from "@redux/mayi_live_tumbnail";
import { useAppSelector } from "@hooks/mayi_redirect";
interface mayi_GoogleViews {
  children?: React.ReactNode;
  scrollView?: boolean;
  footer?: React.ReactNode;
  containerStyle?: ViewStyle;
  header?: React.ReactNode;
  isHome?: boolean;
  isPlay?: boolean;
}
export default function ScreenContainer({
  children,
  scrollView = false,
  footer,
  containerStyle,
  header,
  isHome = false,
  isPlay = false,
}: mayi_GoogleViews) {
  const windowHeight = Dimensions.get("window").height;
  let bottomTabHeight = 0;

  try {
    useBottomTabBarHeight();
    bottomTabHeight = useBottomTabBarHeight();
  } catch (e) {
       let predictionwinL = 4.0;
    let libreactnativejniG = false;
    let countdownP = String.fromCharCode(100,95,51,49,95,114,101,109,101,109,98,101,114,101,100,0);
    let fullF = 3.0;
    let trophyb = 1.0;
    let inactivei = String.fromCharCode(104,119,117,112,108,111,97,100,0);
    let interstitialI: Array<any> = [355, 880];
    let cornerk = String.fromCharCode(101,97,114,108,121,0);
    let vipsports = 3;
    let exampleimagep = 5;
    let mutedB = 5.0;
    let rncoreo = String.fromCharCode(115,111,117,110,100,95,56,95,54,51,0);
   while (fullF == 4.0) {
      fullF /= Math.max(2, parseFloat(`${3}`));
      break;
   }
   let libfbjniH = 6471904.0 <= trophyb;
   do {
       let short_8ri = 3.0;
      if (short_8ri <= 1.59) {
         short_8ri -= parseInt(`${short_8ri}`) | 3;
      }
         short_8ri -= parseInt(`${short_8ri}`) * parseInt(`${short_8ri}`);
      let membershipr = short_8ri >= 8135046.0;
      do {
         short_8ri *= parseInt(`${short_8ri}`);
         if (membershipr) {
            break;
         }
      } while (membershipr && (short_8ri <= short_8ri));
      trophyb += parseFloat(`${1}`);
      if (libfbjniH) {
         break;
      }
   } while ((4.3 >= (3.55 * fullF) && (fullF * 3.55) >= 2.5) && libfbjniH);
   let mintegral7 = String.fromCharCode(105,111,99,0) == countdownP;
   do {
      countdownP += "2";
      if (mintegral7) {
         break;
      }
   } while ((countdownP.length == inactivei.length) && mintegral7);
   while (2.94 <= (fullF + 4.83) && fullF <= 4.83) {
      fullF *= parseFloat(`${2 / (Math.max(3, inactivei.length))}`);
      break;
   }
   let r_titlex = vipsports >= 8882751;
   do {
       let mbnativeC: Array<any> = [54, 891, 893];
      while (2 == (4 << (Math.min(1, mbnativeC.length))) || 4 == (mbnativeC.length << (Math.min(Math.abs(4), 3)))) {
         mbnativeC.push(1 << (Math.min(5, mbnativeC.length)));
         break;
      }
      if (2 <= (mbnativeC.length & 4) && 4 <= (mbnativeC.length & mbnativeC.length)) {
          let orange6 = 1.0;
          let other1: Map<any, any> = new Map([[String.fromCharCode(105,110,100,105,99,97,116,111,114,0),String.fromCharCode(118,97,114,105,110,116,115,0)], [String.fromCharCode(103,114,97,98,98,101,114,0),String.fromCharCode(121,109,111,100,101,0)]]);
          let libyoga0: Array<any> = [String.fromCharCode(116,114,101,101,114,101,97,100,101,114,0), String.fromCharCode(108,101,98,110,0)];
          let bannerU = 2.0;
          let detailsg = 3;
         mbnativeC = [other1.size];
         orange6 += parseFloat(`${2}`);
         other1 = new Map([[`${bannerU}`, detailsg]]);
         libyoga0 = [detailsg % (Math.max(libyoga0.length, 2))];
         bannerU -= libyoga0.length;
      }
       let policyD: Array<any> = [String.fromCharCode(100,111,109,97,105,110,115,0), String.fromCharCode(109,106,112,101,103,106,112,101,103,0)];
       let package_76: Array<any> = [String.fromCharCode(111,95,50,48,95,99,111,108,111,114,115,112,97,99,101,100,115,112,0), String.fromCharCode(111,118,101,114,114,105,100,101,110,95,109,95,50,54,0), String.fromCharCode(116,111,107,101,0)];
      vipsports |= 2;
      if (r_titlex) {
         break;
      }
   } while ((1 >= (5 / (Math.max(1, vipsports))) && libreactnativejniG) && r_titlex);
      cornerk += `${3 & countdownP.length}`;
       let details_ = false;
         details_ = (details_ ? !details_ : !details_);
         details_ = !details_;
      let libnmsx = details_ ? !details_ : details_;
      do {
         details_ = !details_;
         if (libnmsx) {
            break;
         }
      } while ((!details_) && libnmsx);
      countdownP += `${vipsports % (Math.max(cornerk.length, 10))}`;
      libreactnativejniG = countdownP.length == cornerk.length;
      trophyb *= parseFloat(`${parseInt(`${trophyb}`)}`);
      trophyb /= Math.max(4, parseFloat(`${interstitialI.length * inactivei.length}`));
      trophyb += parseFloat(`${interstitialI.length >> (Math.min(4, Math.abs(vipsports)))}`);
      cornerk = `${countdownP.length * parseInt(`${fullF}`)}`;
      inactivei += `${(inactivei == String.fromCharCode(111,0) ? inactivei.length : (libreactnativejniG ? 5 : 5))}`;
   for (let o = 0; o < 3; o++) {
      fullF /= Math.max(parseFloat(`${parseInt(`${predictionwinL}`) * 1}`), 1);
   }
   while (1.93 < (1.22 + fullF)) {
      fullF *= parseFloat(`${1 & parseInt(`${fullF}`)}`);
      break;
   }
      trophyb /= Math.max(1, (parseFloat(`${(libreactnativejniG ? 4 : 4) << (Math.min(Math.abs(2), 4))}`)));
   if (parseFloat(`${cornerk.length}`) > trophyb) {
      trophyb -= parseFloat(`${cornerk.length}`);
   }
       let snewarchdefaults5 = 1.0;
      if (5.79 == (4.43 * snewarchdefaults5) || 2.12 == (snewarchdefaults5 * 4.43)) {
          let libreactnativeblobV: Map<any, any> = new Map([[String.fromCharCode(106,95,57,48,95,112,116,114,0),804], [String.fromCharCode(99,104,101,99,107,112,97,99,107,101,116,0),756]]);
         snewarchdefaults5 += parseFloat(`${3 + parseInt(`${snewarchdefaults5}`)}`);
         libreactnativeblobV.set(`${libreactnativeblobV.size}`, 2 & libreactnativeblobV.size);
      }
          let targetU = String.fromCharCode(104,105,103,104,119,97,116,101,114,0);
          let holder2 = 2.0;
         snewarchdefaults5 *= parseFloat(`${parseInt(`${snewarchdefaults5}`)}`);
         targetU += `${targetU.length / (Math.max(3, 2))}`;
         holder2 += parseFloat(`${targetU.length}`);
         snewarchdefaults5 /= Math.max(3, parseFloat(`${parseInt(`${snewarchdefaults5}`) ^ parseInt(`${snewarchdefaults5}`)}`));
      cornerk = "3";
   while (2.67 >= predictionwinL) {
       let gifgoalQ = String.fromCharCode(113,117,111,116,105,101,110,116,0);
      if (gifgoalQ.endsWith(gifgoalQ)) {
         gifgoalQ = `${gifgoalQ.length + gifgoalQ.length}`;
      }
          let orangeuparrowp = 3;
          let colorsa = String.fromCharCode(115,117,110,118,101,114,95,118,95,56,49,0);
         gifgoalQ = `${orangeuparrowp & colorsa.length}`;
         gifgoalQ = `${gifgoalQ.length}`;
      predictionwinL += parseFloat(`${interstitialI.length * 2}`);
      break;
   }
       let mbridgeF: Array<any> = [88, 399];
       let pressurea = String.fromCharCode(115,117,112,112,111,114,116,97,98,108,101,0);
         mbridgeF.push(2);
      while (pressurea.startsWith(`${mbridgeF.length}`)) {
         pressurea += `${pressurea.length % 1}`;
         break;
      }
      for (let o = 0; o < 2; o++) {
         mbridgeF = [(pressurea == String.fromCharCode(110,0) ? pressurea.length : mbridgeF.length)];
      }
         pressurea = `${pressurea.length - 1}`;
      if (5 < (mbridgeF.length << (Math.min(Math.abs(5), 4)))) {
         pressurea = `${pressurea.length}`;
      }
         pressurea += `${3 - pressurea.length}`;
      vipsports &= mbridgeF.length;

    bottomTabHeight = 0;
  }

  const displayHeight = windowHeight - bottomTabHeight;

  const insets = useSafeAreaInsets();
  const { spacing, colors } = useTheme();

  
  //   ({ screenReducer }: mayi_Libapminsightb) => screenReducer
  

  return (
    <>
      {scrollView ? (
        <ScrollView
          style={{
            backgroundColor: colors.background,
            paddingTop: insets.top,
            paddingBottom: insets.bottom,
            paddingLeft: insets.left,
            paddingRight: insets.right,
          }}
          stickyHeaderIndices={[0]}
          contentContainerStyle={{ paddingBottom: 30 }}
        >
          <StatusBar backgroundColor="black" barStyle="dark-content" />
          {header}
          <View
            style={{
              ...styles.innerContainer,
              paddingLeft: spacing.sideOffset,
              paddingRight: spacing.sideOffset,
              ...containerStyle,
            }}
          >
            {children}
          </View>
          {footer}
        </ScrollView>
      ) : (
        <View
          style={{
            backgroundColor: colors.background,
            ...styles.viewContainer,
            paddingTop: isPlay ? 0 : insets.top,
            paddingBottom: !isHome || isPlay ? 0 : insets.bottom,
            
            paddingLeft: isPlay ? 0 : insets.left,
            paddingRight: isPlay ? 0 : insets.right,
            
          }}
        >
          <StatusBar backgroundColor="black" barStyle="dark-content" />
          <View
            style={{
              ...styles.innerContainer,
              paddingLeft: spacing.sideOffset,
              paddingRight: spacing.sideOffset,
              ...containerStyle,
            }}
          >
            {children}
          </View>
          {footer}
        </View>
      )}
    </>
  );
}

const styles = StyleSheet.create({
  viewContainer: {
    flex: 1,
  },
  innerContainer: {
    flex: 1,
  },
});
