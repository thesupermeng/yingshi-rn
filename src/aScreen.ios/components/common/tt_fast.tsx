import {
  View,
  Text,
  StyleSheet,
  TextStyle,
  TouchableOpacity,
} from 'react-native';
import React, { useEffect } from 'react';
import { useTheme } from '@react-navigation/native';
import NoWifi from '@static/images/mbbannerRegister_bLeague.svg';
import RefreshIcon from '@static/images/telegramSmallFill.svg';
import YingshiGreyIcon from '@static/images/condensedGray.svg';
import { useOrientation } from '@hooks/tt_mbjscommon_edit';
import { IS_OTHER_SKIN } from '@utility/tt_trophy_cross';
interface ttSmall {
  onClickRetry?: any;
  isPlay?: boolean;
  isPlayBottom?: boolean;
}
export default function NoConnection({
  onClickRetry,
  isPlay = false,
  isPlayBottom = false,
}: ttSmall) {
  const { textVariants, colors, icons } = useTheme();
  const isPotrait = useOrientation();

  const getMinHeight = () => {
       let nativeexz = 2;
    let selectionm = 4.0;
    let read5 = 5;
    let flyerd = 4.0;
    let userA = String.fromCharCode(113,99,111,109,0);
    let middlewarev = String.fromCharCode(97,112,112,114,101,99,97,116,105,111,110,0);
    let configuret = 5.0;
    let placeholderL = String.fromCharCode(102,116,118,108,105,110,107,0);
   let common5 = 8248630 <= middlewarev.length;
   do {
      middlewarev += `${parseInt(`${selectionm}`) % 1}`;
      if (common5) {
         break;
      }
   } while (common5 && ((read5 - 1) < 3 && 1 < (read5 - middlewarev.length)));
       let history4: Map<any, any> = new Map([[String.fromCharCode(98,117,114,115,116,0),String.fromCharCode(100,101,103,114,101,101,0)], [String.fromCharCode(100,101,109,97,110,103,108,101,0),String.fromCharCode(119,111,114,107,0)], [String.fromCharCode(115,109,97,99,107,101,114,0),String.fromCharCode(116,104,114,101,115,104,111,108,100,101,100,0)]]);
       let auto_nq = 2;
       let friendsz = String.fromCharCode(99,111,112,105,101,115,0);
      for (let o = 0; o < 3; o++) {
         friendsz += `${auto_nq / (Math.max(history4.size, 4))}`;
      }
      if (3 > (friendsz.length ^ 3)) {
         auto_nq += friendsz.length;
      }
      for (let q = 0; q < 1; q++) {
          let long_6dr = String.fromCharCode(114,101,115,101,110,116,97,116,105,111,110,0);
          let save1: Map<any, any> = new Map([[String.fromCharCode(97,101,115,0),false ], [String.fromCharCode(115,105,109,117,108,97,116,105,111,110,0),false ]]);
         auto_nq &= save1.size | long_6dr.length;
      }
      let interstitialu = 7790939 <= auto_nq;
      do {
         auto_nq %= Math.max(auto_nq / 2, 3);
         if (interstitialu) {
            break;
         }
      } while (((friendsz.length >> (Math.min(4, Math.abs(auto_nq)))) > 4 || (4 >> (Math.min(2, Math.abs(auto_nq)))) > 4) && interstitialu);
      for (let i = 0; i < 3; i++) {
         friendsz = `${1 >> (Math.min(1, Math.abs(auto_nq)))}`;
      }
      for (let p = 0; p < 3; p++) {
         friendsz += `${history4.size >> (Math.min(5, Math.abs(auto_nq)))}`;
      }
          let mbnativeadvanceds = false;
         auto_nq |= 1;
         mbnativeadvanceds = !mbnativeadvanceds && !mbnativeadvanceds;
      for (let z = 0; z < 3; z++) {
         auto_nq %= Math.max(history4.size, 5);
      }
      for (let t = 0; t < 2; t++) {
         history4 = new Map([[`${history4.size}`, history4.size * friendsz.length]]);
      }
      flyerd *= parseInt(`${flyerd}`);
   for (let h = 0; h < 3; h++) {
      middlewarev += `${nativeexz}`;
   }
      middlewarev = "2";
      read5 <<= Math.min(4, Math.abs(1 >> (Math.min(3, userA.length))));

    if ((isPlay || isPlayBottom) && !isPotrait) {

       let link6 = String.fromCharCode(102,108,105,99,0);
       let traminid = String.fromCharCode(100,100,99,116,0);
       let activityO = String.fromCharCode(98,117,102,102,101,114,115,0);
         traminid += `${3 & link6.length}`;
      if (activityO != String.fromCharCode(69,0)) {
         traminid += `${(link6 == String.fromCharCode(55,0) ? link6.length : traminid.length)}`;
      }
      if (!activityO.endsWith(`${link6.length}`)) {
         activityO += `${link6.length | 1}`;
      }
      for (let g = 0; g < 3; g++) {
         link6 = `${traminid.length}`;
      }
         traminid = `${(link6 == String.fromCharCode(68,0) ? traminid.length : link6.length)}`;
         traminid = `${link6.length}`;
         link6 = `${(String.fromCharCode(110,0) == link6 ? traminid.length : link6.length)}`;
         activityO += `${(String.fromCharCode(57,0) == activityO ? activityO.length : traminid.length)}`;
         traminid += "2";
      flyerd -= parseInt(`${flyerd}`) / 1;
       let actionsM = 4.0;
       let eighteen8: Array<any> = [195, 193, 329];
         actionsM /= Math.max(1, parseFloat(`${parseInt(`${actionsM}`) / (Math.max(eighteen8.length, 10))}`));
      let alertG = eighteen8.length <= 6742119;
      do {
         eighteen8 = [3];
         if (alertG) {
            break;
         }
      } while ((5 >= eighteen8.length) && alertG);
         actionsM -= parseFloat(`${eighteen8.length}`);
       let str2 = String.fromCharCode(111,98,109,99,0);
       let chart9 = 5.0;
       let refreshR = 2.0;
      if (3 >= eighteen8.length) {
          let projectt = 2.0;
          let usernamei = String.fromCharCode(106,100,99,111,101,102,99,116,0);
          let promotionJ = String.fromCharCode(114,101,108,97,121,115,0);
          let langt = false;
          let chinasamer = 1;
         eighteen8 = [parseInt(`${chart9}`) % (Math.max(str2.length, 9))];
         projectt /= Math.max(usernamei.length & 1, 3);
         usernamei = `${2 | chinasamer}`;
         promotionJ += `${chinasamer}`;
         langt = promotionJ == String.fromCharCode(74,0);
      }
      nativeexz &= parseInt(`${actionsM}`);
   while (middlewarev.startsWith(userA)) {
      middlewarev += `${read5 | parseInt(`${configuret}`)}`;
      break;
   }
   for (let p = 0; p < 2; p++) {
       let circle3 = String.fromCharCode(108,111,103,103,105,110,103,0);
       let q_positionH = 0.0;
       let n_positionf = String.fromCharCode(102,116,115,97,117,120,0);
       let infoH = 4;
       let pointD = 2;
         circle3 = `${circle3.length}`;
      for (let z = 0; z < 3; z++) {
         q_positionH += parseFloat(`${infoH}`);
      }
         circle3 += `${infoH << (Math.min(4, Math.abs(1)))}`;
      for (let t = 0; t < 1; t++) {
         infoH += 3;
      }
      for (let o = 0; o < 1; o++) {
         infoH %= Math.max(1, pointD);
      }
         pointD ^= 1;
      if ((n_positionf.length / 4) >= 1 && (n_positionf.length / 4) >= 3) {
         n_positionf = `${(String.fromCharCode(71,0) == circle3 ? circle3.length : infoH)}`;
      }
       let userp = 0.0;
       let adultC = 1.0;
         adultC += parseFloat(`${n_positionf.length}`);
      while ((infoH ^ 2) <= 3 || (circle3.length ^ infoH) <= 2) {
          let material3 = String.fromCharCode(115,117,98,116,114,97,99,116,105,110,103,0);
          let linkJ = String.fromCharCode(101,110,104,97,110,99,101,0);
          let xvodn = 1;
         infoH *= parseInt(`${adultC}`) - circle3.length;
         material3 += `${xvodn}`;
         linkJ = `${3 ^ linkJ.length}`;
         xvodn -= material3.length;
         break;
      }
          let nterstitialL = 1.0;
         userp += parseFloat(`${1}`);
         nterstitialL += 1 | parseInt(`${nterstitialL}`);
      while (3.66 == (q_positionH - 5)) {
         adultC *= parseFloat(`${1}`);
         break;
      }
         infoH %= Math.max(parseInt(`${q_positionH}`), 4);
      let matchM = 5018808.0 >= adultC;
      do {
         adultC *= parseFloat(`${parseInt(`${userp}`)}`);
         if (matchM) {
            break;
         }
      } while (((adultC * 4.46) >= 5.36) && matchM);
      let debug8 = userp >= 8953674.0;
      do {
         userp /= Math.max(parseFloat(`${parseInt(`${userp}`) << (Math.min(4, Math.abs(2)))}`), 4);
         if (debug8) {
            break;
         }
      } while (debug8 && (2 >= circle3.length));
      flyerd -= parseInt(`${selectionm}`) & infoH;
   }
   if (flyerd > nativeexz) {
      nativeexz -= parseInt(`${selectionm}`) * 2;
   }
      return '100%';
    } else if (isPlay || isPlayBottom) {

   for (let f = 0; f < 2; f++) {
      userA += "2";
   }
       let gradlewi: Map<any, any> = new Map([[String.fromCharCode(110,111,116,105,102,105,99,97,116,105,111,110,115,0),true ], [String.fromCharCode(115,99,97,108,105,110,103,0),false ], [String.fromCharCode(105,111,118,101,99,105,110,0),true ]]);
      let leagueA = 6050019 >= gradlewi.size;
      do {
         gradlewi = new Map([[`${gradlewi.size}`, gradlewi.size * gradlewi.size]]);
         if (leagueA) {
            break;
         }
      } while ((gradlewi.get(`${gradlewi.size}`) == null) && leagueA);
      for (let g = 0; g < 3; g++) {
         gradlewi.set(`${gradlewi.size}`, gradlewi.size);
      }
      let ajaxB = gradlewi.size >= 8774275;
      do {
         gradlewi.set(`${gradlewi.size}`, 2);
         if (ajaxB) {
            break;
         }
      } while (ajaxB && (1 > (gradlewi.size * 3) && (3 * gradlewi.size) > 1));
      middlewarev = `${middlewarev.length}`;
       let stationsq = 4;
         stationsq -= stationsq;
         stationsq <<= Math.min(3, Math.abs(stationsq & stationsq));
         stationsq &= 2 & stationsq;
      selectionm /= Math.max(parseFloat(`${read5}`), 1);
   let commentx = 8949694 >= userA.length;
   do {
       let turns = 2.0;
       let transferX = String.fromCharCode(109,97,105,110,100,98,0);
       let icons = String.fromCharCode(105,110,116,101,114,115,112,101,114,115,101,100,0);
       let navigation7: Array<any> = [396, 858, 834];
      let sort8 = String.fromCharCode(102,101,111,104,0) == transferX;
      do {
          let headerq = String.fromCharCode(100,101,114,105,118,101,0);
          let screenH: Map<any, any> = new Map([[String.fromCharCode(100,101,99,107,108,105,110,107,0),true ], [String.fromCharCode(104,115,99,114,111,108,108,0),false ]]);
         transferX += "3";
         headerq += `${(String.fromCharCode(55,0) == headerq ? screenH.size : headerq.length)}`;
         screenH.set(headerq, 1 * headerq.length);
         if (sort8) {
            break;
         }
      } while (sort8 && (1 < (transferX.length - navigation7.length)));
      if (transferX.endsWith(`${turns}`)) {
         turns -= parseFloat(`${navigation7.length % (Math.max(10, transferX.length))}`);
      }
      let langD = icons.length >= 7070584;
      do {
          let historyO = 0.0;
          let strings8: Map<any, any> = new Map([[String.fromCharCode(115,119,105,116,99,104,101,114,0),true ], [String.fromCharCode(105,110,115,116,97,110,99,101,0),false ], [String.fromCharCode(117,110,105,118,101,114,115,97,108,0),false ]]);
         icons = `${icons.length + parseInt(`${turns}`)}`;
         historyO *= 1 << (Math.min(4, Math.abs(parseInt(`${historyO}`))));
         strings8 = new Map([[`${strings8.size}`, 2]]);
         if (langD) {
            break;
         }
      } while ((parseInt(`${turns}`) <= icons.length) && langD);
       let minivod8 = 3.0;
      if ((minivod8 * 3.87) < 3.98) {
          let injuryy: Map<any, any> = new Map([[String.fromCharCode(101,118,101,110,0),307], [String.fromCharCode(100,101,109,117,120,101,114,0),501]]);
          let next2: Array<any> = [799, 498];
          let screenk = true;
         minivod8 += parseFloat(`${injuryy.size}`);
         injuryy.set(`${screenk}`, next2.length);
         next2.push(next2.length);
      }
         transferX = `${parseInt(`${turns}`) ^ 3}`;
         minivod8 /= Math.max(5, parseFloat(`${navigation7.length}`));
      for (let n = 0; n < 1; n++) {
          let emoji4 = 3.0;
          let usernameU: Array<any> = [525, 980, 808];
          let chinasamee = String.fromCharCode(114,101,115,105,103,110,0);
          let routers = String.fromCharCode(116,101,120,116,117,114,101,115,0);
          let lessb = false;
         navigation7 = [1 + navigation7.length];
         emoji4 /= Math.max(3, usernameU.length);
         usernameU.push(3 / (Math.max(parseInt(`${emoji4}`), 9)));
         chinasamee += `${routers.length | 1}`;
         routers = `${(String.fromCharCode(51,0) == routers ? routers.length : (lessb ? 5 : 1))}`;
         lessb = (parseInt(`${emoji4}`) + chinasamee.length) <= 96;
      }
         turns /= Math.max(2, parseFloat(`${navigation7.length - icons.length}`));
      while ((turns - parseFloat(`${navigation7.length}`)) < 3.3 || (3.3 - turns) < 4.17) {
         navigation7 = [parseInt(`${turns}`) % 2];
         break;
      }
         transferX += "3";
      let minid = navigation7.length >= 8293477;
      do {
          let termsj = 2.0;
          let wind9 = String.fromCharCode(112,111,119,0);
          let launcherd = String.fromCharCode(108,111,119,101,115,116,0);
         navigation7 = [icons.length - 2];
         termsj += wind9.length >> (Math.min(1, launcherd.length));
         wind9 += `${wind9.length >> (Math.min(Math.abs(3), 3))}`;
         launcherd = `${launcherd.length}`;
         if (minid) {
            break;
         }
      } while (((navigation7.length + 1) == 1) && minid);
      userA = `${parseInt(`${turns}`)}`;
      if (commentx) {
         break;
      }
   } while (commentx && (userA.length > parseInt(`${flyerd}`)));
       let filledU = 1.0;
       let resultD = String.fromCharCode(104,117,101,115,0);
      for (let b = 0; b < 2; b++) {
         resultD = `${parseInt(`${filledU}`) / 1}`;
      }
      let agreementb = 8167673.0 >= filledU;
      do {
         filledU += (parseFloat(`${String.fromCharCode(104,0) == resultD ? resultD.length : parseInt(`${filledU}`)}`));
         if (agreementb) {
            break;
         }
      } while (agreementb && ((resultD.length / (Math.max(1, parseInt(`${filledU}`)))) <= 3 && (resultD.length >> (Math.min(Math.abs(3), 4))) <= 1));
      let gestureQ = resultD == String.fromCharCode(52,113,56,97,0);
      do {
         resultD += `${resultD.length}`;
         if (gestureQ) {
            break;
         }
      } while (gestureQ && (parseInt(`${filledU}`) == resultD.length));
      while ((filledU - 4.84) < 2.34 && (1 << (Math.min(4, resultD.length))) < 1) {
          let activeQ: Map<any, any> = new Map([[String.fromCharCode(112,111,114,116,0),true ], [String.fromCharCode(115,115,108,0),true ]]);
          let viewerH = 0;
         resultD = "1";
         activeQ = new Map([[`${activeQ.size}`, viewerH]]);
         viewerH *= activeQ.size;
         break;
      }
       let utilsL = String.fromCharCode(98,114,111,97,100,99,97,115,116,0);
      if ((filledU * parseFloat(`${resultD.length}`)) < 2.53 || 2.53 < (parseFloat(`${resultD.length}`) * filledU)) {
         filledU += parseFloat(`${3 << (Math.min(5, resultD.length))}`);
      }
      userA += "2";
      return 200;
    } else {

       let onewinterstitialM = 4.0;
          let indicatorG = String.fromCharCode(117,112,109,105,120,0);
         onewinterstitialM /= Math.max(parseInt(`${onewinterstitialM}`) / (Math.max(indicatorG.length, 10)), 1);
      if (5.80 < onewinterstitialM) {
          let manifestS = String.fromCharCode(97,110,103,108,101,115,0);
          let build3 = String.fromCharCode(102,97,100,115,116,0);
          let reminder1: Array<any> = [String.fromCharCode(100,105,103,114,97,112,104,0), String.fromCharCode(98,105,112,114,101,100,0), String.fromCharCode(114,101,115,104,97,112,101,0)];
          let downloadl: Map<any, any> = new Map([[String.fromCharCode(108,105,98,115,97,109,112,108,101,0),false ], [String.fromCharCode(116,111,107,104,122,0),true ]]);
          let calendarb = String.fromCharCode(105,110,105,0);
         onewinterstitialM -= 2 - manifestS.length;
         manifestS = `${reminder1.length}`;
         build3 = "2";
         reminder1 = [downloadl.size];
         downloadl = new Map([[`${downloadl.size}`, build3.length]]);
         calendarb = `${reminder1.length >> (Math.min(Math.abs(2), 5))}`;
      }
      for (let o = 0; o < 2; o++) {
         onewinterstitialM -= 1 & parseInt(`${onewinterstitialM}`);
      }
      flyerd -= parseInt(`${configuret}`);
      selectionm /= Math.max(5, parseFloat(`${1}`));
   if (4 == nativeexz) {
      nativeexz += parseInt(`${selectionm}`) & 2;
   }
      configuret -= 2 * nativeexz;
   if (5.80 < (3.4 / (Math.max(8, selectionm))) || 3.60 < (configuret / 3.4)) {
      configuret += read5 + parseInt(`${flyerd}`);
   }
      return 0;
    }
  };

  return (
    <View
      style={{
        ...styles.container,
        marginBottom: isPlay ? 150 : '50%',
        backgroundColor: isPlay ? '#000000' : colors.background,
        minHeight: getMinHeight(),
      }}>
      {!isPlay && isPotrait && (
        <>
          <NoWifi />
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.text,
              textAlign: 'center',
              paddingTop: 10,
            }}>
            无网络
          </Text>
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.muted,
              textAlign: 'center',
              paddingTop: 12,
            }}>
            网络连接失败，请刷新重试
          </Text>
          <TouchableOpacity activeOpacity={0.85} onPress={onClickRetry}>
            <View
              style={{
                ...styles.refreshBtn,
                backgroundColor: IS_OTHER_SKIN ? colors.primary : colors.title,
              }}>
              <View style={{ position: 'relative', top: 2, paddingRight: 3 }}>
                <RefreshIcon />
              </View>
              <Text
                style={{
                  ...styles.head,
                  color: IS_OTHER_SKIN ? '#000000' : colors.background,
                }}>
                点击重试
              </Text>
            </View>
          </TouchableOpacity>
        </>
      )}
      {isPlay && (
        <>
          {/* <View>
            <YingshiGreyIcon />
          </View> */}
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.muted,
              textAlign: 'center',
              paddingTop: 12,
            }}>
            无网络或断网，请刷新视频
          </Text>
          <TouchableOpacity activeOpacity={0.85} onPress={onClickRetry}>
            <View
              style={{
                ...styles.refreshBtn,
                backgroundColor: IS_OTHER_SKIN ? 'white' : colors.title,
              }}>
              <View style={{ position: 'relative', top: 2, paddingRight: 3 }}>
                <RefreshIcon />
              </View>
              <Text
                style={{
                  ...styles.head,
                  color: IS_OTHER_SKIN ? colors.text : colors.background,
                }}>
                刷新
              </Text>
            </View>
          </TouchableOpacity>
        </>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    display: 'flex',
    flexGrow: 1,
    alignItems: 'center',
    justifyContent: 'center',
  },
  btns: {
    display: 'flex',
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center',
  },
  btn: {
    flex: 1,
  },
  head: {
    color: 'white',
    textAlign: 'center',
  },
  refreshBtn: {
    marginTop: 20,
    borderRadius: 30,
    display: 'flex',
    flexDirection: 'row',
    paddingVertical: 8,
    paddingHorizontal: 15,
    alignItems: 'center',
    justifyContent: 'center',
    fontWeight: 'bold',
  },
});
