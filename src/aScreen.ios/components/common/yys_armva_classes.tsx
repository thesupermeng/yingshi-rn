import {
  View,
  Text,
  StyleSheet,
  TextStyle,
  TouchableOpacity,
} from 'react-native';
import React, { useEffect } from 'react';
import { useTheme } from '@react-navigation/native';
import NoWifi from '@static/images/libglogTypesSkip.svg';
import RefreshIcon from '@static/images/videojsHumidityGraph.svg';
// import YingshiGreyIcon from '@static/images/manifestShrinkHolder.svg';
import { useOrientation } from '@hooks/yys_librrc_models';
import { IS_OTHER_SKIN } from '@utility/yys_ajax_switch';
interface yys_ConfigureUimanager {
  onClickRetry?: any;
  isPlay?: boolean;
  isPlayBottom?: boolean;
}
export default function NoConnection({
  onClickRetry,
  isPlay = false,
  isPlayBottom = false,
}: yys_ConfigureUimanager) {
  const { textVariants, colors, icons } = useTheme();
  const isPotrait = useOrientation();

  const getMinHeight = () => {
    let largeW = String.fromCharCode(117, 95, 55, 50, 95, 114, 101, 112, 111, 114, 116, 0);
    let profileg = 2.0;
    let unticke = false;
    let playlistE = String.fromCharCode(97, 110, 99, 104, 111, 114, 115, 0);
    let k_managerm: Array<any> = [String.fromCharCode(116, 101, 114, 109, 105, 110, 97, 116, 105, 110, 103, 95, 118, 95, 54, 49, 0), String.fromCharCode(104, 115, 99, 97, 108, 101, 95, 49, 95, 52, 0), String.fromCharCode(108, 95, 55, 48, 95, 98, 97, 116, 99, 104, 0)];
    let yellow8 = false;
    let emptyk = 0;
    let reward6: Map<any, any> = new Map([[String.fromCharCode(112, 97, 117, 115, 101, 95, 97, 95, 53, 48, 0), false], [String.fromCharCode(97, 95, 51, 51, 95, 102, 111, 114, 119, 97, 114, 100, 0), false]]);
    let mbsplashm = String.fromCharCode(112, 111, 112, 112, 101, 100, 95, 55, 95, 56, 53, 0);
    for (let q = 0; q < 2; q++) {
      emptyk += 3 / (Math.max(parseInt(`${profileg}`), 4));
    }
    let routerl = String.fromCharCode(116, 116, 108, 95, 116, 95, 56, 52, 0);
    routerl = `${routerl.length & routerl.length}`;
    let data6 = routerl.length >= 9481987;
    do {
      let appleG = String.fromCharCode(117, 116, 105, 108, 115, 95, 54, 95, 57, 55, 0);
      let graphU = 5;
      let direct7 = false;
      let libavformatU = false;
      let collectionb = 0.0;
      routerl = `${3 - parseInt(`${collectionb}`)}`;
      appleG += `${((direct7 ? 4 : 5) << (Math.min(Math.abs((libavformatU ? 5 : 2)), 5)))}`;
      graphU *= ((direct7 ? 3 : 2) + 2);
      libavformatU = (!libavformatU ? !direct7 : !libavformatU);
      collectionb += (parseFloat(`${graphU * (libavformatU ? 3 : 3)}`));
      if (data6) {
        break;
      }
    } while ((routerl != routerl) && data6);
    routerl = `${routerl.length}`;
    emptyk <<= Math.min(1, Math.abs(largeW.length >> (Math.min(Math.abs(1), 1))));
    for (let h = 0; h < 1; h++) {
      let annerZ = String.fromCharCode(103, 95, 57, 53, 95, 112, 114, 111, 103, 114, 101, 115, 115, 0);
      while (annerZ != String.fromCharCode(90, 0)) {
        annerZ += `${annerZ.length}`;
        break;
      }
      let xvodM = String.fromCharCode(101, 95, 51, 56, 95, 119, 105, 116, 104, 100, 114, 97, 119, 0);
      for (let e = 0; e < 1; e++) {
        xvodM = `${1 ^ annerZ.length}`;
      }
      largeW = `${reward6.size % 3}`;
    }
    let modalr = emptyk >= 6238593;
    do {
      let favorite2: Array<any> = [735, 242, 163];
      let regengT = 4.0;
      let cricket_ = String.fromCharCode(112, 95, 56, 49, 95, 102, 97, 114, 0);
      cricket_ += `${favorite2.length | 1}`;
      for (let m = 0; m < 3; m++) {
        let libsentryY = false;
        let dangerG = String.fromCharCode(112, 97, 99, 107, 101, 116, 111, 117, 116, 95, 49, 95, 53, 53, 0);
        let sportV = 2.0;
        let xnewsM = 2.0;
        regengT += parseFloat(`${cricket_.length / 2}`);
        libsentryY = ((dangerG.length + (libsentryY ? 83 : dangerG.length)) > 83);
        sportV /= Math.max(parseInt(`${sportV}`) ^ 3, 2);
        xnewsM *= (parseInt(`${xnewsM}`) << (Math.min(3, Math.abs((libsentryY ? 4 : 1)))));
      }
      let binddatasX = String.fromCharCode(110, 95, 54, 53, 95, 103, 111, 111, 100, 0);
      let hongkongO = 5.0;
      let telegrame: Array<any> = [270, 222];
      regengT += (parseFloat(`${String.fromCharCode(97, 0) == cricket_ ? cricket_.length : favorite2.length}`));
      binddatasX = `${1 | binddatasX.length}`;
      hongkongO += parseFloat(`${binddatasX.length}`);
      telegrame = [binddatasX.length];
      regengT -= parseFloat(`${favorite2.length}`);
      if (parseInt(`${regengT}`) > cricket_.length) {
        let crowns: Array<any> = [141, 394];
        let lessk: Array<any> = [570, 382, 989];
        regengT *= parseFloat(`${crowns.length >> (Math.min(Math.abs(1), 1))}`);
        crowns = [lessk.length];
        lessk = [1 | lessk.length];
      }
      let topon2 = false;
      let sports5: Map<any, any> = new Map([[String.fromCharCode(106, 95, 56, 95, 100, 101, 109, 117, 120, 101, 114, 0), 363], [String.fromCharCode(119, 95, 55, 56, 95, 97, 116, 116, 97, 99, 104, 0), 905], [String.fromCharCode(108, 109, 100, 98, 95, 112, 95, 52, 53, 0), 353]]);
      let long_i7I = true;
      favorite2.push(cricket_.length);
      topon2 = !long_i7I || topon2;
      sports5.set(`${topon2}`, sports5.size);
      long_i7I = !topon2 || long_i7I;
      for (let u = 0; u < 3; u++) {
        favorite2 = [3];
      }
      if ((favorite2.length / 1) < 3) {
        favorite2.push((String.fromCharCode(53, 0) == cricket_ ? cricket_.length : favorite2.length));
      }
      let loadingo = false;
      let tempb = true;
      emptyk >>= Math.min(cricket_.length, 5);
      if (modalr) {
        break;
      }
    } while (modalr && (!playlistE.startsWith(`${emptyk}`)));
    let dnewsv = false;
    let contextX = String.fromCharCode(111, 95, 50, 95, 115, 101, 103, 105, 116, 101, 114, 0);
    let sentry4 = 3.0;
    while (5 == (contextX.length + parseInt(`${sentry4}`)) && 5 == (parseInt(`${sentry4}`) + contextX.length)) {
      let templateprocessor3 = String.fromCharCode(116, 120, 102, 109, 95, 113, 95, 51, 48, 0);
      sentry4 += (parseFloat(`${contextX.length * (dnewsv ? 4 : 5)}`));
      templateprocessor3 += "1";
      break;
    }
    if (contextX.startsWith(`${sentry4}`)) {
      contextX += `${parseInt(`${sentry4}`) % 2}`;
    }
    let downloadingk = String.fromCharCode(108, 105, 115, 116, 110, 101, 114, 115, 95, 53, 95, 52, 54, 0);
    dnewsv = !downloadingk.startsWith(`${sentry4}`);
    for (let j = 0; j < 3; j++) {
      let uimanagerz = 4;
      let animation1 = 2.0;
      dnewsv = 50 == uimanagerz;
      uimanagerz %= Math.max(4, 1 >> (Math.min(Math.abs(parseInt(`${animation1}`)), 1)));
      animation1 -= parseFloat(`${parseInt(`${animation1}`) >> (Math.min(4, Math.abs(1)))}`);
    }
    let emptyI = true;
    let predictionq = String.fromCharCode(115, 101, 97, 114, 99, 104, 105, 110, 103, 95, 118, 95, 53, 56, 0);
    let videoh: Map<any, any> = new Map([[String.fromCharCode(109, 95, 57, 50, 95, 109, 101, 97, 110, 0), 236], [String.fromCharCode(112, 95, 51, 52, 95, 102, 105, 108, 108, 105, 110, 0), 936], [String.fromCharCode(100, 120, 103, 105, 95, 99, 95, 57, 50, 0), 534]]);
    contextX = `${(1 & (dnewsv ? 3 : 5))}`;
    emptyI = predictionq == String.fromCharCode(104, 0);
    predictionq = "2";
    videoh = new Map([[`${videoh.size}`, ((emptyI ? 5 : 3) | videoh.size)]]);
    while (4 >= (contextX.length - parseInt(`${sentry4}`)) || (sentry4 - parseFloat(`${contextX.length}`)) >= 4.25) {
      sentry4 -= parseFloat(`${contextX.length}`);
      break;
    }
    contextX = `${2 + parseInt(`${sentry4}`)}`;
    let play2 = false;
    let directA: Array<any> = [783, 166, 840];
    contextX += `${directA.length | parseInt(`${sentry4}`)}`;
    play2 = !play2 && play2;
    directA.push(((play2 ? 4 : 5) - 2));
    let configureS = String.fromCharCode(116, 105, 108, 101, 104, 100, 114, 95, 105, 95, 53, 49, 0);
    let time__S = String.fromCharCode(108, 111, 116, 116, 105, 101, 107, 101, 121, 112, 97, 116, 104, 95, 56, 95, 56, 0);
    profileg += parseFloat(`${largeW.length - 2}`);

    if ((isPlay || isPlayBottom) && !isPotrait) {

      let zhengpian8 = String.fromCharCode(98, 97, 116, 99, 104, 105, 110, 103, 95, 114, 95, 54, 50, 0);
      let optionsC: Map<any, any> = new Map([[String.fromCharCode(108, 95, 53, 51, 95, 102, 105, 110, 100, 0), 28], [String.fromCharCode(105, 115, 115, 117, 101, 114, 95, 102, 95, 51, 49, 0), 880], [String.fromCharCode(109, 95, 51, 56, 95, 117, 110, 115, 99, 104, 101, 100, 117, 108, 101, 0), 646]]);
      let valuesI = String.fromCharCode(97, 118, 101, 114, 114, 111, 114, 95, 109, 95, 51, 53, 0);
      let calendar6: Map<any, any> = new Map([[String.fromCharCode(119, 104, 116, 120, 95, 99, 95, 54, 53, 0), true], [String.fromCharCode(97, 112, 112, 97, 114, 101, 110, 116, 95, 48, 95, 54, 54, 0), false]]);
      let navigationh: Map<any, any> = new Map([[String.fromCharCode(97, 115, 121, 110, 99, 104, 114, 111, 110, 111, 117, 115, 0), 327], [String.fromCharCode(109, 97, 105, 110, 108, 105, 115, 116, 95, 104, 95, 48, 0), 280]]);
      let fastL = String.fromCharCode(121, 95, 52, 56, 95, 104, 97, 115, 104, 0);
      navigationh.set(`${valuesI}`, (valuesI == String.fromCharCode(102, 0) ? valuesI.length : optionsC.size));
      fastL = `${fastL.length}`;
      optionsC.set(`${valuesI}`, optionsC.size << (Math.min(Math.abs(3), 4)));
      let type_oC = false;
      let combineD = String.fromCharCode(109, 95, 53, 56, 0);
      let v_centerp = 9269806 <= optionsC.size;
      do {
        let china5 = String.fromCharCode(120, 95, 54, 51, 95, 115, 109, 106, 112, 101, 103, 0);
        optionsC = new Map([[`${optionsC.size}`, (optionsC.size << (Math.min(2, Math.abs((type_oC ? 3 : 4)))))]]);
        china5 = `${(String.fromCharCode(110, 0) == china5 ? china5.length : china5.length)}`;
        if (v_centerp) {
          break;
        }
      } while (((optionsC.size % (Math.max(5, 10))) < 3) && v_centerp);
      for (let s = 0; s < 1; s++) {
        zhengpian8 = `${(combineD == String.fromCharCode(83, 0) ? combineD.length : calendar6.size)}`;
      }
      let libcxxcomponentsu = 5944761 <= valuesI.length;
      do {
        valuesI = `${calendar6.size}`;
        if (libcxxcomponentsu) {
          break;
        }
      } while ((valuesI.length <= optionsC.size) && libcxxcomponentsu);
      if (combineD.endsWith(`${navigationh.size}`)) {
        combineD += `${calendar6.size}`;
      }
      yellow8 = optionsC.size < 58 && yellow8;
      profileg += parseFloat(`${reward6.size | 2}`);
      let sinaP = 3.0;
      for (let v = 0; v < 2; v++) {
        sinaP *= parseInt(`${sinaP}`);
      }
      sinaP -= parseInt(`${sinaP}`);
      let settingL: Map<any, any> = new Map([[String.fromCharCode(119, 97, 108, 95, 103, 95, 53, 48, 0), 824], [String.fromCharCode(114, 103, 98, 112, 108, 117, 115, 95, 57, 95, 54, 0), 352]]);
      let storeR: Map<any, any> = new Map([[String.fromCharCode(114, 101, 102, 101, 116, 99, 104, 95, 122, 95, 57, 49, 0), true], [String.fromCharCode(120, 95, 56, 53, 95, 102, 111, 99, 117, 115, 0), true], [String.fromCharCode(103, 95, 55, 53, 95, 106, 99, 115, 97, 109, 112, 108, 101, 0), false]]);
      playlistE = "2";
      yellow8 = !yellow8;
      emptyk &= playlistE.length ^ 3;
      return '100%';
    } else if (isPlay || isPlayBottom) {

      k_managerm.push(1 % (Math.max(10, parseInt(`${profileg}`))));
      profileg /= Math.max(5, parseFloat(`${2 ^ emptyk}`));
      let yellowc = String.fromCharCode(104, 95, 55, 48, 95, 114, 101, 115, 105, 122, 101, 100, 0);
      let tailL = 0;
      let f_titleN = String.fromCharCode(113, 95, 50, 53, 95, 109, 111, 100, 0);
      tailL &= tailL;
      f_titleN += `${f_titleN.length}`;
      for (let s = 0; s < 2; s++) {
        tailL <<= Math.min(3, Math.abs(1));
      }
      playlistE += `${parseInt(`${profileg}`)}`;
      yellowc = `${yellowc.length}`;
      reward6.set(largeW, (largeW == String.fromCharCode(90, 0) ? (yellow8 ? 1 : 5) : largeW.length));
      for (let a = 0; a < 1; a++) {
        profileg /= Math.max(5, parseFloat(`${reward6.size & emptyk}`));
      }
      return 200;
    } else {

      profileg += parseFloat(`${playlistE.length}`);
      while (4 < (3 | emptyk)) {
        emptyk &= 1;
        break;
      }
      largeW += `${(reward6.size + (yellow8 ? 2 : 2))}`;
      for (let u = 0; u < 3; u++) {
        let componentj = 0.0;
        componentj *= parseInt(`${componentj}`);
        let progressT = componentj >= 6682611.0;
        do {
          componentj *= parseInt(`${componentj}`) ^ parseInt(`${componentj}`);
          if (progressT) {
            break;
          }
        } while (((componentj / (Math.max(4.23, 6))) == 2.87 || (componentj / (Math.max(4.23, 3))) == 4.89) && progressT);
        let phone4 = String.fromCharCode(98, 97, 99, 107, 103, 114, 111, 117, 110, 100, 95, 114, 95, 51, 51, 0);
        let hooksg: Array<any> = [String.fromCharCode(121, 95, 55, 48, 95, 116, 101, 108, 0), String.fromCharCode(106, 95, 51, 48, 95, 102, 115, 101, 101, 107, 0)];
        let eighteenu = String.fromCharCode(115, 95, 55, 95, 109, 117, 108, 116, 105, 115, 105, 103, 0);
        componentj -= (String.fromCharCode(105, 0) == eighteenu ? hooksg.length : eighteenu.length);
        phone4 += `${(String.fromCharCode(118, 0) == phone4 ? phone4.length : phone4.length)}`;
        hooksg.push(phone4.length);
        playlistE = "1";
      }
      profileg /= Math.max(parseFloat(`${emptyk}`), 5);
      return 0;
    }
  };

  return (
    <View
      style={{
        ...styles.container,
        marginBottom: isPlay ? 150 : '50%',
        backgroundColor: isPlay ? '#000000' : colors.background,
        minHeight: getMinHeight(),
      }}>
      {!isPlay && isPotrait && (
        <>
          <NoWifi />
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.text,
              textAlign: 'center',
              paddingTop: 10,
            }}>
            无网络
          </Text>
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.muted,
              textAlign: 'center',
              paddingTop: 12,
            }}>
            网络连接失败，请刷新重试
          </Text>
          <TouchableOpacity activeOpacity={0.7} onPress={onClickRetry}>
            <View
              style={{
                ...styles.refreshBtn,
                backgroundColor: IS_OTHER_SKIN ? 'white' : colors.title,
              }}>
              <View style={{ position: 'relative', top: 2, paddingRight: 3 }}>
                <RefreshIcon />
              </View>
              <Text
                style={{
                  ...styles.head,
                  color: colors.background,
                }}>
                点击重试
              </Text>
            </View>
          </TouchableOpacity>
        </>
      )}
      {isPlay && (
        <>
          {/* <View>
            <YingshiGreyIcon />
          </View> */}
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.muted,
              textAlign: 'center',
              paddingTop: 12,
            }}>
            无网络或断网，请刷新视频
          </Text>
          <TouchableOpacity activeOpacity={0.7} onPress={onClickRetry}>
            <View
              style={{
                ...styles.refreshBtn,
                backgroundColor: IS_OTHER_SKIN ? 'white' : colors.title,
              }}>
              <View style={{ position: 'relative', top: 2, paddingRight: 3 }}>
                <RefreshIcon />
              </View>
              <Text
                style={{
                  ...styles.head,
                  color: colors.background,
                }}>
                刷新
              </Text>
            </View>
          </TouchableOpacity>
        </>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    display: 'flex',
    flexGrow: 1,
    alignItems: 'center',
    justifyContent: 'center',
  },
  btns: {
    display: 'flex',
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center',
  },
  btn: {
    flex: 1,
  },
  head: {
    color: 'white',
    textAlign: 'center',
  },
  refreshBtn: {
    marginTop: 20,
    borderRadius: 30,
    display: 'flex',
    flexDirection: 'row',
    paddingVertical: 8,
    paddingHorizontal: 15,
    alignItems: 'center',
    justifyContent: 'center',
    fontWeight: 'bold',
  },
});
