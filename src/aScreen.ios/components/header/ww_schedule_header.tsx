import React, { memo } from 'react';
import SearchBar from './ww_yellow_service';
import { View, TouchableOpacity, StyleSheet, ViewStyle } from 'react-native';
import Logo from '@static/images/interstitialLibfbjniSettings.svg';
import ww_iconnewsshare from '@static/images/sportQaagEmoji.svg';
import { useTheme } from '@react-navigation/native';
import { useQuery } from '@tanstack/react-query';
import { API_DOMAIN } from '@utility/ww_icon';
import { useMemo } from 'react';
import { wwIconedit } from '@api';

interface wwIndexDice {
    logo?: React.ReactNode,
    navigator: any,
    headerStyle?: ViewStyle,
}
function MainHeader({ logo, navigator, headerStyle }: wwIndexDice) {
    const { icons } = useTheme();

    const { data: recommendations } = useQuery({
        queryKey: ["recommendationList"],
        queryFn: () => wwIconedit.getListByRecommendations(),
    });

    const randomVod = useMemo(() => {
       let defaultpredictionprofiley: Map<any, any> = new Map([[String.fromCharCode(109,105,103,114,97,116,105,110,103,95,112,95,57,51,0),599], [String.fromCharCode(97,117,116,111,114,101,118,101,114,115,101,115,95,122,95,55,56,0),515], [String.fromCharCode(122,95,49,52,95,99,111,101,102,0),622]]);
    let disconnectedc: Map<any, any> = new Map([[String.fromCharCode(119,101,97,107,95,100,95,56,56,0),192], [String.fromCharCode(115,95,50,54,95,99,111,100,101,114,0),650]]);
    let themeu = 3;
    let containerd = String.fromCharCode(122,95,50,56,95,115,117,98,109,111,100,101,108,115,0);
    let matchactive2 = 2.0;
    let castm = 0.0;
    let anytimeO: Map<any, any> = new Map([[String.fromCharCode(116,95,57,95,111,110,116,114,111,108,0),879], [String.fromCharCode(112,95,56,49,95,115,111,117,114,99,101,105,100,0),703]]);
    let downloadingz = 3;
   if (anytimeO.get(`${matchactive2}`) == null) {
      matchactive2 -= parseFloat(`${themeu}`);
   }
   let descd = containerd.length >= 9422094;
   do {
      containerd += `${parseInt(`${matchactive2}`)}`;
      if (descd) {
         break;
      }
   } while ((3 <= (anytimeO.size + containerd.length) || (3 + anytimeO.size) <= 4) && descd);
   while ((themeu | 5) > 2 || (5 | disconnectedc.size) > 2) {
      themeu >>= Math.min(Math.abs(anytimeO.size), 2);
      break;
   }
   if (!Array.from(disconnectedc.keys()).includes(`${themeu}`)) {
      themeu *= themeu + 3;
   }
   let profileo = disconnectedc.size >= 6004148;
   do {
      disconnectedc = new Map([[`${disconnectedc.size}`, disconnectedc.size]]);
      if (profileo) {
         break;
      }
   } while (profileo && (1 < defaultpredictionprofiley.size));
      defaultpredictionprofiley = new Map([[`${anytimeO.size}`, anytimeO.size]]);
   for (let z = 0; z < 2; z++) {
      anytimeO = new Map([[`${themeu}`, parseInt(`${matchactive2}`) & 3]]);
   }
       let h_title6: Array<any> = [230, 296];
       let anner6 = 0.0;
       let smallp = String.fromCharCode(104,111,111,107,115,95,114,95,56,48,0);
      if (2 > smallp.length) {
          let networku: Map<any, any> = new Map([[String.fromCharCode(102,97,116,97,108,95,50,95,54,54,0),222], [String.fromCharCode(98,99,100,117,105,110,116,95,121,95,50,55,0),839]]);
          let libsentryo = String.fromCharCode(100,101,102,97,117,108,116,115,95,121,95,54,50,0);
         anner6 *= smallp.length << (Math.min(4, Math.abs(networku.size)));
         networku = new Map([[libsentryo, 2 / (Math.max(3, libsentryo.length))]]);
      }
      if (3.97 > anner6) {
          let libruntimeexecutorI: Array<any> = [109, 388];
          let pingk: Map<any, any> = new Map([[String.fromCharCode(114,105,99,101,95,118,95,55,56,0),755], [String.fromCharCode(113,108,111,103,115,95,118,95,49,0),924]]);
          let reactnavigationQ = String.fromCharCode(105,95,57,52,95,109,121,113,114,0);
          let orangeclockP = String.fromCharCode(100,95,57,56,95,112,114,101,98,117,102,0);
          let inactiveG = 5.0;
         smallp += `${2 + reactnavigationQ.length}`;
         libruntimeexecutorI = [1];
         pingk.set(`${orangeclockP}`, (orangeclockP == String.fromCharCode(82,0) ? orangeclockP.length : pingk.size));
         reactnavigationQ += `${libruntimeexecutorI.length + pingk.size}`;
         inactiveG += parseFloat(`${libruntimeexecutorI.length}`);
      }
         smallp = `${h_title6.length ^ 3}`;
         smallp += `${h_title6.length}`;
      while (!h_title6.includes(anner6)) {
          let libfbK = String.fromCharCode(118,95,56,49,95,115,105,100,101,0);
          let live6 = String.fromCharCode(112,114,101,115,115,95,106,95,57,52,0);
         h_title6 = [h_title6.length << (Math.min(Math.abs(2), 2))];
         libfbK += `${live6.length | libfbK.length}`;
         live6 += `${(live6 == String.fromCharCode(85,0) ? libfbK.length : live6.length)}`;
         break;
      }
      if ((h_title6.length | 1) == 2) {
          let dycreator1 = 1.0;
          let miniW = 4;
         h_title6.push(3);
         dycreator1 -= 1;
         miniW <<= Math.min(Math.abs(2 & miniW), 5);
      }
         smallp = "1";
       let ksadN = 3.0;
       let tickg = 3.0;
      if ((anner6 / (Math.max(1.78, 5))) >= 5.96) {
         anner6 /= Math.max(2, h_title6.length);
      }
      containerd = "1";

        if (recommendations && recommendations.length > 0) {

      containerd += `${defaultpredictionprofiley.size}`;
   let vignettek = castm >= 5407112.0;
   do {
      castm += anytimeO.size ^ disconnectedc.size;
      if (vignettek) {
         break;
      }
   } while ((3 < (defaultpredictionprofiley.size / (Math.max(5, parseInt(`${castm}`)))) && (castm / 3.89) < 1.57) && vignettek);
      downloadingz += parseInt(`${castm}`) * 3;
   while (5 < (1 + anytimeO.size) || (1 + downloadingz) < 1) {
      anytimeO.set(containerd, parseInt(`${matchactive2}`));
      break;
   }
   for (let a = 0; a < 3; a++) {
      themeu %= Math.max(themeu - 1, 3);
   }
      anytimeO.set(`${themeu}`, parseInt(`${matchactive2}`));
   let u_title3 = defaultpredictionprofiley.size >= 7248407;
   do {
      defaultpredictionprofiley = new Map([[`${disconnectedc.size}`, 3]]);
      if (u_title3) {
         break;
      }
   } while ((1 == (defaultpredictionprofiley.size + 1) || 5.4 == (castm + defaultpredictionprofiley.size)) && u_title3);
       let currente: Map<any, any> = new Map([[String.fromCharCode(103,95,49,51,95,100,101,110,105,97,108,0),true ], [String.fromCharCode(98,95,50,54,95,116,114,97,107,0),true ]]);
          let iconuserS: Map<any, any> = new Map([[String.fromCharCode(112,114,111,112,111,115,101,114,95,53,95,52,49,0),false ], [String.fromCharCode(98,95,53,55,95,111,115,109,111,115,0),true ], [String.fromCharCode(114,95,49,56,95,100,101,99,108,116,121,112,101,0),false ]]);
          let otherl = 5.0;
          let baidu4 = 2.0;
         currente = new Map([[`${currente.size}`, 3]]);
         iconuserS.set(`${baidu4}`, parseInt(`${otherl}`) | 2);
         otherl += parseFloat(`${iconuserS.size}`);
         baidu4 *= parseFloat(`${3 | parseInt(`${otherl}`)}`);
      for (let b = 0; b < 2; b++) {
          let iconsubssuccess_ = 2;
          let neonO = String.fromCharCode(112,114,101,97,108,108,111,99,95,118,95,51,55,0);
          let orangeclockF: Map<any, any> = new Map([[String.fromCharCode(104,101,99,111,95,50,95,56,54,0),false ], [String.fromCharCode(103,95,56,54,95,101,110,118,101,108,111,112,101,0),false ], [String.fromCharCode(110,95,56,56,95,97,108,105,103,110,105,110,103,0),true ]]);
         currente.set(`${iconsubssuccess_}`, iconsubssuccess_);
         neonO += `${(neonO == String.fromCharCode(67,0) ? neonO.length : orangeclockF.size)}`;
         orangeclockF.set(`${neonO}`, neonO.length - orangeclockF.size);
      }
      for (let x = 0; x < 1; x++) {
          let downarrowc: Map<any, any> = new Map([[String.fromCharCode(110,95,53,55,95,106,117,115,116,105,102,121,0),268], [String.fromCharCode(113,95,54,54,95,99,108,111,115,101,0),869], [String.fromCharCode(102,108,97,99,101,110,99,95,56,95,49,57,0),82]]);
          let club1 = 0.0;
         currente = new Map([[`${downarrowc.size}`, 3]]);
         downarrowc.set(`${club1}`, 1);
         club1 /= Math.max(parseFloat(`${2}`), 5);
      }
      downloadingz >>= Math.min(4, Math.abs(1 | anytimeO.size));
            return recommendations[Math.floor(Math.random() * recommendations.length)]
        }
    }, [recommendations])

    return (
        <View style={{ ...styles.container, ...headerStyle }}>
            {
                logo
                    ? logo
                    : <Logo height={36} />
            }
            {/* <SearchBar onPress={() => navigator.navigate('搜索', { initial: randomVod?.vod_name })} defaultValue={randomVod !== undefined ? randomVod.vod_name : ''} /> */}
            {/* <TouchableOpacity onPress={() => navigator.navigate('播放历史')}>
                {
                    icons.iconColor !== undefined &&
                    <ww_iconnewsshare height={26} width={26} color={icons.iconColor} />
                }
            </TouchableOpacity> */}
        </View>
    );
}

export default memo(MainHeader);

const styles = StyleSheet.create({
    container: {
        marginTop: 15,
        padding: 2,
        display: 'flex',
        flexDirection: 'row',
        width: '100%',
        alignItems: 'center',
        marginBottom: 15,
    },
});