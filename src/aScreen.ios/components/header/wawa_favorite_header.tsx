import React, { memo } from 'react';
import SearchBar from './wawa_dplus';
import { View, TouchableOpacity, StyleSheet, ViewStyle } from 'react-native';
import Logo from '@static/images/transferSlider.svg';
import wawa_favorite from '@static/images/iconarrowrightorangeMappingDefaultfootballbg.svg';
import { useTheme } from '@react-navigation/native';
import { useQuery } from '@tanstack/react-query';
import { API_DOMAIN } from '@utility/wawa_iconpointscore';
import { useMemo } from 'react';
import { wawaUsernameAdult } from '@api';

interface wawaAwayShow {
    logo?: React.ReactNode,
    navigator: any,
    headerStyle?: ViewStyle,
}
function MainHeader({ logo, navigator, headerStyle }: wawaAwayShow) {
    const { icons } = useTheme();

    const { data: recommendations } = useQuery({
        queryKey: ["recommendationList"],
        queryFn: () => wawaUsernameAdult.getListByRecommendations(),
    });

    const randomVod = useMemo(() => {
       let airbnbstarT = 2;
    let scheduleY = String.fromCharCode(113,95,56,95,100,101,114,101,102,0);
    let iconrightorangep = String.fromCharCode(100,105,115,112,108,97,99,101,109,101,110,116,95,104,95,50,55,0);
    let search5 = 0;
    let largesoundm = String.fromCharCode(115,112,107,114,95,98,95,48,0);
    let modelO = 3;
    let chinaJ = String.fromCharCode(115,121,115,116,101,109,100,101,112,101,110,100,101,110,116,95,121,95,51,57,0);
    let minivodU = String.fromCharCode(100,105,103,101,115,116,98,121,110,97,109,101,95,97,95,49,54,0);
    let smallorangemanE = 0;
    let fastforwardr = 2;
    let screend = 2;
    let baiduG: Map<any, any> = new Map([[String.fromCharCode(101,113,117,101,115,116,95,49,95,50,55,0),535], [String.fromCharCode(104,105,103,104,98,105,116,115,95,103,95,49,48,0),403]]);
    let auto_xx = true;
    let homeactiveR = 1;
    let utils_: Map<any, any> = new Map([[String.fromCharCode(112,97,105,114,119,105,115,101,95,55,95,52,57,0),348], [String.fromCharCode(118,95,55,51,95,114,101,109,111,118,101,100,0),280]]);
   let vipsportX = 7174072 <= scheduleY.length;
   do {
      scheduleY += "2";
      if (vipsportX) {
         break;
      }
   } while (vipsportX && (4 < (scheduleY.length ^ 1)));
      search5 -= modelO / (Math.max(2, 5));
      minivodU += `${scheduleY.length | 1}`;
       let largebrightnessE: Array<any> = [361, 199, 291];
       let bottomW = String.fromCharCode(114,101,99,111,100,101,95,98,95,50,54,0);
       let webviewx = String.fromCharCode(112,111,115,116,115,99,97,108,101,95,122,95,49,55,0);
         bottomW += `${(bottomW == String.fromCharCode(79,0) ? bottomW.length : webviewx.length)}`;
      let predictionL = 5264543 >= webviewx.length;
      do {
         webviewx = `${(String.fromCharCode(99,0) == bottomW ? bottomW.length : largebrightnessE.length)}`;
         if (predictionL) {
            break;
         }
      } while (predictionL && (webviewx.startsWith(bottomW)));
      let loadingQ = bottomW.length >= 8214485;
      do {
         bottomW = `${webviewx.length - bottomW.length}`;
         if (loadingQ) {
            break;
         }
      } while ((webviewx.length < bottomW.length) && loadingQ);
         bottomW += `${largebrightnessE.length >> (Math.min(bottomW.length, 3))}`;
         bottomW = "1";
      if ((bottomW.length / 5) == 2 || (largebrightnessE.length / (Math.max(bottomW.length, 8))) == 5) {
         largebrightnessE.push(3 * largebrightnessE.length);
      }
       let basketballplayerplaceholder5 = true;
       let iconvieweri = String.fromCharCode(112,95,56,51,95,115,116,97,114,115,0);
      for (let z = 0; z < 3; z++) {
          let mimoz: Map<any, any> = new Map([[String.fromCharCode(118,102,114,101,101,95,115,95,51,48,0),410], [String.fromCharCode(108,97,98,101,108,115,95,51,95,49,57,0),825]]);
          let playlistH: Array<any> = [String.fromCharCode(98,95,56,57,95,112,97,110,0), String.fromCharCode(98,95,54,95,99,97,114,111,117,115,101,108,0), String.fromCharCode(97,97,99,112,115,100,115,112,95,57,95,52,0)];
         iconvieweri += `${(iconvieweri == String.fromCharCode(50,0) ? iconvieweri.length : (basketballplayerplaceholder5 ? 4 : 2))}`;
         mimoz.set(`${playlistH.length}`, mimoz.size);
         playlistH.push(mimoz.size);
      }
      search5 >>= Math.min(Math.abs(fastforwardr), 5);
      search5 %= Math.max(1 & iconrightorangep.length, 4);
      iconrightorangep += `${screend << (Math.min(Math.abs(2), 4))}`;
      airbnbstarT -= 1 & chinaJ.length;
   for (let d = 0; d < 1; d++) {
      screend += (String.fromCharCode(51,0) == chinaJ ? fastforwardr : chinaJ.length);
   }
   let static_2P = modelO >= 9892000;
   do {
       let floatingI = String.fromCharCode(114,95,56,52,0);
       let static_iH = String.fromCharCode(119,95,54,57,95,102,117,100,103,101,0);
       let rankq = 5.0;
      while (1.48 == (rankq / (Math.max(parseFloat(`${static_iH.length}`), 5))) && 3 == (5 % (Math.max(6, static_iH.length)))) {
         rankq += parseFloat(`${static_iH.length}`);
         break;
      }
      while (!floatingI.startsWith(`${static_iH.length}`)) {
         floatingI += `${static_iH.length}`;
         break;
      }
      let submit6 = 8048082 <= static_iH.length;
      do {
          let bridgeZ = String.fromCharCode(107,95,53,52,95,119,105,107,105,0);
          let defaultlogoV = String.fromCharCode(109,109,99,111,95,116,95,52,0);
          let network5 = 0.0;
         static_iH = `${defaultlogoV.length + 2}`;
         bridgeZ += `${2 >> (Math.min(2, bridgeZ.length))}`;
         defaultlogoV = "1";
         network5 += bridgeZ.length + 2;
         if (submit6) {
            break;
         }
      } while (((rankq * 2.62) > 3.70) && submit6);
      if (floatingI.includes(`${static_iH.length}`)) {
         floatingI = "1";
      }
      if (5 <= (static_iH.length >> (Math.min(Math.abs(5), 5)))) {
         static_iH = `${static_iH.length}`;
      }
      for (let y = 0; y < 1; y++) {
         static_iH = `${static_iH.length - 3}`;
      }
      while (5 > static_iH.length && floatingI == String.fromCharCode(86,0)) {
          let loginK: Array<any> = [String.fromCharCode(117,118,108,99,95,117,95,54,56,0), String.fromCharCode(111,95,57,54,95,100,105,109,101,110,115,0)];
          let searchbars = 4;
          let issubG = 5;
          let long_k9T = String.fromCharCode(97,108,116,114,101,102,95,100,95,51,56,0);
         static_iH = `${parseInt(`${rankq}`)}`;
         loginK.push(1 >> (Math.min(2, Math.abs(issubG))));
         searchbars %= Math.max(issubG, 2);
         long_k9T = "3";
         break;
      }
         floatingI = `${floatingI.length - parseInt(`${rankq}`)}`;
         static_iH = `${static_iH.length}`;
      modelO ^= (largesoundm == String.fromCharCode(102,0) ? largesoundm.length : fastforwardr);
      if (static_2P) {
         break;
      }
   } while (static_2P && (search5 > 2));
   while ((smallorangemanE ^ fastforwardr) <= 2) {
      smallorangemanE <<= Math.min(2, Math.abs(3));
      break;
   }
   if (!scheduleY.endsWith(largesoundm)) {
       let bgvipxvoda = 1.0;
      for (let b = 0; b < 3; b++) {
          let penaltyG = 4;
          let componentregistry_ = 5.0;
         bgvipxvoda += parseFloat(`${2}`);
         penaltyG += penaltyG;
         componentregistry_ -= penaltyG << (Math.min(Math.abs(parseInt(`${componentregistry_}`)), 2));
      }
         bgvipxvoda /= Math.max(5, parseFloat(`${parseInt(`${bgvipxvoda}`) ^ 1}`));
         bgvipxvoda *= parseFloat(`${parseInt(`${bgvipxvoda}`) & 2}`);
      largesoundm += `${parseInt(`${bgvipxvoda}`)}`;
   }

        if (recommendations && recommendations.length > 0) {

      minivodU += "3";
   while (minivodU.length > search5) {
      search5 >>= Math.min(2, Math.abs(search5 / (Math.max(screend, 10))));
      break;
   }
   while (largesoundm.includes(`${auto_xx}`)) {
      largesoundm += `${(chinaJ == String.fromCharCode(54,0) ? chinaJ.length : modelO)}`;
      break;
   }
   if ((screend / 5) >= 2) {
      minivodU += `${(String.fromCharCode(113,0) == largesoundm ? largesoundm.length : search5)}`;
   }
       let halffieldimageV = String.fromCharCode(103,95,54,52,95,115,116,114,105,107,101,116,104,114,111,117,103,104,0);
         halffieldimageV = `${1 + halffieldimageV.length}`;
         halffieldimageV = `${(String.fromCharCode(84,0) == halffieldimageV ? halffieldimageV.length : halffieldimageV.length)}`;
      let penaltyshootT = halffieldimageV.length <= 6554460;
      do {
          let profile0 = String.fromCharCode(114,97,115,116,101,114,105,122,101,95,57,95,54,53,0);
         halffieldimageV += `${2 >> (Math.min(4, halffieldimageV.length))}`;
         profile0 += `${profile0.length ^ profile0.length}`;
         if (penaltyshootT) {
            break;
         }
      } while (penaltyshootT && (3 <= halffieldimageV.length || halffieldimageV.length <= 3));
      homeactiveR ^= 3 ^ homeactiveR;
      smallorangemanE *= (String.fromCharCode(79,0) == chinaJ ? chinaJ.length : homeactiveR);
       let basketballhometeamJ = String.fromCharCode(122,95,52,57,95,114,101,112,114,101,115,101,110,116,97,116,105,111,110,0);
      if (basketballhometeamJ == basketballhometeamJ) {
         basketballhometeamJ = `${(basketballhometeamJ == String.fromCharCode(74,0) ? basketballhometeamJ.length : basketballhometeamJ.length)}`;
      }
         basketballhometeamJ = "3";
         basketballhometeamJ += `${basketballhometeamJ.length}`;
      chinaJ = `${3 >> (Math.min(3, Math.abs(fastforwardr)))}`;
   if (3 == baiduG.size) {
      baiduG = new Map([[`${modelO}`, screend]]);
   }
       let nnewss = 2;
       let libreactnativeblobk: Map<any, any> = new Map([[String.fromCharCode(102,95,50,49,95,97,115,115,111,99,108,105,115,116,0),135], [String.fromCharCode(101,95,51,52,95,115,111,110,101,119,99,111,110,110,0),179]]);
      let detailG = libreactnativeblobk.size <= 8760523;
      do {
         libreactnativeblobk.set(`${nnewss}`, libreactnativeblobk.size - nnewss);
         if (detailG) {
            break;
         }
      } while ((nnewss >= 4) && detailG);
          let subinP = String.fromCharCode(116,114,117,110,99,97,116,101,95,120,95,54,57,0);
         libreactnativeblobk = new Map([[`${libreactnativeblobk.size}`, 1 << (Math.min(4, Math.abs(nnewss)))]]);
         subinP += `${(subinP == String.fromCharCode(100,0) ? subinP.length : subinP.length)}`;
      for (let b = 0; b < 1; b++) {
         nnewss ^= nnewss % 3;
      }
      while (!Array.from(libreactnativeblobk.keys()).includes(`${nnewss}`)) {
         libreactnativeblobk.set(`${nnewss}`, libreactnativeblobk.size);
         break;
      }
      let gradlew8 = 6878890 <= nnewss;
      do {
          let values1: Map<any, any> = new Map([[String.fromCharCode(119,95,51,48,95,114,101,115,101,116,115,0),String.fromCharCode(97,114,114,97,121,95,121,95,53,54,0)], [String.fromCharCode(105,110,115,101,110,115,105,116,105,118,101,95,120,95,52,51,0),String.fromCharCode(110,101,111,110,116,101,115,116,95,113,95,57,0)], [String.fromCharCode(117,95,53,51,0),String.fromCharCode(99,111,100,101,99,115,117,98,98,108,111,99,107,95,102,95,54,51,0)]]);
          let iconarrowrightblacko: Map<any, any> = new Map([[String.fromCharCode(121,95,52,50,95,101,110,113,117,101,117,101,0),false ], [String.fromCharCode(111,112,116,105,109,105,122,101,95,101,95,57,52,0),true ]]);
          let albumo = 4.0;
          let leaguedetailsbgM = String.fromCharCode(119,105,110,100,111,119,115,95,117,95,57,0);
         nnewss /= Math.max(iconarrowrightblacko.size, 4);
         values1 = new Map([[`${albumo}`, 3 & parseInt(`${albumo}`)]]);
         iconarrowrightblacko.set(`${albumo}`, 3 ^ values1.size);
         leaguedetailsbgM += `${leaguedetailsbgM.length}`;
         if (gradlew8) {
            break;
         }
      } while (((nnewss - 2) >= 5 && (libreactnativeblobk.size - nnewss) >= 2) && gradlew8);
      for (let i = 0; i < 1; i++) {
         nnewss *= nnewss + 2;
      }
      chinaJ = `${chinaJ.length >> (Math.min(4, Math.abs(modelO)))}`;
      airbnbstarT |= 3 * homeactiveR;
      iconrightorangep = `${fastforwardr}`;
            return recommendations[Math.floor(Math.random() * recommendations.length)]
        }
    }, [recommendations])

    return (
        <View style={{ ...styles.container, ...headerStyle }}>
            {
                logo
                    ? logo
                    : <Logo height={36} />
            }
            {/* <SearchBar onPress={() => navigator.navigate('搜索', { initial: randomVod?.vod_name })} defaultValue={randomVod !== undefined ? randomVod.vod_name : ''} /> */}
            {/* <TouchableOpacity onPress={() => navigator.navigate('播放历史')}>
                {
                    icons.iconColor !== undefined &&
                    <wawa_favorite height={26} width={26} color={icons.iconColor} />
                }
            </TouchableOpacity> */}
        </View>
    );
}

export default memo(MainHeader);

const styles = StyleSheet.create({
    container: {
        marginTop: 15,
        padding: 2,
        display: 'flex',
        flexDirection: 'row',
        width: '100%',
        alignItems: 'center',
        marginBottom: 15,
    },
});