import React, { useState, memo, useCallback } from 'react';
import ShortVideoPlayer from '../../components/videoPlayer/yys_playlist_icondownimg';
import CollectionBottomSheet from '../../../components/miniCollection/yys_logo_launch';

interface yysIconarrowrightorangeStation {
    thumbnail?: string;
    displayHeight: number;
    vod: any;
    inCollectionView?: boolean;
    setCollectionEpisode?: any;
    isPause: boolean;
    onManualPause: (value: boolean) => void;
    isShowVideo: boolean,
    currentDuration: number,
    updateVideoDuration: (duration: number) => any,
}

function ShortVod({
    vod,
    thumbnail,
    displayHeight = 0,
    inCollectionView = false,
    setCollectionEpisode,
    isPause = true,
    onManualPause,
    isShowVideo,
    currentDuration,
    updateVideoDuration,
}: yysIconarrowrightorangeStation) {
    const [isShowBottomSheet, setShowBottomSheet] = useState(false);
    const [currentVod, setVod] = useState(vod);

    const changeEpisode = useCallback((item: any, index: number) => {
        setVod(item);
        setCollectionEpisode(index);
        setShowBottomSheet(false);
    }, []);

    const openSheet = () => {
       let memberj: Array<any> = [String.fromCharCode(121,95,54,57,95,108,97,112,108,97,99,101,0), String.fromCharCode(109,95,52,56,95,100,111,108,98,121,0)];
    let libavfilterS = true;
    let desc5 = 0.0;
    let unselected2 = 3;
    let tempnodatagifb: Array<any> = [947, 704];
    let helper3 = String.fromCharCode(109,111,100,105,102,121,95,102,95,56,48,0);
    let handlerq: Map<any, any> = new Map([[String.fromCharCode(121,95,52,56,95,97,108,98,117,109,115,0),true ], [String.fromCharCode(113,95,54,50,95,97,117,100,105,101,110,99,101,0),false ]]);
    let langkeyS = 1.0;
    let libffmpegkitV = String.fromCharCode(115,105,110,107,95,98,95,57,51,0);
    let analytica = 4;
    let applicationS = String.fromCharCode(120,95,52,50,95,97,100,106,117,115,116,105,110,103,0);
    let matchinactivek = String.fromCharCode(100,101,113,117,97,110,116,95,113,95,53,49,0);
   while (1 < (unselected2 & 4) || (unselected2 - 4) < 1) {
      desc5 *= parseInt(`${desc5}`) - handlerq.size;
      break;
   }
   while (memberj.length == unselected2) {
      memberj.push((applicationS == String.fromCharCode(95,0) ? parseInt(`${desc5}`) : applicationS.length));
      break;
   }
   let componenth = langkeyS >= 6017908.0;
   do {
      langkeyS += 2;
      if (componenth) {
         break;
      }
   } while (componenth && ((applicationS.length / (Math.max(6, parseInt(`${langkeyS}`)))) <= 2 || (applicationS.length / (Math.max(4, parseInt(`${langkeyS}`)))) <= 2));
   while (Array.from(handlerq.values()).includes(tempnodatagifb.length)) {
       let qaagk = String.fromCharCode(112,97,107,116,95,108,95,57,54,0);
      let yellowredcardh = qaagk == String.fromCharCode(101,51,120,109,0);
      do {
         qaagk += "3";
         if (yellowredcardh) {
            break;
         }
      } while ((qaagk.length >= 4) && yellowredcardh);
          let buffer7 = String.fromCharCode(99,95,53,53,95,118,97,114,105,97,98,108,101,0);
          let classest = String.fromCharCode(118,105,115,105,98,105,116,121,95,120,95,52,50,0);
          let penaltyshootd: Array<any> = [583, 483];
         qaagk = "2";
         buffer7 += `${classest.length}`;
         classest = `${3 | buffer7.length}`;
         penaltyshootd = [buffer7.length & 3];
          let completey = true;
          let imagemanagerO = true;
         qaagk = `${((completey ? 4 : 5))}`;
         completey = (!imagemanagerO ? !imagemanagerO : !imagemanagerO);
      handlerq = new Map([[`${memberj.length}`, ((libavfilterS ? 4 : 5) | memberj.length)]]);
      break;
   }
      applicationS = `${handlerq.size | 2}`;
   let hook2 = applicationS.length <= 6438497;
   do {
       let playlisti: Array<any> = [552, 480];
       let dependency7 = 3;
      if (3 == (4 | dependency7) && 4 == (dependency7 | playlisti.length)) {
         dependency7 -= playlisti.length;
      }
       let pathr = 0;
       let libyogaZ = 5;
         pathr %= Math.max(5, playlisti.length);
      let ewardedq = 9762951 >= pathr;
      do {
         pathr /= Math.max(1, 3);
         if (ewardedq) {
            break;
         }
      } while ((pathr == playlisti.length) && ewardedq);
       let moduleE = 3.0;
         dependency7 <<= Math.min(Math.abs(pathr), 2);
      applicationS += `${analytica >> (Math.min(Math.abs(2), 4))}`;
      if (hook2) {
         break;
      }
   } while (((3 / (Math.max(3, tempnodatagifb.length))) == 1 && (tempnodatagifb.length / (Math.max(applicationS.length, 10))) == 3) && hook2);
      langkeyS *= tempnodatagifb.length * libffmpegkitV.length;
       let iconeditc = 2;
         iconeditc -= iconeditc;
         iconeditc ^= iconeditc;
          let neonC: Array<any> = [String.fromCharCode(97,118,105,111,95,118,95,53,50,0), String.fromCharCode(111,95,57,55,95,112,97,114,97,103,114,97,112,104,0), String.fromCharCode(114,101,105,110,115,101,114,116,95,115,95,49,49,0)];
          let iconarrowrightu = String.fromCharCode(118,105,101,119,115,95,115,95,55,50,0);
         iconeditc ^= iconeditc | neonC.length;
         neonC.push(1);
         iconarrowrightu = `${iconarrowrightu.length}`;
      desc5 /= Math.max(parseInt(`${desc5}`) + 3, 3);
      analytica ^= libffmpegkitV.length & 2;
   while ((analytica * applicationS.length) >= 4 && 1 >= (4 * applicationS.length)) {
       let heartQ = 5.0;
       let optionsN = false;
      for (let a = 0; a < 3; a++) {
         optionsN = heartQ <= 59.18;
      }
          let textz = String.fromCharCode(105,110,110,101,114,95,122,95,57,57,0);
         heartQ -= parseFloat(`${1}`);
         textz += `${textz.length}`;
         optionsN = 55.17 >= heartQ;
         heartQ -= parseFloat(`${parseInt(`${heartQ}`) << (Math.min(3, Math.abs(2)))}`);
      let combinel = heartQ <= 5150732.0;
      do {
          let graph5 = true;
          let iconviewerT = 1.0;
          let nterstitialZ = 2.0;
          let singleb = 5;
         heartQ *= parseFloat(`${1}`);
         graph5 = 61.26 == nterstitialZ || singleb == 47;
         iconviewerT /= Math.max(5, parseFloat(`${parseInt(`${iconviewerT}`) & parseInt(`${nterstitialZ}`)}`));
         singleb <<= Math.min(Math.abs(((graph5 ? 1 : 5) + parseInt(`${iconviewerT}`))), 5);
         if (combinel) {
            break;
         }
      } while ((3.16 > heartQ) && combinel);
      if (optionsN) {
          let moons = String.fromCharCode(114,95,51,57,95,117,115,101,115,0);
          let qaagu = 2.0;
          let statisticsinactive9: Array<any> = [795, 550, 277];
          let gifgoall = String.fromCharCode(99,95,51,57,95,112,111,115,116,114,101,113,117,101,115,116,0);
         heartQ += parseFloat(`${gifgoall.length - 2}`);
         moons = `${3 >> (Math.min(5, moons.length))}`;
         qaagu *= parseFloat(`${3 - statisticsinactive9.length}`);
         statisticsinactive9.push(moons.length << (Math.min(3, Math.abs(parseInt(`${qaagu}`)))));
         gifgoall = `${moons.length % (Math.max(3, parseInt(`${qaagu}`)))}`;
      }
      analytica ^= 3;
      break;
   }
   let filledq = 5707716.0 >= langkeyS;
   do {
      langkeyS /= Math.max(applicationS.length ^ 2, 1);
      if (filledq) {
         break;
      }
   } while (filledq && (4.70 == (2.67 - langkeyS) && (parseInt(`${langkeyS}`) - 3) == 2));
   if (5.67 <= desc5) {
      handlerq.set(helper3, helper3.length & 2);
   }
   while (5 < (5 + analytica) || 5 < (analytica + applicationS.length)) {
       let taiwans: Map<any, any> = new Map([[String.fromCharCode(100,101,102,101,114,114,105,110,103,95,119,95,56,49,0),String.fromCharCode(100,95,53,55,95,100,111,119,110,108,111,97,100,115,0)], [String.fromCharCode(118,95,51,56,95,112,97,115,115,105,118,101,0),String.fromCharCode(100,95,55,52,95,105,103,104,108,105,103,104,116,115,0)], [String.fromCharCode(103,95,50,51,95,104,117,110,103,0),String.fromCharCode(118,97,114,105,110,116,95,102,95,54,53,0)]]);
       let footbally = String.fromCharCode(112,114,111,98,115,95,55,95,49,0);
          let injuryK = 5.0;
         footbally = `${parseInt(`${injuryK}`)}`;
      let qaagS = 7283878 <= taiwans.size;
      do {
         taiwans.set(footbally, footbally.length);
         if (qaagS) {
            break;
         }
      } while (qaagS && (footbally.length == taiwans.size));
      let redscoreballh = taiwans.size >= 5929531;
      do {
         taiwans.set(footbally, taiwans.size);
         if (redscoreballh) {
            break;
         }
      } while (redscoreballh && (4 <= (footbally.length - 2) || (taiwans.size - 2) <= 4));
      while (!footbally.includes(`${taiwans.size}`)) {
         taiwans = new Map([[`${taiwans.size}`, footbally.length]]);
         break;
      }
         taiwans.set(footbally, (String.fromCharCode(48,0) == footbally ? footbally.length : taiwans.size));
      let transferd = 8146831 >= taiwans.size;
      do {
          let defaultbasketballbgc = 2;
          let phoneshareA = 5;
          let buttonJ = String.fromCharCode(117,110,114,101,102,95,56,95,51,55,0);
          let sheet0 = 0.0;
          let mimeP: Array<any> = [831, 354];
         taiwans = new Map([[`${mimeP.length}`, 2]]);
         defaultbasketballbgc &= buttonJ.length % 3;
         phoneshareA += 1;
         buttonJ = `${1 | buttonJ.length}`;
         sheet0 /= Math.max(parseFloat(`${1 - parseInt(`${sheet0}`)}`), 3);
         mimeP = [1 ^ phoneshareA];
         if (transferd) {
            break;
         }
      } while ((footbally.length < 3) && transferd);
      applicationS = "3";
      break;
   }
       let libimagepipeline0 = 5;
          let handlerJ = 5;
         libimagepipeline0 |= 1;
         handlerJ %= Math.max(handlerJ ^ 1, 3);
      if ((libimagepipeline0 + libimagepipeline0) > 4) {
         libimagepipeline0 >>= Math.min(5, Math.abs(libimagepipeline0));
      }
         libimagepipeline0 += 3 | libimagepipeline0;
      libavfilterS = helper3.length <= 14 || libavfilterS;
      langkeyS += unselected2;
   while (!libffmpegkitV.includes(`${tempnodatagifb.length}`)) {
      tempnodatagifb.push(libffmpegkitV.length ^ analytica);
      break;
   }
      libffmpegkitV = `${analytica}`;
       let c_positionK = String.fromCharCode(112,95,53,54,95,100,120,116,121,115,0);
       let invitex: Map<any, any> = new Map([[String.fromCharCode(101,103,117,108,97,114,95,119,95,55,49,0),false ], [String.fromCharCode(112,95,57,57,0),true ], [String.fromCharCode(98,97,99,107,114,111,117,110,100,95,110,95,55,50,0),true ]]);
       let infoo = 4;
         invitex = new Map([[c_positionK, infoo / (Math.max(c_positionK.length, 10))]]);
         invitex = new Map([[c_positionK, 3 + infoo]]);
         infoo &= infoo >> (Math.min(Math.abs(3), 4));
      for (let j = 0; j < 3; j++) {
          let defaultbasketballbgp = 0;
         invitex.set(`${infoo}`, 2);
         defaultbasketballbgp *= defaultbasketballbgp;
      }
      let blackb = String.fromCharCode(107,119,118,0) == c_positionK;
      do {
         c_positionK = `${infoo}`;
         if (blackb) {
            break;
         }
      } while ((!c_positionK.startsWith(`${invitex.size}`)) && blackb);
      let launchS = c_positionK == String.fromCharCode(112,110,106,0);
      do {
         c_positionK = `${1 % (Math.max(4, invitex.size))}`;
         if (launchS) {
            break;
         }
      } while (((invitex.size + c_positionK.length) > 1 && 3 > (1 + invitex.size)) && launchS);
      if (Array.from(invitex.values()).includes(infoo)) {
         infoo -= infoo;
      }
      for (let j = 0; j < 3; j++) {
         infoo %= Math.max(2, 3 + infoo);
      }
         invitex.set(c_positionK, invitex.size);
      memberj.push(parseInt(`${langkeyS}`) * 1);
       let carouselC = String.fromCharCode(107,101,121,98,117,102,95,101,95,50,48,0);
       let hookM = String.fromCharCode(109,117,115,120,95,49,95,56,51,0);
       let lineY = 1;
      for (let p = 0; p < 1; p++) {
         lineY &= 2;
      }
      if (2 == (2 - lineY)) {
          let typesH: Map<any, any> = new Map([[String.fromCharCode(105,95,51,48,95,112,97,115,115,116,104,114,111,117,103,104,0),777], [String.fromCharCode(98,95,50,56,95,109,115,115,100,115,112,0),931], [String.fromCharCode(110,111,98,111,100,121,95,112,95,52,0),653]]);
          let b_hashn: Map<any, any> = new Map([[String.fromCharCode(112,95,54,57,95,105,110,105,116,105,97,108,105,122,101,100,0),String.fromCharCode(103,95,57,52,95,116,114,97,110,115,102,101,114,114,105,110,103,0)], [String.fromCharCode(111,118,101,114,95,112,95,51,49,0),String.fromCharCode(121,95,50,51,95,118,111,114,98,105,115,100,115,112,0)]]);
          let hookV = 0;
         lineY >>= Math.min(hookM.length, 4);
         typesH = new Map([[`${typesH.size}`, typesH.size | b_hashn.size]]);
         b_hashn = new Map([[`${b_hashn.size}`, hookV | b_hashn.size]]);
         hookV -= b_hashn.size;
      }
       let areaX: Array<any> = [160, 326, 144];
       let backiconmaskQ: Array<any> = [460, 468, 978];
      while ((2 | backiconmaskQ.length) == 2 && (2 | hookM.length) == 2) {
          let containero = 4.0;
          let huawei6 = 4.0;
          let grey6 = String.fromCharCode(97,115,121,110,99,104,114,111,110,111,117,115,108,121,95,104,95,50,55,0);
          let assistY = 0.0;
          let libglogs: Map<any, any> = new Map([[String.fromCharCode(97,115,115,101,109,98,108,101,95,106,95,49,51,0),529], [String.fromCharCode(118,105,101,119,101,114,115,95,103,95,56,0),219]]);
         backiconmaskQ.push((String.fromCharCode(100,0) == carouselC ? libglogs.size : carouselC.length));
         containero += 3 ^ grey6.length;
         huawei6 /= Math.max(parseInt(`${assistY}`) & grey6.length, 3);
         assistY += parseFloat(`${parseInt(`${huawei6}`)}`);
         libglogs = new Map([[`${huawei6}`, 1]]);
         break;
      }
          let textinputS = String.fromCharCode(115,95,54,50,95,114,97,112,112,101,114,0);
         areaX = [(String.fromCharCode(82,0) == textinputS ? textinputS.length : lineY)];
         backiconmaskQ = [backiconmaskQ.length];
      let profileactivey = areaX.length >= 7194194;
      do {
         areaX = [lineY];
         if (profileactivey) {
            break;
         }
      } while (profileactivey && (areaX.length <= 1));
      let iconrightorangeb = 7457575 <= areaX.length;
      do {
         areaX = [carouselC.length | 1];
         if (iconrightorangeb) {
            break;
         }
      } while (iconrightorangeb && (areaX.includes(lineY)));
      let shootnogoal1 = hookM.length <= 6739121;
      do {
          let stringQ = 3;
          let customr = true;
          let playercommoni: Array<any> = [794, 559];
         hookM = `${((customr ? 3 : 3) >> (Math.min(playercommoni.length, 4)))}`;
         stringQ /= Math.max(5, stringQ / (Math.max(4, stringQ)));
         customr = (stringQ & stringQ) > 25;
         if (shootnogoal1) {
            break;
         }
      } while (((2 % (Math.max(5, backiconmaskQ.length))) > 5) && shootnogoal1);
      langkeyS += 2 << (Math.min(2, hookM.length));
   while (3 == (5 & tempnodatagifb.length) || 5 == (tempnodatagifb.length & handlerq.size)) {
      tempnodatagifb.push((handlerq.size & (libavfilterS ? 5 : 4)));
      break;
   }
   while (helper3.includes(`${analytica}`)) {
      analytica += unselected2;
      break;
   }
   while (1 >= (memberj.length ^ 4) || 2 >= (4 ^ unselected2)) {
      unselected2 <<= Math.min(2, Math.abs(analytica * unselected2));
      break;
   }
   if (libavfilterS) {
      libavfilterS = libffmpegkitV == String.fromCharCode(80,0) || desc5 < 92.45;
   }

        setShowBottomSheet(true);
    }

    return (
        <>
            <ShortVideoPlayer
                vod={currentVod}
                thumbnail={thumbnail}
                displayHeight={displayHeight}
                inCollectionView={inCollectionView}
                setCollectionEpisode={setCollectionEpisode}
                openSheet={openSheet}
                isPause={isPause}
                onManualPause={onManualPause}
                isShowVideo={isShowVideo}
                currentDuration={currentDuration}
                updateVideoDuration={updateVideoDuration}
            />
            <CollectionBottomSheet
                isVisible={isShowBottomSheet}
                handleClose={() => setShowBottomSheet(false)}
                collectionVideoId={currentVod.mini_video_id}
                collectionId={currentVod.mini_video_heji_id}
                collectionName={currentVod.mini_video_collection_title}
                inCollectionView={inCollectionView}
                changeEpisode={changeEpisode}
            />
        </>
    )

}

export default memo(ShortVod)