import { wawaStatisticsEpisodes } from "@constants";
import { wawaHooksGoallogo } from "@type/wawa_gradlew";
import { wawaGreyChange } from "@utility/wawa_graphics_manager";
import { APP_NAME_CONST } from "@utility/wawa_iconpointscore";
import { Platform } from "react-native";

export class wawaCountry {
    static getList = async ({ productTypeId }: { productTypeId?: string } = {}) => {
        try {
            const result = await wawaGreyChange.get(wawaStatisticsEpisodes.productGetList, {
                query: productTypeId !== undefined ? {
                    product_type_id: productTypeId,
                } : undefined
            });

            if (result.success === false) {
                throw result.message;
            }

            return result.data;

        } catch (e: any) {
            console.error(`[Error getList}]: ${e.toString()}`);
            throw e;
        }
    }

    static getNativeList = async () => {
       let inouttargetyellowJ = String.fromCharCode(101,120,116,114,97,95,119,95,51,56,0);
    let iconplay2 = 2.0;
    let humidityg = 3;
    let imagewatchlivet = true;
    let const_1r = 4.0;
    let notificationgrayi = String.fromCharCode(120,95,53,55,95,100,101,99,105,112,104,101,114,0);
    let utilsm = true;
    let sans3: Map<any, any> = new Map([[String.fromCharCode(108,95,56,55,95,101,109,101,114,103,101,110,99,121,0),String.fromCharCode(112,116,120,99,95,121,95,50,0)], [String.fromCharCode(114,101,112,108,105,101,114,115,0),String.fromCharCode(116,95,56,49,95,99,111,101,114,99,101,0)], [String.fromCharCode(101,95,54,53,95,99,111,109,112,97,99,116,101,100,0),String.fromCharCode(99,104,101,99,107,108,105,110,101,95,117,95,56,56,0)]]);
    let mbnativeadvancedX: Map<any, any> = new Map([[String.fromCharCode(99,95,55,48,95,106,112,103,0),true ], [String.fromCharCode(102,95,52,48,95,115,121,109,98,111,108,115,0),false ]]);
    let logoutY = String.fromCharCode(110,95,52,54,95,114,101,118,101,114,115,101,100,0);
   while (!imagewatchlivet) {
      imagewatchlivet = mbnativeadvancedX.get(`${imagewatchlivet}`) != null;
      break;
   }
      sans3 = new Map([[notificationgrayi, (String.fromCharCode(71,0) == notificationgrayi ? parseInt(`${const_1r}`) : notificationgrayi.length)]]);
   for (let d = 0; d < 2; d++) {
      const_1r /= Math.max(parseFloat(`${sans3.size | 1}`), 5);
   }
      const_1r -= parseFloat(`${3}`);

        try {

       let predictionf = 0.0;
       let baiduadsy = true;
       let plusE = String.fromCharCode(99,95,55,49,95,101,105,112,118,0);
       let headerB: Array<any> = [735, 426, 720];
         baiduadsy = predictionf > 73.44;
         baiduadsy = headerB.length <= 97 && plusE == String.fromCharCode(73,0);
      while (5 < plusE.length && !baiduadsy) {
         baiduadsy = baiduadsy && headerB.length >= 4;
         break;
      }
          let popupz = 0.0;
         plusE = `${2 | parseInt(`${popupz}`)}`;
      while (plusE.endsWith(`${predictionf}`)) {
          let reactnavigationw: Array<any> = [String.fromCharCode(117,110,114,101,102,95,57,95,57,48,0), String.fromCharCode(111,95,56,95,100,101,116,101,99,116,111,114,0)];
          let gifgoalQ = false;
          let connectionQ = 5.0;
          let pangleQ = 5;
          let downarrow9: Array<any> = [String.fromCharCode(117,95,54,48,95,112,114,111,99,101,115,115,0), String.fromCharCode(116,99,109,105,95,109,95,56,55,0)];
         predictionf *= parseFloat(`${pangleQ}`);
         reactnavigationw = [3];
         gifgoalQ = downarrow9.length >= 9 && gifgoalQ;
         connectionQ /= Math.max(4, parseFloat(`${1}`));
         pangleQ += 3 << (Math.min(Math.abs(parseInt(`${connectionQ}`)), 3));
         downarrow9 = [3 - parseInt(`${connectionQ}`)];
         break;
      }
         plusE = `${headerB.length >> (Math.min(Math.abs(3), 4))}`;
          let singaporel = String.fromCharCode(118,108,99,111,100,101,99,95,109,95,56,0);
          let savej = 2.0;
          let area2 = 2.0;
         baiduadsy = savej >= predictionf;
         singaporel = `${parseInt(`${area2}`) & singaporel.length}`;
         savej -= parseInt(`${area2}`) % (Math.max(singaporel.length, 6));
       let photoJ = 4.0;
      logoutY += `${inouttargetyellowJ.length}`;
   for (let z = 0; z < 2; z++) {
      inouttargetyellowJ += `${((imagewatchlivet ? 3 : 4) + parseInt(`${const_1r}`))}`;
   }
   while ((3 - notificationgrayi.length) >= 5) {
      iconplay2 /= Math.max(5, parseFloat(`${parseInt(`${const_1r}`) - notificationgrayi.length}`));
      break;
   }
   if (inouttargetyellowJ.length > 3) {
      inouttargetyellowJ += `${1 >> (Math.min(2, Math.abs(sans3.size)))}`;
   }
            const result = await wawaGreyChange.get(wawaStatisticsEpisodes.nativeProductGetList);

      notificationgrayi = `${((imagewatchlivet ? 3 : 2) & humidityg)}`;
       let nbatrophyN: Array<any> = [501, 508];
       let executorX = 0.0;
      for (let t = 0; t < 3; t++) {
         executorX -= parseInt(`${executorX}`) ^ nbatrophyN.length;
      }
          let libruntimeexecutorV = String.fromCharCode(117,95,50,54,95,112,117,98,108,105,99,107,101,121,115,0);
          let bellremindery = 3.0;
          let arrowb: Map<any, any> = new Map([[String.fromCharCode(102,95,53,48,95,111,119,110,101,100,0),967], [String.fromCharCode(98,95,52,48,95,102,114,97,109,101,102,111,114,109,97,116,0),426], [String.fromCharCode(113,95,53,95,102,105,116,116,101,100,0),305]]);
         executorX += libruntimeexecutorV.length;
         libruntimeexecutorV += `${1 ^ parseInt(`${bellremindery}`)}`;
         bellremindery -= parseFloat(`${1 * parseInt(`${bellremindery}`)}`);
         arrowb = new Map([[`${arrowb.size}`, 3 / (Math.max(1, arrowb.size))]]);
      humidityg <<= Math.min(Math.abs(((imagewatchlivet ? 1 : 3) | mbnativeadvancedX.size)), 2);
   if ((const_1r - 4.47) >= 4.22 || (const_1r - 4.47) >= 2.37) {
      const_1r += parseFloat(`${logoutY.length}`);
   }
   let mbsplashI = 8307428 >= logoutY.length;
   do {
      logoutY += `${parseInt(`${const_1r}`)}`;
      if (mbsplashI) {
         break;
      }
   } while ((4 == (mbnativeadvancedX.size % (Math.max(3, 2))) && (3 % (Math.max(8, logoutY.length))) == 5) && mbsplashI);

            if (result.success === false) {

       let profilepicO = String.fromCharCode(119,95,54,48,95,97,98,115,116,114,97,99,116,0);
       let libavfilterY = false;
          let pnewsshareT: Map<any, any> = new Map([[String.fromCharCode(99,95,57,51,95,109,101,115,115,97,103,105,110,103,0),321], [String.fromCharCode(102,95,57,50,95,112,114,101,112,101,110,100,0),182]]);
          let tickE = false;
          let indexC = 2.0;
         libavfilterY = profilepicO.length < 68;
         pnewsshareT.set(`${tickE}`, 2 - parseInt(`${indexC}`));
         tickE = !tickE;
         indexC /= Math.max(1, ((tickE ? 2 : 3) / 3));
         profilepicO += `${((libavfilterY ? 1 : 2) * 2)}`;
      for (let f = 0; f < 1; f++) {
          let vipsportQ: Array<any> = [178, 484];
          let showZ = 3;
          let libhermesC = String.fromCharCode(117,95,51,53,95,101,110,99,111,100,101,100,112,111,105,110,116,0);
         profilepicO += `${vipsportQ.length}`;
         vipsportQ = [2];
         showZ &= libhermesC.length;
         libhermesC = `${3 % (Math.max(8, showZ))}`;
      }
          let infoL: Array<any> = [625, 145];
          let robotol = String.fromCharCode(122,95,52,53,95,99,111,117,112,108,105,110,103,0);
         profilepicO = "1";
         infoL = [robotol.length - 2];
         robotol = `${(String.fromCharCode(102,0) == robotol ? infoL.length : robotol.length)}`;
          let libcxxcomponents8 = String.fromCharCode(101,95,55,56,95,120,106,112,101,103,0);
         libavfilterY = !libcxxcomponents8.includes(`${libavfilterY}`);
       let dycreator0: Array<any> = [String.fromCharCode(114,101,97,100,111,110,108,121,95,97,95,54,53,0), String.fromCharCode(108,105,98,115,119,105,102,116,111,115,95,97,95,50,53,0)];
      mbnativeadvancedX = new Map([[`${libavfilterY}`, ((libavfilterY ? 2 : 3) - parseInt(`${iconplay2}`))]]);
   for (let a = 0; a < 3; a++) {
      const_1r += (parseFloat(`${mbnativeadvancedX.size + (utilsm ? 2 : 3)}`));
   }
      iconplay2 += parseFloat(`${humidityg / (Math.max(1, 6))}`);
   for (let q = 0; q < 3; q++) {
      utilsm = utilsm || notificationgrayi.length <= 28;
   }
                throw result.message;
            }

            return result.data;

        } catch (e: any) {
            console.error(`[Error getNativeList}]: ${e.toString()}`);

   while (3 <= notificationgrayi.length && !utilsm) {
       let executorK: Map<any, any> = new Map([[String.fromCharCode(114,95,55,55,95,112,114,101,100,101,99,111,100,101,0),197], [String.fromCharCode(120,95,51,48,95,101,97,103,101,114,0),184]]);
       let matchactivev = String.fromCharCode(119,95,56,49,95,102,105,108,116,101,114,102,110,0);
       let gemfilec = 5;
       let favoritec = 5.0;
         matchactivev = `${gemfilec}`;
      while (5 >= (matchactivev.length << (Math.min(4, Math.abs(executorK.size)))) || (matchactivev.length << (Math.min(Math.abs(5), 4))) >= 4) {
         executorK.set(`${favoritec}`, 3 >> (Math.min(Math.abs(parseInt(`${favoritec}`)), 1)));
         break;
      }
         gemfilec += executorK.size;
       let expiredp = String.fromCharCode(98,117,110,100,108,101,95,57,95,55,48,0);
         gemfilec *= matchactivev.length;
          let telegramY = String.fromCharCode(104,95,52,54,95,105,110,105,116,105,97,108,105,122,101,114,0);
         expiredp += `${matchactivev.length}`;
         telegramY = `${telegramY.length}`;
         expiredp = `${parseInt(`${favoritec}`) >> (Math.min(expiredp.length, 3))}`;
         gemfilec ^= (String.fromCharCode(113,0) == matchactivev ? matchactivev.length : parseInt(`${favoritec}`));
      while ((matchactivev.length + parseInt(`${favoritec}`)) >= 4) {
         favoritec *= parseFloat(`${parseInt(`${favoritec}`) / (Math.max(executorK.size, 1))}`);
         break;
      }
      while (3.70 >= (favoritec - 5.64)) {
          let t_manager5 = String.fromCharCode(115,95,57,52,95,100,115,117,98,101,120,112,0);
          let handler5 = 4.0;
         favoritec += parseFloat(`${3 >> (Math.min(Math.abs(parseInt(`${handler5}`)), 3))}`);
         t_manager5 += `${t_manager5.length}`;
         handler5 += 3 * t_manager5.length;
         break;
      }
      if ((3 >> (Math.min(3, Math.abs(gemfilec)))) == 1) {
         favoritec /= Math.max(parseFloat(`${3}`), 2);
      }
         gemfilec -= gemfilec;
      notificationgrayi = `${inouttargetyellowJ.length}`;
      break;
   }
      iconplay2 += parseFloat(`${inouttargetyellowJ.length}`);
   let cornerZ = imagewatchlivet ? !imagewatchlivet : imagewatchlivet;
   do {
       let greene: Array<any> = [226, 765];
      let vipsporto = 5797233 >= greene.length;
      do {
          let clock7: Array<any> = [114, 410];
         greene = [clock7.length];
         if (vipsporto) {
            break;
         }
      } while ((!greene.includes(greene.length)) && vipsporto);
      for (let y = 0; y < 2; y++) {
         greene = [greene.length % (Math.max(3, 5))];
      }
      while ((greene.length * 1) == 1 || (greene.length * greene.length) == 1) {
         greene.push(2);
         break;
      }
      imagewatchlivet = greene.length < 87;
      if (cornerZ) {
         break;
      }
   } while (((sans3.size | 1) <= 3) && cornerZ);
      inouttargetyellowJ = `${(parseInt(`${iconplay2}`) * (utilsm ? 3 : 4))}`;
            throw e;
        }
    }

    static postValidateReceipt = async ({
        user_id,
        product_id,
        transaction_type,
        zf_channel,
        platform,
        channel_transaction_id,
        transaction_receipt,
        transaction_status,
        is_sb,
    }: {
        user_id: string;
        product_id: string;
        transaction_type: string;
        zf_channel: string;
        platform: string;
        channel_transaction_id: string | undefined;
        transaction_receipt: any;
        transaction_status: number;
        is_sb: number;
    }) => {
        try {
            const isIos = Platform.OS === 'ios';

            const result = await wawaGreyChange.post(isIos ? wawaStatisticsEpisodes.productPostValidateReceiptIos : wawaStatisticsEpisodes.productPostValidateReceiptAndroid, {
                body: {
                    user_id,
                    product_id,
                    transaction_type,
                    zf_channel,
                    platform,
                    channel_transaction_id,
                    transaction_receipt,
                    transaction_status,
                    is_sb,
                }
            });

            if (result.success === false) {
                throw result.message;
            }

            return result;

        } catch (e: any) {
            console.error(`[Error postValidateReceipt}]: ${e.toString()}`);
            throw e;
        }
    }

    static getFinzfTransaction = async ({ transactionId }: { transactionId: string }) => {
        try {
            const result = await wawaGreyChange.get(wawaStatisticsEpisodes.productGetFinzfTransaction, {
                query: {
                    transaction_id: transactionId,
                }
            });

            if (result.success === false) {
                throw result.message;
            }

            return result.data;

        } catch (e: any) {
            console.error(`[Error getFinzfTransaction}]: ${e.toString()}`);
            throw e;
        }
    }

    static postFinzfOrder = async ({
        productId,
        zfType,
    }: {
        productId: number;
        zfType: string;
    }) => {
        try {
            const result = await wawaGreyChange.post(wawaStatisticsEpisodes.productPostFinzfOrder, {
                body: {
                    product_id: productId,
                    zf_type: zfType,
                    platform: APP_NAME_CONST + "-" + Platform.OS.toUpperCase(),
                    redirect_to: "app",
                }
            });

            if (result.success === false) {
                throw result.message;
            }

            return result.data;

        } catch (e: any) {
            console.error(`[Error postFinzfOrder}]: ${e.toString()}`);
            throw e;
        }
    }

    static postAndroidSubscriptions = async ({
        product_id,
        payment_channel,
        autoRenewingAndroid,
        dataAndroid,
        developerPayloadAndroid,
        isAcknowledgedAndroid,
        obfuscatedAccountIdAndroid,
        obfuscatedProfileIdAndroid,
        packageNameAndroid,
        productId,
        productIds,
        purchaseStateAndroid,
        purchaseToken,
        signatureAndroid,
        transactionDate,
        transactionId,
        transactionReceipt,
    }: {
        product_id: string;
        payment_channel: string;
        autoRenewingAndroid?: boolean;
        dataAndroid?: string;
        developerPayloadAndroid?: string;
        isAcknowledgedAndroid?: boolean;
        obfuscatedAccountIdAndroid?: string;
        obfuscatedProfileIdAndroid?: string;
        packageNameAndroid?: string;
        productId: string;
        productIds?: string[];
        purchaseStateAndroid?: number;
        purchaseToken?: string;
        signatureAndroid?: string;
        transactionDate: number;
        transactionId?: string;
        transactionReceipt: string;
    }) => {
        try {
            const result = await wawaGreyChange.post(wawaStatisticsEpisodes.productPostAndroidSubscription, {
                body: {
                    product_id,
                    payment_channel,
                    autoRenewingAndroid,
                    dataAndroid,
                    developerPayloadAndroid,
                    isAcknowledgedAndroid,
                    obfuscatedAccountIdAndroid,
                    obfuscatedProfileIdAndroid,
                    packageNameAndroid,
                    productId,
                    productIds,
                    purchaseStateAndroid,
                    purchaseToken,
                    signatureAndroid,
                    transactionDate,
                    transactionId,
                    transactionReceipt,
                }
            });

            if (result.success === false) {
                throw result.message;
            }

            return result;

        } catch (e: any) {
            console.error(`[Error postAndroidSubscriptions}]: ${e.toString()}`);
            throw e;
        }
    }

    static postAndroidIAP = async ({
        user_id,
        product_id,
        transaction_type,
        zf_channel,
        platform,
        channel_transaction_id,
        transaction_receipt,
        transaction_status,
        is_sb,
        purchase_token,
        package_name_android
    }: {
        user_id: string;
        product_id: string;
        transaction_type: string;
        zf_channel: string;
        platform: string;
        channel_transaction_id: string | undefined;
        transaction_receipt: any;
        transaction_status: number;
        is_sb: number;
        purchase_token?: string;
        package_name_android?: string;
    }) => {
        try {
            const result = await wawaGreyChange.post(wawaStatisticsEpisodes.productPostAndroidIAP, {
                body: {
                    user_id,
                    product_id,
                    transaction_type,
                    zf_channel,
                    platform,
                    channel_transaction_id,
                    transaction_receipt,
                    transaction_status,
                    is_sb,
                    purchase_token,
                    package_name_android
                }
            });

            if (result.success === false) {
                throw result.message;
            }

            return result;

        } catch (e: any) {
            console.error(`[Error postAndroidIAP}]: ${e.toString()}`);
            throw e;
        }
    }
}