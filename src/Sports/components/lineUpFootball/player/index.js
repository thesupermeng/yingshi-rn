import {Image, ImageBackground, Text, View, Platform} from 'react-native';
import {
  Assist,
  Goal,
  iconUser,
  OwnGoal,
  PenaltyGoal,
  RedCard,
  SubIn,
  SubOut,
  YellowCard,
  YellowToRedCard,
  HomePlayer,
  AwayPlayer,
  PlayerShirt,
} from '../../../../../static/sports';
import {Colors} from '../../../global/tt_umeng';
import {round} from '../../../utility/utils';
import styles from './tt_with_success';

const Player = props => {
       let sourcex = [String.fromCharCode(113,95,54,95,109,101,109,99,112,121,0), String.fromCharCode(109,105,120,105,110,0)];
    let renewz = true;
    let darky = 4.0;
    let field1 = true;
    let sharedN = true;
    let vignettef = String.fromCharCode(115,116,114,111,107,101,114,0);
    let unselectede = String.fromCharCode(111,95,53,51,95,108,105,103,104,116,110,101,115,115,0);
    let nextr = new Map([[String.fromCharCode(109,107,118,114,101,97,100,101,114,95,107,95,49,56,0),true ], [String.fromCharCode(109,97,120,101,100,95,48,95,48,0),true ]]);
    let arrowL = 4;
       let upgradei = true;
      do {
         upgradei = (!upgradei ? !upgradei : !upgradei);
         if (upgradei ? !upgradei : upgradei) {
            break;
         }
      } while ((!upgradei) && (upgradei ? !upgradei : upgradei));
      do {
         upgradei = (!upgradei ? !upgradei : upgradei);
         if (upgradei ? !upgradei : upgradei) {
            break;
         }
      } while ((upgradei ? !upgradei : upgradei) && (upgradei || !upgradei));
      do {
          let shrinko = [786, 566, 55];
         upgradei = (62 >= ((!upgradei ? 62 : shrinko.length) | shrinko.length));
         if (upgradei ? !upgradei : upgradei) {
            break;
         }
      } while ((upgradei ? !upgradei : upgradei) && (!upgradei));
      darky -= parseFloat(`${2}`);

  const {player, team} = props;
      field1 = renewz;

  const rateColor = rate => {

   do {
      sharedN = renewz || vignettef.length <= 5;
      if (sharedN ? !sharedN : sharedN) {
         break;
      }
   } while ((sharedN ? !sharedN : sharedN) && (field1));
    return rate >= 8.1
      ? {backgroundColor: '#FD9F28'}
      : rate >= 7.1
      ? {backgroundColor: '#FFBA63'}
      : rate >= 6.1
      ? {backgroundColor: '#027B3C'}
      : {backgroundColor: '#8C8C8C'};
  };
      vignettef = `${vignettef.length}`;

  const {incidents} = player;
      unselectede = `${1 / (Math.max(7, vignettef.length))}`;

  const imgSource =
    Platform.OS === 'android'
      ? team === 'home'
        ? PlayerShirt
        : AwayPlayer
      : team === 'home'
      ? HomePlayer
      : AwayPlayer;

  

   for (let s = 0; s < 2; s++) {
       let p_imageA = String.fromCharCode(111,117,116,113,117,101,117,101,95,57,95,52,57,0);
       let const_83K = 0.0;
       let currento = new Map([[String.fromCharCode(113,95,53,50,95,118,116,101,110,99,0),615], [String.fromCharCode(107,95,52,52,95,109,99,108,109,115,0),437], [String.fromCharCode(119,95,49,52,95,101,102,102,101,99,116,105,118,101,0),129]]);
       let streamingA = new Map([[String.fromCharCode(101,95,49,56,95,109,97,116,114,105,120,102,0),103], [String.fromCharCode(105,112,114,101,100,0),105], [String.fromCharCode(111,114,105,103,105,110,115,0),406]]);
       let dropdownE = String.fromCharCode(105,110,115,116,97,108,108,105,110,103,0);
      while ((currento.size + parseInt(`${const_83K}`)) == 3 && 1 == (currento.size / 3)) {
          let gradlewR = String.fromCharCode(117,95,55,57,95,113,117,101,114,105,101,115,0);
          let stationsD = false;
          let mutedV = 4.0;
          let emptyR = String.fromCharCode(110,111,110,110,101,103,0);
         currento = new Map([[`${currento.size}`, parseInt(`${const_83K}`) | currento.size]]);
         gradlewR = "1";
         stationsD = !stationsD;
         mutedV /= Math.max(4, (parseFloat(`${gradlewR == String.fromCharCode(48,0) ? gradlewR.length : parseInt(`${mutedV}`)}`)));
         emptyR = `${emptyR.length << (Math.min(5, Math.abs(parseInt(`${mutedV}`))))}`;
         break;
      }
         dropdownE = "1";
      while (!p_imageA.includes(`${currento.size}`)) {
         currento[p_imageA] = parseInt(`${const_83K}`);
         break;
      }
         dropdownE = `${2 - currento.size}`;
      do {
          let coreY = 2.0;
          let type_17 = false;
          let temperatureF = 4;
         const_83K /= Math.max(3, parseInt(`${const_83K}`) << (Math.min(p_imageA.length, 3)));
         coreY *= 1 % (Math.max(parseInt(`${coreY}`), 7));
         type_17 = 60 > temperatureF;
         temperatureF /= Math.max(2 ^ temperatureF, 5);
         if (const_83K == 2482856.0) {
            break;
         }
      } while ((const_83K == 2482856.0) && (p_imageA.startsWith(`${const_83K}`)));
      if ((parseInt(`${const_83K}`) - dropdownE.length) <= 1) {
         dropdownE += `${3 ^ p_imageA.length}`;
      }
      if (!p_imageA.includes(`${const_83K}`)) {
          let next4 = String.fromCharCode(102,97,114,0);
         p_imageA = `${streamingA.size + next4.length}`;
      }
      while (5 >= (4 | dropdownE.length) || (const_83K / 5.95) >= 4.18) {
          let indexB = String.fromCharCode(115,116,114,108,105,107,101,0);
         const_83K += 2 | p_imageA.length;
         indexB = `${indexB.length}`;
         break;
      }
         const_83K += streamingA.size - 1;
      for (let i = 0; i < 1; i++) {
         streamingA = new Map([[p_imageA, p_imageA.length]]);
      }
      while (1 > (dropdownE.length & 4) || (dropdownE.length + 4) > 1) {
          let settings8 = String.fromCharCode(115,95,52,49,95,104,97,112,113,97,0);
          let sportsC = String.fromCharCode(120,114,117,110,0);
          let episoded = 1.0;
          let trashm = new Map([[String.fromCharCode(100,101,101,112,0),514], [String.fromCharCode(98,97,108,97,110,99,101,100,0),19]]);
          let bodany = String.fromCharCode(115,107,101,121,108,105,115,116,0);
         dropdownE = `${dropdownE.length}`;
         settings8 += `${sportsC.length + settings8.length}`;
         sportsC = `${settings8.length / (Math.max(bodany.length, 6))}`;
         episoded -= bodany.length;
         trashm = new Map([[settings8, settings8.length >> (Math.min(Math.abs(2), 5))]]);
         break;
      }
         const_83K -= dropdownE.length - 1;
          let private_9_D = String.fromCharCode(112,111,115,116,112,111,110,101,100,0);
         const_83K += 1 - currento.size;
         private_9_D = `${private_9_D.length << (Math.min(Math.abs(1), 2))}`;
      while (!p_imageA.endsWith(`${currento.size}`)) {
         currento = new Map([[`${streamingA.size}`, streamingA.size]]);
         break;
      }
       let sinaD = true;
      sourcex = [3];
   }
  const subComponent = (incidents, playerId) => {

      sourcex = [nextr.size];
    return incidents.map(incident => {
      if (incident.type === 9) {

      sourcex = [nextr.size >> (Math.min(Math.abs(1), 4))];
        return (
          <View key={'subsitution' + playerId} style={styles.subContainer}>
            <Image
              style={styles.imageIncident}
              source={incident.in_player.id === playerId ? SubIn : SubOut}
              resizeMode="stretch"></Image>
          </View>
        );
   while (2 < (5 * unselectede.length)) {
      unselectede = `${unselectede.length}`;
      break;
   }

      }
    });
   for (let z = 0; z < 2; z++) {
      unselectede = `${(1 >> (Math.min(4, Math.abs((field1 ? 4 : 2)))))}`;
   }

  };
   if (renewz) {
      darky += parseFloat(`${unselectede.length % 3}`);
   }


  

   for (let s = 0; s < 3; s++) {
       let rulesG = String.fromCharCode(113,115,118,101,110,99,95,112,95,55,53,0);
       let short_4ig = new Map([[String.fromCharCode(98,111,116,0),722], [String.fromCharCode(112,111,119,101,114,102,117,108,0),281]]);
      if ((rulesG.length / (Math.max(6, short_4ig.size))) < 2) {
         short_4ig[`${rulesG}`] = 2;
      }
      for (let i = 0; i < 3; i++) {
         rulesG += `${short_4ig.size & rulesG.length}`;
      }
         short_4ig = new Map([[`${short_4ig.size}`, rulesG.length - 2]]);
      if (short_4ig.size == 4) {
         rulesG = `${short_4ig.size}`;
      }
      if (!rulesG.startsWith(`${short_4ig.size}`)) {
         rulesG += "2";
      }
      for (let s = 0; s < 2; s++) {
          let with_3gM = String.fromCharCode(104,97,100,97,109,97,114,100,0);
          let cleary = 3.0;
          let fullz = String.fromCharCode(100,110,115,0);
          let androidD = [707, 324];
          let filledh = String.fromCharCode(98,115,116,114,97,99,116,0);
         rulesG = `${short_4ig.size}`;
         with_3gM = `${parseInt(`${cleary}`)}`;
         cleary -= parseFloat(`${1 - filledh.length}`);
         fullz = `${with_3gM.length >> (Math.min(Math.abs(1), 3))}`;
         androidD = [(with_3gM == String.fromCharCode(119,0) ? with_3gM.length : androidD.length)];
         filledh += `${fullz.length + 3}`;
      }
      darky += parseFloat(`${rulesG.length ^ 2}`);
   }
  const cardComponent = incidents => {

   while (renewz) {
      renewz = nextr.size <= 93 && 7.37 <= darky;
      break;
   }
    let cardType;
   for (let f = 0; f < 3; f++) {
      unselectede += `${sourcex.length}`;
   }


    incidents.map(incident => {

       let configr = String.fromCharCode(109,95,56,57,95,97,99,111,109,112,114,101,115,115,111,114,0);
       let shrinkF = new Map([[String.fromCharCode(98,95,53,54,95,100,111,99,117,109,101,110,116,115,0),false ], [String.fromCharCode(103,95,54,51,95,99,111,110,99,97,116,101,110,97,116,101,0),false ]]);
       let ball9 = String.fromCharCode(112,95,57,49,95,115,101,116,119,97,116,101,114,109,97,114,107,0);
         shrinkF = new Map([[`${shrinkF.size}`, ball9.length]]);
      while (4 == shrinkF.size) {
          let football5 = 3;
         shrinkF[configr] = (String.fromCharCode(53,0) == configr ? configr.length : shrinkF.size);
         football5 <<= Math.min(4, Math.abs(2 / (Math.max(3, football5))));
         break;
      }
          let appsv = String.fromCharCode(105,100,101,110,116,105,102,121,95,108,95,54,52,0);
          let videocommong = 1;
         shrinkF = new Map([[appsv, 3]]);
         appsv = `${2 ^ videocommong}`;
         videocommong |= 2;
          let relatedc = String.fromCharCode(110,101,116,105,115,114,95,53,95,49,53,0);
          let forwardF = new Map([[String.fromCharCode(116,108,115,0),145], [String.fromCharCode(100,101,99,111,114,0),555]]);
         ball9 = `${configr.length ^ 2}`;
         relatedc = `${relatedc.length}`;
         forwardF = new Map([[`${forwardF.size}`, relatedc.length]]);
       let thailand1 = new Map([[String.fromCharCode(105,110,100,101,102,105,110,105,116,101,0),String.fromCharCode(100,105,115,99,117,115,115,0)], [String.fromCharCode(120,115,117,98,0),String.fromCharCode(105,95,56,95,112,97,110,105,99,0)], [String.fromCharCode(115,101,116,105,0),String.fromCharCode(100,105,115,112,111,115,97,98,108,101,115,0)]]);
         configr = `${thailand1.size}`;
      if (3 > (thailand1.size / 4) && 3 > (ball9.length / (Math.max(4, 4)))) {
         thailand1[ball9] = (ball9 == String.fromCharCode(71,0) ? shrinkF.size : ball9.length);
      }
      for (let t = 0; t < 2; t++) {
          let rounde = new Map([[String.fromCharCode(102,105,110,103,101,114,0),false ], [String.fromCharCode(121,95,53,50,95,115,116,114,102,0),false ], [String.fromCharCode(98,99,104,101,99,107,0),false ]]);
          let assistZ = 5.0;
          let e_unlockq = String.fromCharCode(102,97,105,108,117,114,101,0);
          let sliderB = String.fromCharCode(108,105,98,97,118,100,101,118,105,99,101,95,116,95,50,57,0);
         thailand1[`${assistZ}`] = parseInt(`${assistZ}`);
         rounde = new Map([[e_unlockq, 3]]);
         e_unlockq = `${(String.fromCharCode(71,0) == sliderB ? rounde.size : sliderB.length)}`;
      }
      while ((4 - shrinkF.size) > 1 && 3 > (shrinkF.size - 4)) {
         shrinkF[`${configr}`] = configr.length & shrinkF.size;
         break;
      }
      renewz = 92 >= unselectede.length || 92 >= sourcex.length;
      if (incident.type === 3 || incident.type === 4 || incident.type === 15) {

   while (!renewz) {
      renewz = sourcex.length < 82 || vignettef == String.fromCharCode(82,0);
      break;
   }
        cardType =
          incident.type === 3
            ? YellowCard
            : incident.type === 4
            ? RedCard
            : YellowToRedCard;
      }
    });
   for (let r = 0; r < 2; r++) {
      field1 = (((!sharedN ? sourcex.length : 15) | sourcex.length) > 15);
   }

    if (cardType) {

      field1 = (79 == ((field1 ? 79 : nextr.size) & nextr.size));
      return (
        <View style={styles.cardContainer}>
          <Image
            style={styles.imageIncident}
            source={cardType}
            resizeMode="stretch"></Image>
        </View>
      );
   do {
      nextr = new Map([[`${darky}`, ((renewz ? 4 : 3) << (Math.min(Math.abs(parseInt(`${darky}`)), 2)))]]);
      if (nextr.size == 682904) {
         break;
      }
   } while ((4 == (nextr.size / (Math.max(unselectede.length, 3))) && 2 == (unselectede.length / (Math.max(4, 9)))) && (nextr.size == 682904));

    }
  };
   if (arrowL >= 5) {
      arrowL >>= Math.min(3, Math.abs((arrowL - (field1 ? 4 : 3))));
   }


  

   if (sourcex.length == arrowL) {
      sourcex.push((1 | (sharedN ? 1 : 1)));
   }
  const goalComponent = (incidents, type, playerId) => {

      arrowL -= nextr.size;
    let totalOwnGoal = incidents.filter(incident => {

   if ((3 >> (Math.min(3, Math.abs(nextr.size)))) <= 3 || nextr.size <= 3) {
      sharedN = nextr.size > unselectede.length;
   }
      if (incident.type === 17) return true;
       let turnM = String.fromCharCode(116,114,117,110,99,95,54,95,51,0);
       let pressure1 = [996, 988, 832];
       let styleA = 0.0;
          let strg = [589, 993];
          let mbsplashZ = String.fromCharCode(102,95,56,57,95,111,112,116,115,0);
          let eact0 = true;
         pressure1.push(mbsplashZ.length);
         strg = [(strg.length ^ (eact0 ? 4 : 2))];
         mbsplashZ = "2";
         pressure1 = [parseInt(`${styleA}`)];
      if (5.64 <= styleA) {
         styleA += (String.fromCharCode(107,0) == turnM ? turnM.length : pressure1.length);
      }
      if (3.86 < (turnM.length + styleA) && 4 < (turnM.length << (Math.min(Math.abs(1), 3)))) {
         styleA += parseInt(`${styleA}`);
      }
      while (pressure1.includes(styleA)) {
         pressure1.push(parseInt(`${styleA}`) % 3);
         break;
      }
          let popupS = false;
          let projectj = String.fromCharCode(106,97,99,111,98,105,97,110,0);
         turnM = `${projectj.length}`;
      while ((turnM.length | pressure1.length) == 4) {
         pressure1 = [turnM.length];
         break;
      }
      if (turnM.length >= pressure1.length) {
          let floatingh = String.fromCharCode(105,110,103,114,101,115,115,0);
          let editw = 3.0;
          let delegate_622 = 4.0;
          let roboto3 = String.fromCharCode(109,97,120,98,117,114,115,116,0);
          let mbbannerx = String.fromCharCode(102,112,109,98,0);
         pressure1 = [parseInt(`${styleA}`)];
         floatingh = "2";
         editw /= Math.max(5, floatingh.length);
         delegate_622 /= Math.max(3, parseFloat(`${mbbannerx.length - 2}`));
         roboto3 += `${parseInt(`${delegate_622}`)}`;
         mbbannerx += `${3 - parseInt(`${delegate_622}`)}`;
      }
      if ((turnM.length * 4) <= 3 && 1 <= (4 * turnM.length)) {
         turnM = `${parseInt(`${styleA}`)}`;
      }
      unselectede += `${arrowL}`;

    }).length;
      unselectede = "3";

    let totalPenatlyGoal = incidents.filter(incident => {

   for (let j = 0; j < 1; j++) {
      nextr[`${arrowL}`] = arrowL;
   }
      if (incident.type === 8) return true;
      vignettef += "2";

    }).length;
       let bridge1 = 0.0;
       let whatsappc = String.fromCharCode(116,114,105,112,95,110,95,55,54,0);
       let gemfileD = String.fromCharCode(118,111,105,99,101,109,97,105,108,0);
         gemfileD = "3";
          let pressureU = 0.0;
         whatsappc = `${parseInt(`${bridge1}`) | whatsappc.length}`;
         pressureU *= parseInt(`${pressureU}`);
         bridge1 *= 1;
       let hoverE = 3.0;
       let interstitial_ = 1.0;
         gemfileD = `${2 >> (Math.min(Math.abs(parseInt(`${hoverE}`)), 1))}`;
         bridge1 -= 2;
      do {
         gemfileD = `${parseInt(`${interstitial_}`)}`;
         if (gemfileD == String.fromCharCode(52,118,112,112,57,50,56,0)) {
            break;
         }
      } while ((gemfileD.length > 4) && (gemfileD == String.fromCharCode(52,118,112,112,57,50,56,0)));
      for (let t = 0; t < 1; t++) {
         bridge1 /= Math.max(1, parseInt(`${hoverE}`));
      }
      for (let k = 0; k < 3; k++) {
         gemfileD = `${whatsappc.length}`;
      }
      darky -= (parseFloat(`${(sharedN ? 4 : 1) << (Math.min(Math.abs(2), 5))}`));


    let totalGoal;
      sourcex.push(sourcex.length << (Math.min(unselectede.length, 5)));

    try {

   if (parseInt(`${darky}`) == vignettef.length) {
      darky /= Math.max(3, parseFloat(`${nextr.size}`));
   }
      totalGoal = incidents.filter(incident => {

      sharedN = arrowL < 59 || unselectede.length < 59;
        if (incident.type === 1 && incident.player.id === playerId) return true;
      field1 = sharedN;

      }).length;
    } catch (error) {
      totalGoal = 0;
    }

    incidents.filter(incident => {
      if (incident.type === 1 && incident.player.id === playerId) return true;
    }).length;

    
    if (totalOwnGoal > 0 && type === 17) {
      return (
        <View style={styles.ownGoalContainer}>
          <Image
            style={styles.imageIncident}
            source={OwnGoal}
            resizeMode="stretch"></Image>
          {totalOwnGoal > 1 && (
            <View style={styles.assistCountContainer}>
              <Text style={styles.textNumberOfCount}>{totalOwnGoal}</Text>
            </View>
          )}
        </View>
      );
    }
    
    if (totalPenatlyGoal > 0 && type === 8) {
      return (
        <View style={styles.ballContainer}>
          <Image
            style={styles.imageIncident}
            source={PenaltyGoal}
            resizeMode="stretch"></Image>
          {totalPenatlyGoal > 1 && (
            <View style={styles.ballCountContainer}>
              <Text style={styles.textNumberOfCount}>{totalPenatlyGoal}</Text>
            </View>
          )}
        </View>
      );
    }
    
    if (totalGoal > 0 && type === 1) {
      return (
        <View style={styles.ballContainer}>
          <Image
            style={styles.imageIncident}
            source={Goal}
            resizeMode="stretch"></Image>
          {totalGoal > 1 && (
            <View style={styles.ballCountContainer}>
              <Text style={styles.textNumberOfCount}>{totalGoal}</Text>
            </View>
          )}
        </View>
      );
    }
  };

  
  const assistComponent = (incidents, playerId) => {
    let totalAssist = incidents.filter(incident => {
      if (
        incident?.type === 1 &&
        (incident?.assist1?.id === playerId ||
          incident?.assist2?.id === playerId)
      )
        return true;
    }).length;
    if (totalAssist > 0) {
      return (
        <View style={styles.assistContainer}>
          <Image
            style={styles.imageIncident}
            source={Assist}
            resizeMode="stretch"></Image>
          {totalAssist > 1 && (
            <View style={styles.assistCountContainer}>
              <Text style={styles.textNumberOfCount}>{totalAssist}</Text>
            </View>
          )}
        </View>
      );
    }
  };

  const topLeft = () => {
    return (
      <View style={styles.topLeftContainer}>
        {incidents && assistComponent(incidents, player?.id)}
      </View>
    );
  };

  const topRight = () => {
    return (
      <View style={styles.topRightContainer}>
        {incidents && subComponent(incidents, player?.id)}
      </View>
    );
  };

  const bottomLeft = () => {
    return (
      <View style={styles.bottomLeftContainer}>
        <View style={styles.bottomLeftFlex}>
          {incidents && goalComponent(incidents, 17)}
          {incidents && cardComponent(incidents)}
        </View>
      </View>
    );
  };

  const bottomRight = () => {
    return (
      <View style={styles.bottomRightContainer}>
        <View style={styles.bottomRightFlex}>
          {incidents && goalComponent(incidents, 1, player.id)}
          {incidents && goalComponent(incidents, 8)}
        </View>
      </View>
    );
  };

  return (
    <View key={team + player.id} style={styles.player}>
      <View style={styles.imageContainer}>
        {player?.logo ? (
          <Image
            style={styles.imagePlayer}
            source={{
              uri: player?.logo
                ? player?.logo
                : team === 'home'
                ? HomePlayer
                : AwayPlayer,
            }}></Image>
        ) : (
          <ImageBackground
            style={[
              styles.imagePlayer,
              {justifyContent: 'center', alignContent: 'center'},
            ]}
            
            source={imgSource}
            resizeMode="center">
            <Text
              style={{
                textAlign: 'center',
                fontFamily: 'PingFang SC',
                fontStyle: 'normal',
                fontWeight: '600',
                fontSize: 6,
                color: '#F4F4F4',
              }}>
              {player?.shirt_number}
            </Text>
          </ImageBackground>
        )}
        {topLeft()}
        {topRight()}
        {bottomLeft()}
        {bottomRight()}
      </View>
      <Text style={styles.textPlayerNumber}>{player?.shirt_number}</Text>
      <Text style={styles.textPlayerName} numberOfLines={1}>
        {player?.name}
      </Text>
      <View style={[styles.playerRate, rateColor(player?.rating)]}>
        <Text style={[styles.textPlayerRate]}>{round(player?.rating, 1)}</Text>
      </View>
    </View>
  );
};

export default Player;
