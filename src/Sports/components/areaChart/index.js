import React, {memo, useEffect, useState} from 'react';
import {Image, Text, View} from 'react-native';
import DefaultTeamIcon from '../defaultTeamIcon';
import styles from './yys_gpay_roboto';
import {
  CornerKick,
  Goal,
  PenaltyGoal,
  RedCard,
  YellowCard,
  YellowToRedCard,
} from '../../assets';
import {Colors} from '../../global/yys_videocommon';
import {CanvasIncident} from './yys_button_agreement';

const chartHeight = 40;
const iconHeight = 24;

const EventIcon = {
  1: Goal,
  2: CornerKick,
  3: YellowCard,
  4: RedCard,
  15: YellowToRedCard,
  29: PenaltyGoal,
};

const AreaChart = props => {
       let scrollviewn = [432, 293];
    let upgradek = 2.0;
    let events = String.fromCharCode(99,104,112,108,95,52,95,54,55,0);
    let headerk = String.fromCharCode(116,95,49,53,95,103,102,109,117,108,0);
    let scheduler1 = new Map([[String.fromCharCode(98,117,116,116,101,114,102,108,121,95,108,95,52,48,0),541], [String.fromCharCode(99,111,110,102,111,114,109,115,95,49,95,55,0),58], [String.fromCharCode(97,118,101,114,97,103,101,115,95,100,95,48,0),420]]);
    let textinputU = false;
    let screeno = 3.0;
    let moreT = 3;
    let plusN = true;
   while (!headerk.includes(`${scheduler1.size}`)) {
       let leakcheckerN = 5.0;
       let imagemanagerO = 0;
       let renewl = String.fromCharCode(108,95,54,51,95,108,105,99,101,110,115,101,0);
       let chato = 5.0;
       let qaagr = 5.0;
       let greeno = new Map([[String.fromCharCode(117,110,99,111,114,114,95,122,95,50,55,0),281], [String.fromCharCode(107,95,51,49,95,115,117,98,112,97,114,116,105,116,105,111,110,0),592]]);
         greeno = new Map([[`${imagemanagerO}`, 2]]);
       let borderlessw = 3.0;
       let mappingA = 3.0;
      while (greeno[`${borderlessw}`] == null) {
         borderlessw /= Math.max(3, parseFloat(`${parseInt(`${mappingA}`)}`));
         break;
      }
      for (let t = 0; t < 3; t++) {
         mappingA += parseFloat(`${renewl.length - 3}`);
      }
       let videocommon4 = [797, 826];
       let playlistx = [418, 577];
         playlistx.push(2);
         chato /= Math.max(greeno.size / 3, 2);
          let saveL = 1;
         imagemanagerO <<= Math.min(Math.abs(1 << (Math.min(5, renewl.length))), 2);
         saveL |= 1 ^ saveL;
         playlistx = [imagemanagerO / 1];
       let bannerf = false;
         greeno = new Map([[`${playlistx.length}`, parseInt(`${mappingA}`)]]);
          let hookj = 2.0;
          let holder8 = String.fromCharCode(106,95,49,51,95,115,99,97,110,110,101,100,0);
          let mbnativeadvancedK = String.fromCharCode(119,95,57,55,95,104,118,99,99,0);
         greeno[renewl] = parseInt(`${leakcheckerN}`);
         hookj *= parseFloat(`${3 & holder8.length}`);
         holder8 = `${mbnativeadvancedK.length << (Math.min(4, Math.abs(parseInt(`${hookj}`))))}`;
         mbnativeadvancedK = `${(mbnativeadvancedK == String.fromCharCode(56,0) ? parseInt(`${hookj}`) : mbnativeadvancedK.length)}`;
      while ((mappingA / 2.42) >= 1.13 && 5.89 >= (qaagr + 2.42)) {
          let corex = [455, 443];
          let expiredD = String.fromCharCode(115,111,105,115,99,111,110,110,101,99,116,105,110,103,95,100,95,54,49,0);
          let xadsdki = 0.0;
          let viewerC = 0.0;
          let statisticsp = 2.0;
         mappingA -= parseFloat(`${1}`);
         corex = [parseInt(`${xadsdki}`) * 3];
         expiredD += `${3 >> (Math.min(Math.abs(parseInt(`${xadsdki}`)), 3))}`;
         viewerC /= Math.max(parseFloat(`${corex.length}`), 1);
         statisticsp -= parseFloat(`${expiredD.length ^ 2}`);
         break;
      }
      if (2 < (playlistx.length >> (Math.min(5, videocommon4.length))) || 3 < (2 >> (Math.min(1, videocommon4.length)))) {
         videocommon4.push(parseInt(`${borderlessw}`) - 1);
      }
      headerk += `${parseInt(`${qaagr}`)}`;
      break;
   }

  const {liveRoomUpdate, chartCallback} = props;
      textinputU = (((textinputU ? 32 : events.length) % (Math.max(1, events.length))) > 32);

  const [rightContentWidth, setRightContentWidth] = useState(0);
      upgradek /= Math.max(3, (parseFloat(`${(textinputU ? 5 : 3) | parseInt(`${upgradek}`)}`)));

  

   do {
      scheduler1 = new Map([[`${scheduler1.size}`, events.length ^ scheduler1.size]]);
      if (scheduler1.size == 1089015) {
         break;
      }
   } while ((scheduler1.size < 4 || (4 & scheduler1.size) < 3) && (scheduler1.size == 1089015));
  

   for (let f = 0; f < 1; f++) {
       let streamingF = 4.0;
       let qinit_0os = String.fromCharCode(102,95,56,49,95,105,102,105,108,116,101,114,0);
       let nativemodulec = 1.0;
      while (qinit_0os.length >= 5) {
         qinit_0os += `${parseInt(`${streamingF}`) / (Math.max(10, parseInt(`${nativemodulec}`)))}`;
         break;
      }
      for (let l = 0; l < 2; l++) {
         nativemodulec *= 2;
      }
      for (let q = 0; q < 2; q++) {
          let unselected7 = [774, 420];
          let libcrashsdkT = String.fromCharCode(118,95,54,52,95,98,117,103,115,0);
          let condensedO = 5;
          let reminder9 = String.fromCharCode(112,114,111,116,101,99,116,105,111,110,95,56,95,54,48,0);
          let anytimen = [433, 160];
         streamingF -= parseFloat(`${anytimen.length * 3}`);
         unselected7 = [(reminder9 == String.fromCharCode(84,0) ? reminder9.length : unselected7.length)];
         libcrashsdkT += `${reminder9.length}`;
         condensedO >>= Math.min(Math.abs(condensedO), 4);
         anytimen.push((String.fromCharCode(48,0) == libcrashsdkT ? libcrashsdkT.length : reminder9.length));
      }
      if (1 <= (2 % (Math.max(1, qinit_0os.length)))) {
         nativemodulec -= qinit_0os.length;
      }
          let modityn = 0;
          let middlez = String.fromCharCode(116,119,111,119,97,121,95,110,95,52,49,0);
         streamingF *= parseFloat(`${parseInt(`${streamingF}`) ^ modityn}`);
         modityn += middlez.length | middlez.length;
      for (let t = 0; t < 2; t++) {
         qinit_0os = `${parseInt(`${nativemodulec}`)}`;
      }
         qinit_0os += `${qinit_0os.length}`;
         qinit_0os += `${2 & parseInt(`${nativemodulec}`)}`;
          let questy = String.fromCharCode(103,95,49,54,95,121,117,118,112,116,111,117,121,118,121,0);
          let bottome = [762, 962, 777];
          let dnewarchdefaults_ = String.fromCharCode(114,95,53,57,95,99,111,111,114,100,105,110,97,116,111,114,0);
         nativemodulec *= 2 ^ dnewarchdefaults_.length;
         questy += `${questy.length}`;
         bottome.push(2);
         dnewarchdefaults_ = `${(String.fromCharCode(102,0) == questy ? bottome.length : questy.length)}`;
      scheduler1 = new Map([[`${streamingF}`, 1]]);
   }
  

      scheduler1[`${moreT}`] = scrollviewn.length + 3;
  

      scheduler1[`${scrollviewn.length}`] = scheduler1.size;
  

   if (!events.includes(headerk)) {
      headerk = "2";
   }
  

   for (let y = 0; y < 1; y++) {
      textinputU = (upgradek - parseFloat(`${scheduler1.size}`)) >= 40.53;
   }
  

   if (5 <= (5 & scheduler1.size)) {
       let eactc = String.fromCharCode(116,119,111,109,95,104,95,53,52,0);
       let agreementz = String.fromCharCode(102,95,50,54,95,111,102,102,101,114,101,100,0);
       let neonu = String.fromCharCode(102,95,56,51,95,101,99,100,115,97,0);
       let tempP = 2;
         agreementz = `${eactc.length >> (Math.min(Math.abs(2), 3))}`;
         neonu = `${tempP % (Math.max(neonu.length, 6))}`;
      if (2 == neonu.length) {
          let benefitP = false;
          let libffmpegkitz = String.fromCharCode(101,116,97,95,116,95,49,48,48,0);
          let libimagepipeliney = 0.0;
          let libsentryP = 1.0;
         agreementz = `${parseInt(`${libsentryP}`)}`;
         benefitP = (parseInt(`${libimagepipeliney}`) - libffmpegkitz.length) < 92;
         libffmpegkitz = `${libffmpegkitz.length}`;
         libimagepipeliney /= Math.max(2, (libffmpegkitz.length / (Math.max(1, (benefitP ? 5 : 2)))));
         libsentryP += parseFloat(`${parseInt(`${libimagepipeliney}`)}`);
      }
         eactc += `${eactc.length}`;
       let subsM = 0.0;
      for (let o = 0; o < 2; o++) {
         tempP /= Math.max(4, 3);
      }
         agreementz = `${agreementz.length | 1}`;
         tempP %= Math.max(2, tempP);
          let redirectP = String.fromCharCode(122,95,56,57,95,99,111,109,112,97,114,101,112,111,119,0);
         subsM *= parseFloat(`${neonu.length % (Math.max(2, parseInt(`${subsM}`)))}`);
         redirectP = `${(String.fromCharCode(57,0) == redirectP ? redirectP.length : redirectP.length)}`;
      do {
          let enewinterstitialQ = [449, 759];
          let large2 = 1.0;
          let gradlewl = new Map([[String.fromCharCode(119,95,50,56,95,101,120,112,105,114,101,115,0),false ], [String.fromCharCode(119,95,51,52,95,97,108,108,0),false ]]);
          let memberS = new Map([[String.fromCharCode(115,108,111,119,100,111,119,110,95,108,95,55,54,0),String.fromCharCode(110,97,109,101,115,112,97,99,101,115,95,121,95,56,54,0)], [String.fromCharCode(101,95,52,50,95,98,108,101,110,100,0),String.fromCharCode(104,112,114,101,100,95,102,95,54,48,0)], [String.fromCharCode(112,95,51,95,100,105,97,108,111,103,0),String.fromCharCode(116,95,53,50,95,111,98,115,101,114,118,97,116,105,111,110,0)]]);
         subsM *= parseFloat(`${tempP / 2}`);
         enewinterstitialQ = [gradlewl.size];
         large2 -= 1 - parseInt(`${large2}`);
         gradlewl[`${large2}`] = parseInt(`${large2}`);
         memberS[`${enewinterstitialQ.length}`] = enewinterstitialQ.length * 3;
         if (subsM == 2322316.0) {
            break;
         }
      } while (((2.45 / (Math.max(5, subsM))) > 5.24) && (subsM == 2322316.0));
      if (!agreementz.includes(`${subsM}`)) {
         agreementz += `${parseInt(`${subsM}`)}`;
      }
       let nalyticsh = new Map([[String.fromCharCode(109,95,49,56,95,97,100,116,115,0),446], [String.fromCharCode(105,95,55,50,95,98,97,99,107,100,114,111,112,0),672]]);
      scheduler1[neonu] = neonu.length << (Math.min(Math.abs(2), 1));
   }
  

      events = `${3 * moreT}`;
  

   for (let c = 0; c < 2; c++) {
      events = `${events.length}`;
   }
  

   for (let w = 0; w < 3; w++) {
      screeno *= events.length;
   }
  const home = liveRoomUpdate?.home;
      events = `${((textinputU ? 3 : 1))}`;

  const away = liveRoomUpdate?.away;
      screeno /= Math.max(5, 1 - scheduler1.size);

  const chartIncident = Array.prototype.filter
    .call(liveRoomUpdate?.football_match_live?.tlive || [], x => x.main === 1)
    .sort((a, b) => {
      if (a.time === b.time) {

      events += `${parseInt(`${screeno}`) + scrollviewn.length}`;
        return 0;
      } else if (a.time > b.time) {

       let thumbnailA = String.fromCharCode(107,95,56,53,95,115,116,105,114,110,103,0);
      while (5 >= thumbnailA.length && thumbnailA.length >= 5) {
         thumbnailA += "2";
         break;
      }
         thumbnailA = `${thumbnailA.length | thumbnailA.length}`;
      while (thumbnailA.includes(`${thumbnailA.length}`)) {
         thumbnailA = `${(thumbnailA == String.fromCharCode(106,0) ? thumbnailA.length : thumbnailA.length)}`;
         break;
      }
      textinputU = parseFloat(`${moreT}`) == upgradek;
        return 1;
      } else {

   for (let j = 0; j < 2; j++) {
      upgradek /= Math.max(parseFloat(`${headerk.length}`), 2);
   }
        return -1;
   while (Array.from(scheduler1.keys()).includes(`${screeno}`)) {
       let mintegraln = 4.0;
       let b_locks = 1;
       let screent = new Map([[String.fromCharCode(102,95,55,48,95,114,101,112,111,114,116,0),799], [String.fromCharCode(109,95,54,57,95,112,114,101,101,110,99,111,100,101,0),149]]);
       let basketballL = 1.0;
       let libavcodecI = 3;
       let hooksa = true;
          let regengc = false;
          let scrollvieww = true;
          let textq = [842, 800];
         libavcodecI -= b_locks;
         regengc = textq.length <= 53;
         scrollvieww = !scrollvieww || regengc;
         textq.push(textq.length);
      if (1.8 > (mintegraln / (Math.max(2.72, 7))) || 2.72 > mintegraln) {
         mintegraln -= parseFloat(`${1}`);
      }
      for (let e = 0; e < 1; e++) {
          let ksadN = 3;
          let mutedy = String.fromCharCode(112,95,55,53,95,105,111,101,114,114,0);
          let libffmpegkitf = 0.0;
          let mailm = 1.0;
          let toponY = 3.0;
         screent = new Map([[`${libavcodecI}`, 3 + libavcodecI]]);
         ksadN ^= parseInt(`${mailm}`) | ksadN;
         mutedy = "2";
         libffmpegkitf *= (String.fromCharCode(67,0) == mutedy ? parseInt(`${libffmpegkitf}`) : mutedy.length);
         mailm += mutedy.length % 2;
         toponY *= parseInt(`${mailm}`);
      }
       let memberx = String.fromCharCode(110,95,55,52,95,115,101,97,114,99,104,0);
       let selectionx = String.fromCharCode(118,95,57,56,95,114,116,109,100,0);
      if (4 > (b_locks % 1)) {
          let y_viewf = String.fromCharCode(100,95,57,57,95,110,97,118,105,103,97,116,105,110,103,0);
          let latnj = false;
          let collection2 = String.fromCharCode(112,95,56,55,95,115,107,101,108,101,116,111,110,0);
          let utilsP = 3;
         b_locks &= ((latnj ? 5 : 5));
         y_viewf += "3";
         latnj = y_viewf.length == collection2.length;
         collection2 += `${y_viewf.length}`;
         utilsP -= 3 >> (Math.min(1, y_viewf.length));
      }
       let commentY = [696, 424];
       let libmapbufferjniY = String.fromCharCode(120,95,55,50,95,113,100,101,108,116,97,0);
       let navigation7 = String.fromCharCode(109,95,57,50,95,100,105,115,97,112,112,101,97,114,0);
          let libjsinspectorg = [693, 55, 513];
          let areab = String.fromCharCode(115,117,105,116,101,98,95,99,95,57,51,0);
         libavcodecI &= libjsinspectorg.length;
         libjsinspectorg = [1];
         areab = `${areab.length}`;
      if (!hooksa) {
         navigation7 = `${selectionx.length}`;
      }
          let proxyc = String.fromCharCode(117,95,53,95,97,118,111,105,100,0);
          let singapores = 5.0;
          let downloadingY = 1.0;
         b_locks ^= 1;
         proxyc = `${parseInt(`${singapores}`) & proxyc.length}`;
         singapores += 3 >> (Math.min(Math.abs(parseInt(`${singapores}`)), 5));
         downloadingY /= Math.max(3, parseFloat(`${parseInt(`${singapores}`)}`));
       let textv = String.fromCharCode(116,104,117,109,98,110,97,105,108,115,95,119,95,54,48,0);
       let coreX = String.fromCharCode(112,97,114,116,105,99,105,112,97,110,116,115,95,54,95,56,48,0);
         b_locks >>= Math.min(2, Math.abs(selectionx.length % (Math.max(10, memberx.length))));
         b_locks *= b_locks;
      screeno += screent.size * events.length;
      break;
   }

      }
    });
      moreT <<= Math.min(parseInt(`${Math.abs((parseInt(`${upgradek}`) >> (Math.min(2, Math.abs((textinputU ? 5 : 2))))))}`), 2);


  const chartData = liveRoomUpdate?.football_match_trend?.data;
      moreT *= (scrollviewn.length * (textinputU ? 4 : 3));

  if (!chartData || !chartData.length) {
    chartCallback?.(false);
   if (1 >= (scheduler1.size | 2) || 5 >= (scheduler1.size | 2)) {
      headerk += `${(headerk == String.fromCharCode(82,0) ? headerk.length : (textinputU ? 3 : 2))}`;
   }

    return;
  } else {
    chartCallback?.(true);
   while ((screeno - upgradek) < 4.59 || 4.59 < (screeno - upgradek)) {
      upgradek += parseFloat(`${3}`);
      break;
   }

  }

  const time = chartData?.length;
       let containerS = 4.0;
       let spinnerR = 0.0;
       let signinupa = String.fromCharCode(115,105,102,116,95,57,95,57,56,0);
         containerS /= Math.max(parseFloat(`${parseInt(`${spinnerR}`)}`), 3);
       let resendw = 5.0;
         spinnerR -= parseInt(`${resendw}`) % (Math.max(10, signinupa.length));
         resendw *= parseFloat(`${2 % (Math.max(2, parseInt(`${containerS}`)))}`);
      if (2 > (signinupa.length + 4)) {
         signinupa = `${parseInt(`${containerS}`) ^ 2}`;
      }
       let privacya = 4;
       let libfabricjniB = 1;
      if ((1 << (Math.min(3, Math.abs(privacya)))) < 1) {
          let gestures9 = false;
          let activeF = 0.0;
          let privilegeO = [455, 79, 749];
          let singleC = 4.0;
         libfabricjniB %= Math.max(privilegeO.length * 2, 2);
         gestures9 = singleC >= 41.84;
         activeF += ((gestures9 ? 3 : 5) * parseInt(`${activeF}`));
         privilegeO = [parseInt(`${activeF}`) | 1];
         singleC /= Math.max(5, (parseFloat(`${(gestures9 ? 5 : 2) - parseInt(`${activeF}`)}`)));
      }
          let libreactperfloggerjniT = 1.0;
          let fileds = false;
          let animation1 = String.fromCharCode(121,95,57,53,95,115,97,109,101,113,0);
         spinnerR *= 1 - parseInt(`${containerS}`);
         libreactperfloggerjniT -= (parseFloat(`${(fileds ? 5 : 3) * parseInt(`${libreactperfloggerjniT}`)}`));
         fileds = 90.26 < libreactperfloggerjniT;
         animation1 += `${3 + animation1.length}`;
         signinupa += `${parseInt(`${spinnerR}`)}`;
      screeno *= scrollviewn.length & 2;

  const totalTime = time <= 90 ? 90 : time;
       let scrollviewQ = true;
      for (let n = 0; n < 2; n++) {
         scrollviewQ = !scrollviewQ;
      }
         scrollviewQ = !scrollviewQ && !scrollviewQ;
         scrollviewQ = (!scrollviewQ ? !scrollviewQ : !scrollviewQ);
      textinputU = 72 < moreT;
 

   for (let d = 0; d < 1; d++) {
      upgradek += (parseFloat(`${(textinputU ? 5 : 3) * parseInt(`${upgradek}`)}`));
   }

  const minutes = [0, 15, 30, 45, 60, 75, totalTime];
      scheduler1[`${events}`] = scheduler1.size;


  

   for (let z = 0; z < 2; z++) {
      plusN = scrollviewn.length <= scheduler1.size;
   }
  const incidentFilter = incidents => {

   do {
      events = `${(parseInt(`${screeno}`) / (Math.max(6, (textinputU ? 4 : 2))))}`;
      if (events.length == 4805299) {
         break;
      }
   } while (((events.length + moreT) == 5) && (events.length == 4805299));
    var allocateTime;
   do {
      textinputU = moreT < 41;
      if (textinputU ? !textinputU : textinputU) {
         break;
      }
   } while (((moreT ^ 3) <= 2) && (textinputU ? !textinputU : textinputU));

    return incidents?.map((x, idx) => {
      const curTime = x.time;
      scheduler1[`${textinputU}`] = ((textinputU ? 3 : 2) & 1);

      if (idx > 0) {

      moreT >>= Math.min(3, Math.abs(parseInt(`${upgradek}`)));
        if (curTime <= allocateTime) {
          return {...x, allocateTime: ++allocateTime};
        } else {

       let bufferh = 5.0;
       let dragb = String.fromCharCode(115,121,115,116,101,109,100,101,112,101,110,100,101,110,116,95,122,95,49,53,0);
       let hoverV = 5.0;
      for (let j = 0; j < 1; j++) {
          let historyP = [841, 985];
          let shareR = [String.fromCharCode(115,101,99,95,105,95,54,48,0), String.fromCharCode(121,95,49,48,48,95,104,101,99,111,0)];
          let settingsR = String.fromCharCode(100,99,109,112,0);
         dragb += `${parseInt(`${bufferh}`) % 3}`;
         historyP.push(1);
         shareR = [shareR.length & 2];
         settingsR += "1";
      }
         dragb = `${dragb.length}`;
         hoverV /= Math.max(2, parseFloat(`${parseInt(`${bufferh}`) & 1}`));
       let recommendationH = false;
      while (recommendationH && 3 >= dragb.length) {
         dragb = `${dragb.length & 1}`;
         break;
      }
      do {
         dragb = `${dragb.length % (Math.max(3, 6))}`;
         if (dragb == String.fromCharCode(54,114,122,114,56,117,102,110,109,99,0)) {
            break;
         }
      } while ((dragb.length >= 1) && (dragb == String.fromCharCode(54,114,122,114,56,117,102,110,109,99,0)));
      for (let j = 0; j < 1; j++) {
          let grayk = 5.0;
          let fastforwardj = true;
          let assistE = 5.0;
          let verticalT = String.fromCharCode(117,95,52,57,95,110,111,110,110,117,108,108,97,100,100,114,101,115,115,0);
         recommendationH = (!fastforwardj ? !recommendationH : !fastforwardj);
         grayk /= Math.max(parseFloat(`${verticalT.length >> (Math.min(5, Math.abs(parseInt(`${assistE}`))))}`), 1);
         assistE *= parseFloat(`${3}`);
         verticalT = "3";
      }
       let usernamey = String.fromCharCode(122,95,53,56,95,112,97,108,109,0);
       let libcxxcomponentsq = String.fromCharCode(100,101,103,114,97,100,101,100,95,122,95,52,54,0);
      while ((parseInt(`${hoverV}`) / (Math.max(usernamey.length, 5))) >= 2) {
         hoverV /= Math.max(parseFloat(`${libcxxcomponentsq.length / 2}`), 3);
         break;
      }
      screeno /= Math.max(5, scrollviewn.length);
          allocateTime = curTime;
       let mbnatived = 0;
      do {
         mbnatived += mbnatived;
         if (mbnatived == 511383) {
            break;
         }
      } while ((mbnatived == 511383) && (1 >= (mbnatived & 1) && (mbnatived & 1) >= 4));
          let libfbjniO = false;
          let rewardvideoD = String.fromCharCode(120,95,51,50,95,114,111,116,97,116,105,111,110,0);
         mbnatived ^= mbnatived;
         libfbjniO = rewardvideoD.length == 53;
         rewardvideoD += `${rewardvideoD.length}`;
      for (let h = 0; h < 2; h++) {
          let teamd = String.fromCharCode(109,95,57,49,95,108,105,110,101,115,0);
          let tempw = false;
          let mutedt = 5;
          let mbbidL = 5.0;
         mbnatived %= Math.max(mutedt, 4);
         teamd += `${parseInt(`${mbbidL}`) / 1}`;
         tempw = teamd.length > 26 || !tempw;
         mutedt ^= 2;
         mbbidL += parseFloat(`${parseInt(`${mbbidL}`) / (Math.max(3, 5))}`);
      }
      moreT >>= Math.min(5, Math.abs(1 | parseInt(`${upgradek}`)));

          return {...x, allocateTime: allocateTime};
        }
      } else {

   while (parseInt(`${upgradek}`) >= scrollviewn.length) {
      upgradek /= Math.max((parseFloat(`${(plusN ? 4 : 2) % (Math.max(3, events.length))}`)), 3);
      break;
   }
        allocateTime = curTime;
      plusN = 12.60 == upgradek && textinputU;

        return {...x, allocateTime: curTime};
      }
    });
   if (headerk.length < 5 && !textinputU) {
      textinputU = events.length == headerk.length;
   }

  };
  const filteredHomeIncident = incidentFilter(
    chartIncident?.filter(x => x.position === 1),
  );
  const filteredAwayIncident = incidentFilter(
    chartIncident?.filter(x => x.position === 2),
  );

  
  

  const rightContentlayout = e => {
    setRightContentWidth(e.nativeEvent.layout.width);
  };

  const IncidentIcons = ({data}) => {
    return (
      <View style={{...styles.eventContent}}>
        {data?.map((e, index) => {
          const size = e.type === 1 || e.type === 29 ? 8 : 10;
          return (
            <Image
              key={`filteredHomeIncident-${index}`}
              style={{
                width: size,
                height: size,
                position: 'absolute',
                left: (rightContentWidth * e.allocateTime) / totalTime,
                transform: [{translateX: -size / 2}],
              }}
              source={EventIcon[e.type] || ''}
              resizeMode={'contain'}></Image>
          );
        })}
      </View>
    );
  };
  return (
    <View style={styles.container}>
      <View style={styles.rowContent}>
        <View style={styles.leftContent}></View>
        <View
          style={[styles.rightContent, {height: iconHeight}]}
          onLayout={rightContentlayout}>
          <View
            style={{
              position: 'relative',
              flexDirection: 'row',
              paddingBottom: 10,
            }}>
            {minutes.map((e, index) => {
              return (
                <Text
                  key={`footBallAreaChartMinute-${index}`}
                  style={[
                    styles.minuteText,
                    {
                      width: 400,
                      textAlign: 'center',
                      position: 'absolute',
                      left: (e / totalTime) * rightContentWidth,
                      transform: [{translateX: -200}],
                    },
                  ]}>
                  {e === 45 ? 'HT' : ` ${e}'`}
                </Text>
              );
            })}
          </View>
          {/* Home Incident */}
          <IncidentIcons data={filteredHomeIncident || []} />
        </View>
      </View>
      <View style={styles.rowContent}>
        <View style={styles.leftContent}>
          {home?.icon ? (
            <Image style={styles.teamIcon} source={{uri: home?.icon}}></Image>
          ) : (
            <DefaultTeamIcon iconSize={20} isHome={true} text={home?.name} />
          )}
          {away?.icon ? (
            <Image style={styles.teamIcon} source={{uri: away?.icon}}></Image>
          ) : (
            <DefaultTeamIcon iconSize={20} isHome={false} text={away?.name} />
          )}
        </View>
        <View style={[styles.rightContent, {height: chartHeight}]}>
          <View style={{position: 'relative'}}>
            {/* 背景颜色 */}
            <View
              style={{
                position: 'absolute',
                height: chartHeight,
                width: rightContentWidth,
              }}>
              <View
                style={{
                  position: 'absolute',
                  top: 0,
                  bottom: '50%',
                  left: 0,
                  right: 0,
                  backgroundColor: 'rgb(38, 39, 42)',
                }}></View>
              <View
                style={{
                  position: 'absolute',
                  top: '50%',
                  bottom: 0,
                  left: 0,
                  right: 0,
                  backgroundColor: 'rgb(38, 39, 42)',
                }}></View>
            </View>
            {/* 时间指标 */}
            <View
              style={{
                position: 'absolute',
                height: chartHeight,
                width: 1,
                zIndex: 99,
                backgroundColor: Colors.colorPrimary,
                left: (time / totalTime) * rightContentWidth + 1,
              }}
            />
            <CanvasIncident
              data={chartData}
              height={chartHeight}
              width={(time / totalTime) * rightContentWidth}
            />
          </View>
        </View>
      </View>
      <View style={styles.rowContent}>
        <View style={styles.leftContent}></View>
        <View style={[styles.rightContent, {height: iconHeight}]}>
          {/* Away Incident */}
          <IncidentIcons data={filteredAwayIncident || []} />
        </View>
      </View>
    </View>
  );
};

export default memo(AreaChart);
