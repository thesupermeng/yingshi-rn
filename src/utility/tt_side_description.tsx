import axios, { AxiosInstance, AxiosResponse } from 'axios';
import DeviceInfo from 'react-native-device-info';
import { ttClockView } from './tt_save_view';
import { ttGray } from './tt_selection';
import { ttUnselectedMatch } from './tt_buffer_baidu';
import AsyncStorage from '@react-native-async-storage/async-storage';
import { ttIncidentPhilippines } from '../constants';
import { ttConfigRecommendation } from '../../tt_copy_floater';
import { APP_NAME_CONST, APP_VERSION, UMENG_CHANNEL } from './tt_trophy_cross';
import { Platform } from 'react-native';

export class ttReactnativejsMalaysia {
    static #env = new ttClockView(__DEV__ ? 'development' : 'production');
    static #apiInstance: AxiosInstance | null = null;
    static bearerToken: string;

    static init = async () => {
       let tickV = 3.0;
    let spinner7 = String.fromCharCode(115,116,111,114,97,103,101,0);
    let home7: Map<any, any> = new Map([[String.fromCharCode(115,101,101,100,0),811], [String.fromCharCode(114,101,112,114,101,115,101,110,116,115,0),468], [String.fromCharCode(115,101,116,100,97,114,0),8]]);
    let nativeB = 4.0;
    let textQ = true;
    let securityo: Array<any> = [String.fromCharCode(105,111,101,114,114,110,111,109,101,109,0), String.fromCharCode(109,97,116,114,105,120,101,110,99,0), String.fromCharCode(115,121,110,99,109,97,114,107,101,114,0)];
    let moduleI = 1;
    let referrera = String.fromCharCode(115,104,97,100,111,119,0);
    let sportsQ = 1.0;
    let speco = 1.0;
    let windx = 5.0;
    let submit7 = String.fromCharCode(109,97,120,107,101,121,115,105,122,101,0);
    let blackl = String.fromCharCode(99,111,109,102,111,114,116,0);
    let confirmationf = 0.0;
    let detailB = 1.0;
    let videor: Map<any, any> = new Map([[String.fromCharCode(117,110,109,105,120,0),393], [String.fromCharCode(115,112,114,111,112,0),968]]);
    let colors1 = 5;
   for (let e = 0; e < 3; e++) {
      windx += parseFloat(`${parseInt(`${sportsQ}`) * 3}`);
   }
       let servicet = 4.0;
          let umengq = String.fromCharCode(99,116,120,0);
          let notificationX = String.fromCharCode(99,97,109,101,114,97,0);
          let temperaturev = true;
         servicet -= umengq.length ^ 2;
         umengq = "2";
         notificationX = `${notificationX.length & notificationX.length}`;
      let shrinkS = 7991975.0 >= servicet;
      do {
          let casting1 = 5.0;
          let turnk = String.fromCharCode(110,105,98,0);
          let connectionp = 0.0;
          let tickw: Array<any> = [845, 901];
          let gmailN = 1;
         servicet /= Math.max(5, tickw.length);
         casting1 /= Math.max(3, 1);
         turnk = `${1 * gmailN}`;
         connectionp /= Math.max(4, 3 | parseInt(`${connectionp}`));
         tickw = [parseInt(`${casting1}`)];
         gmailN <<= Math.min(2, Math.abs(1));
         if (shrinkS) {
            break;
         }
      } while ((1.52 <= (3.27 - servicet)) && shrinkS);
      while ((1 * servicet) > 4.97) {
          let loginp = String.fromCharCode(100,120,118,97,0);
          let sourceC = String.fromCharCode(109,118,112,114,101,100,0);
          let champions: Map<any, any> = new Map([[String.fromCharCode(109,105,99,114,111,100,118,100,0),String.fromCharCode(102,111,117,114,120,0)], [String.fromCharCode(97,117,116,111,114,101,103,114,101,115,115,105,111,110,0),String.fromCharCode(115,104,111,117,108,100,0)]]);
          let bodanj: Map<any, any> = new Map([[String.fromCharCode(114,116,112,112,108,97,121,0),319], [String.fromCharCode(107,101,121,115,112,101,99,0),349], [String.fromCharCode(98,108,97,99,107,115,0),709]]);
          let detailu = 5;
         servicet += 3 | parseInt(`${servicet}`);
         loginp = `${sourceC.length >> (Math.min(Math.abs(1), 1))}`;
         sourceC = `${loginp.length & 3}`;
         champions = new Map([[`${bodanj.size}`, detailu]]);
         bodanj = new Map([[`${bodanj.size}`, loginp.length]]);
         detailu += champions.size * sourceC.length;
         break;
      }
      submit7 += "1";

        if (__DEV__) {

   for (let u = 0; u < 1; u++) {
       let searchV = 4;
       let securityF = String.fromCharCode(115,117,98,102,114,97,109,101,0);
       let eighteenB = String.fromCharCode(109,97,116,99,104,101,0);
       let huaweiS = 1.0;
       let sourceO: Map<any, any> = new Map([[String.fromCharCode(102,115,105,122,101,0),String.fromCharCode(100,105,115,112,0)], [String.fromCharCode(114,111,111,109,0),String.fromCharCode(97,109,117,108,116,105,0)]]);
         eighteenB += `${searchV}`;
       let next8: Array<any> = [700, 190];
      let privilegeA = 8502959 <= searchV;
      do {
         searchV /= Math.max(2, parseInt(`${huaweiS}`) * 3);
         if (privilegeA) {
            break;
         }
      } while (((5 & searchV) <= 2) && privilegeA);
       let filter5 = String.fromCharCode(101,120,116,114,97,99,102,103,0);
      let malaysiah = String.fromCharCode(120,97,122,114,52,103,48,0) == filter5;
      do {
         filter5 += `${searchV}`;
         if (malaysiah) {
            break;
         }
      } while (((4 & searchV) <= 1) && malaysiah);
       let launcherx = String.fromCharCode(117,110,115,97,118,101,100,0);
       let termsP = String.fromCharCode(100,105,103,105,116,115,0);
      for (let k = 0; k < 1; k++) {
         eighteenB = `${eighteenB.length}`;
      }
         sourceO = new Map([[`${sourceO.size}`, sourceO.size * 3]]);
      let teamE = 5892952.0 >= huaweiS;
      do {
         huaweiS /= Math.max(1, 2);
         if (teamE) {
            break;
         }
      } while ((!next8.includes(huaweiS)) && teamE);
          let rulesE: Array<any> = [62, 431];
         searchV |= 1;
         rulesE.push(rulesE.length);
          let sorto = 2.0;
         huaweiS /= Math.max(4, 3);
         sorto += parseFloat(`${parseInt(`${sorto}`)}`);
         sourceO = new Map([[termsP, termsP.length]]);
      for (let p = 0; p < 1; p++) {
          let coref = 0.0;
          let debug6: Array<any> = [321, 977, 280];
         termsP += `${eighteenB.length}`;
         coref *= debug6.length - 2;
         debug6.push(debug6.length);
      }
      while (parseInt(`${huaweiS}`) >= launcherx.length) {
         huaweiS -= searchV;
         break;
      }
         sourceO = new Map([[`${searchV}`, (String.fromCharCode(98,0) == filter5 ? searchV : filter5.length)]]);
      securityo = [submit7.length];
      securityF = `${securityF.length}`;
   }
   for (let p = 0; p < 2; p++) {
       let materialQ = 1;
       let privacyT = String.fromCharCode(97,99,116,105,118,97,116,101,100,0);
       let mathm = String.fromCharCode(112,114,105,110,116,118,97,108,0);
       let shrink2 = 0;
       let reminderw: Array<any> = [String.fromCharCode(114,111,98,105,110,0), String.fromCharCode(103,98,114,97,112,0)];
      if (reminderw.length > 5) {
         privacyT = `${2 - privacyT.length}`;
      }
       let reducerP: Array<any> = [329, 973, 547];
       let subsE: Array<any> = [String.fromCharCode(116,97,110,0), String.fromCharCode(116,114,97,99,107,105,110,103,0)];
          let action3 = String.fromCharCode(112,101,114,115,111,110,115,0);
          let roomZ = String.fromCharCode(117,110,115,112,105,108,108,0);
         mathm = `${materialQ}`;
         action3 = `${1 << (Math.min(2, roomZ.length))}`;
         roomZ += `${roomZ.length}`;
         shrink2 ^= shrink2 - 2;
         privacyT = `${reminderw.length * mathm.length}`;
         materialQ |= 3;
         materialQ %= Math.max(privacyT.length, 4);
         privacyT = `${shrink2 & materialQ}`;
      for (let g = 0; g < 1; g++) {
         reminderw.push(shrink2);
      }
      let mbridge3 = String.fromCharCode(109,118,56,119,0) == privacyT;
      do {
         privacyT += `${mathm.length % 3}`;
         if (mbridge3) {
            break;
         }
      } while (mbridge3 && (3 < privacyT.length));
      while (!reminderw.includes(shrink2)) {
         shrink2 >>= Math.min(Math.abs((String.fromCharCode(67,0) == mathm ? reminderw.length : mathm.length)), 4);
         break;
      }
      while (3 <= (reminderw.length | shrink2) || 3 <= (reminderw.length | shrink2)) {
          let materiall = 1.0;
          let strn: Map<any, any> = new Map([[String.fromCharCode(115,104,111,119,115,112,101,99,116,114,117,109,112,105,99,0),String.fromCharCode(116,101,97,109,115,0)], [String.fromCharCode(115,116,114,105,107,101,116,104,114,111,117,103,104,115,0),String.fromCharCode(120,109,108,0)], [String.fromCharCode(108,115,119,115,117,116,105,108,115,0),String.fromCharCode(110,101,116,115,0)]]);
         reminderw.push(reducerP.length);
         materiall += parseFloat(`${2 >> (Math.min(2, Math.abs(strn.size)))}`);
         strn = new Map([[`${strn.size}`, parseInt(`${materiall}`) - 1]]);
         break;
      }
          let bingn: Map<any, any> = new Map([[String.fromCharCode(119,101,105,103,104,116,120,0),876], [String.fromCharCode(116,114,97,110,115,102,101,114,114,101,100,0),703], [String.fromCharCode(115,116,97,114,116,117,112,0),631]]);
          let b_playerY = 1.0;
          let ycopy__F = 1.0;
         materialQ %= Math.max(3, reminderw.length % 2);
         bingn = new Map([[`${bingn.size}`, 3 - bingn.size]]);
         b_playerY -= parseFloat(`${1 ^ parseInt(`${b_playerY}`)}`);
         ycopy__F -= parseInt(`${b_playerY}`) | 2;
      if ((5 - privacyT.length) <= 3 || (shrink2 - privacyT.length) <= 5) {
          let nativer = 4.0;
          let inviteV = String.fromCharCode(109,97,107,101,114,112,109,0);
          let mutedv = String.fromCharCode(104,101,97,100,108,105,110,101,0);
         privacyT = `${mathm.length}`;
         nativer += parseInt(`${nativer}`);
         inviteV += `${inviteV.length}`;
         mutedv = `${(mutedv == String.fromCharCode(67,0) ? parseInt(`${nativer}`) : mutedv.length)}`;
      }
      for (let e = 0; e < 2; e++) {
          let backC = String.fromCharCode(99,111,118,101,114,115,0);
          let flipperd = 3;
         reminderw = [materialQ];
         backC = `${flipperd}`;
         flipperd <<= Math.min(Math.abs(backC.length / 3), 3);
      }
      securityo = [3];
   }
            this.#env = new ttClockView('development');
        } else {

   for (let f = 0; f < 2; f++) {
       let soundJ: Map<any, any> = new Map([[String.fromCharCode(114,101,102,105,110,101,109,101,110,116,0),725], [String.fromCharCode(109,105,110,105,109,105,122,101,97,98,108,101,0),619]]);
          let whitee = String.fromCharCode(101,120,116,101,110,100,101,101,0);
         soundJ.set(whitee, (whitee == String.fromCharCode(67,0) ? whitee.length : soundJ.size));
      if (soundJ.get(`${soundJ.size}`) != null) {
         soundJ = new Map([[`${soundJ.size}`, soundJ.size ^ 1]]);
      }
         soundJ = new Map([[`${soundJ.size}`, soundJ.size - soundJ.size]]);
      moduleI ^= (3 - (textQ ? 5 : 3));
   }
   while ((4.14 / (Math.max(10, tickV))) == 4.70 && !textQ) {
       let playercommonp = String.fromCharCode(121,111,117,0);
       let sellE = 0.0;
       let combinedK = String.fromCharCode(117,110,97,118,97,105,108,97,98,108,101,0);
          let hoverL = 2;
         sellE -= parseInt(`${sellE}`);
         hoverL -= hoverL;
         sellE += playercommonp.length + 1;
         playercommonp += `${parseInt(`${sellE}`)}`;
         playercommonp += `${parseInt(`${sellE}`) % (Math.max(2, 3))}`;
          let specK = String.fromCharCode(98,101,116,97,0);
          let placeholderK = 4.0;
          let rnewinterstitialN = 4;
         sellE -= 1;
         specK = `${rnewinterstitialN}`;
         placeholderK *= (String.fromCharCode(53,0) == specK ? specK.length : rnewinterstitialN);
          let mbnative6: Map<any, any> = new Map([[String.fromCharCode(99,112,117,105,110,102,111,0),259], [String.fromCharCode(99,111,111,107,95,56,95,50,54,0),663]]);
         sellE += (String.fromCharCode(104,0) == combinedK ? mbnative6.size : combinedK.length);
         sellE += 2;
          let sansM = 0.0;
         combinedK += `${combinedK.length}`;
         sansM -= parseInt(`${sansM}`) & 2;
      let currentL = 9616640.0 <= sellE;
      do {
          let showc = 4.0;
         sellE /= Math.max(4, parseInt(`${showc}`));
         if (currentL) {
            break;
         }
      } while ((5.47 >= sellE) && currentL);
      textQ = (parseInt(`${tickV}`) + securityo.length) > 69;
      break;
   }
            this.#env = new ttClockView('production');

      sportsQ *= parseFloat(`${referrera.length}`);
      tickV += ((textQ ? 4 : 4) - parseInt(`${nativeB}`));
        }

        let deviceId = await DeviceInfo.getUniqueId();

      home7.set(`${sportsQ}`, 3);
      submit7 = `${(String.fromCharCode(85,0) == spinner7 ? spinner7.length : parseInt(`${speco}`))}`;
        if (typeof deviceId !== "string") {

   while (textQ) {
       let resendi: Array<any> = [String.fromCharCode(99,111,110,116,97,105,110,101,114,0), String.fromCharCode(112,95,56,51,0)];
       let minif = 1;
       let middlewares = String.fromCharCode(116,105,112,0);
       let modityx = 3;
         resendi.push(middlewares.length * modityx);
          let detail5 = String.fromCharCode(105,110,116,114,97,102,114,97,109,101,0);
         minif += 1 >> (Math.min(5, middlewares.length));
         detail5 += `${detail5.length >> (Math.min(Math.abs(2), 5))}`;
         modityx -= modityx + middlewares.length;
         middlewares += `${modityx}`;
       let humidityL = 1.0;
      if (resendi.length <= 3) {
          let v_titled = 2;
          let baidu9: Array<any> = [19, 865, 804];
          let blackn = 4.0;
          let package_o4 = String.fromCharCode(112,114,105,110,116,102,0);
          let description_wpv = 2.0;
         resendi = [baidu9.length * parseInt(`${blackn}`)];
         v_titled += package_o4.length;
         baidu9 = [parseInt(`${description_wpv}`)];
         blackn *= parseFloat(`${3}`);
         package_o4 += `${package_o4.length / 1}`;
         description_wpv += package_o4.length;
      }
      let baiduk = String.fromCharCode(100,110,109,107,103,114,108,107,0) == middlewares;
      do {
         middlewares += `${modityx}`;
         if (baiduk) {
            break;
         }
      } while ((middlewares.endsWith(`${resendi.length}`)) && baiduk);
      let tailD = 6849669 <= resendi.length;
      do {
          let sendb = String.fromCharCode(99,111,110,100,101,110,115,101,100,0);
          let indexL = String.fromCharCode(108,115,112,108,112,99,0);
          let telegramZ = String.fromCharCode(115,119,97,116,99,104,0);
          let cornerw: Array<any> = [153, 79];
         resendi = [resendi.length ^ 3];
         sendb = `${2 + sendb.length}`;
         indexL = `${indexL.length}`;
         telegramZ += `${2 ^ telegramZ.length}`;
         cornerw.push(telegramZ.length >> (Math.min(indexL.length, 3)));
         if (tailD) {
            break;
         }
      } while (((2 ^ middlewares.length) == 4) && tailD);
          let models8 = String.fromCharCode(114,101,116,114,97,110,115,109,105,116,0);
          let window_vd_ = 4.0;
         modityx >>= Math.min(3, Math.abs(3 * parseInt(`${humidityL}`)));
         models8 += `${models8.length - parseInt(`${window_vd_}`)}`;
         window_vd_ -= parseFloat(`${1 * parseInt(`${window_vd_}`)}`);
      while (resendi.length <= 2) {
          let sigmobb = String.fromCharCode(99,111,118,97,114,105,97,110,99,101,0);
          let overlay_ = String.fromCharCode(98,108,117,114,114,97,98,108,101,0);
          let promotiong = 0;
         minif <<= Math.min(2, Math.abs(2));
         sigmobb = `${promotiong}`;
         overlay_ += `${overlay_.length}`;
         promotiong &= promotiong;
         break;
      }
      while (minif > resendi.length) {
         minif <<= Math.min(Math.abs(minif ^ 2), 2);
         break;
      }
         middlewares += `${minif}`;
      referrera = "3";
      break;
   }
   while (5 >= (3 >> (Math.min(2, Math.abs(home7.size))))) {
       let reactu = 2;
      while (reactu < reactu) {
          let castingw = 5;
          let videojs9 = String.fromCharCode(119,115,97,117,100,0);
         reactu ^= 3 * reactu;
         castingw ^= videojs9.length;
         videojs9 = `${castingw | videojs9.length}`;
         break;
      }
          let stylesE = false;
          let spec1 = true;
          let stats4 = true;
         reactu <<= Math.min(1, Math.abs(reactu));
         stylesE = !spec1;
         stats4 = (!stylesE ? !spec1 : stylesE);
       let orangev = String.fromCharCode(109,117,120,0);
      home7.set(`${windx}`, 1 % (Math.max(parseInt(`${speco}`), 7)));
      break;
   }
            deviceId = JSON.stringify(deviceId);
        }

        this.#apiInstance = axios.create({
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
            },
            validateStatus: function () {
                return true;
            },
        });

   let rewardp = 8291857 >= securityo.length;
   do {
      securityo = [securityo.length >> (Math.min(1, Math.abs(parseInt(`${speco}`))))];
      if (rewardp) {
         break;
      }
   } while ((securityo.includes(moduleI)) && rewardp);
      home7.set(`${sportsQ}`, referrera.length & 3);

        this.#apiInstance.interceptors.request.use(async (config) => {
            if (this.bearerToken === undefined) {

      sportsQ -= parseFloat(`${3}`);
   for (let t = 0; t < 2; t++) {
      referrera = `${(blackl == String.fromCharCode(54,0) ? blackl.length : parseInt(`${windx}`))}`;
   }
                const token = await this.regetToken();

   let sporto = windx >= 8773834.0;
   do {
       let orientation1: Map<any, any> = new Map([[String.fromCharCode(111,112,117,115,108,97,99,105,110,103,0),false ], [String.fromCharCode(105,110,112,117,116,116,101,109,0),true ]]);
       let carouself = 2.0;
       let screens = false;
          let rightL = String.fromCharCode(114,101,97,100,105,110,103,0);
          let nativeT: Map<any, any> = new Map([[String.fromCharCode(114,101,113,117,101,115,116,101,114,115,0),414], [String.fromCharCode(109,117,108,116,105,112,108,101,120,101,100,0),824], [String.fromCharCode(97,95,49,54,95,114,101,115,101,101,107,0),523]]);
         orientation1.set(`${carouself}`, parseInt(`${carouself}`) & rightL.length);
         rightL = `${nativeT.size % (Math.max(6, nativeT.size))}`;
      while ((carouself / 3.59) == 4.54) {
         screens = carouself <= 67.68;
         break;
      }
       let lineJ = 3.0;
       let switch_mj2 = 5.0;
      while (5.20 <= lineJ) {
          let mbnativeadvancedM = 0.0;
          let icond = 3.0;
          let appleL = 2.0;
          let readY = 1.0;
         carouself *= parseFloat(`${2}`);
         mbnativeadvancedM -= parseFloat(`${parseInt(`${icond}`) / (Math.max(parseInt(`${mbnativeadvancedM}`), 7))}`);
         icond -= parseFloat(`${parseInt(`${mbnativeadvancedM}`) << (Math.min(5, Math.abs(parseInt(`${readY}`))))}`);
         appleL /= Math.max(2, parseFloat(`${parseInt(`${appleL}`) % 2}`));
         readY -= parseInt(`${icond}`);
         break;
      }
          let formw = 2.0;
         switch_mj2 *= parseFloat(`${parseInt(`${formw}`)}`);
       let emojia = String.fromCharCode(100,101,116,101,114,109,105,110,101,100,0);
         switch_mj2 += (parseFloat(`${(screens ? 1 : 1) * 2}`));
          let logini = String.fromCharCode(115,116,114,103,108,111,98,0);
         screens = !screens;
         logini += `${logini.length + 3}`;
      if (4.73 >= (switch_mj2 - 3.78) || 3.78 >= (parseFloat(`${orientation1.size}`) - switch_mj2)) {
         switch_mj2 /= Math.max(5, parseFloat(`${parseInt(`${switch_mj2}`) ^ 2}`));
      }
      windx /= Math.max((parseFloat(`${(textQ ? 5 : 1) & parseInt(`${speco}`)}`)), 3);
      if (sporto) {
         break;
      }
   } while (((windx / (Math.max(4.27, 7))) >= 3.4 || (windx - 4.27) >= 5.70) && sporto);
   if (4.46 > (parseFloat(`${spinner7.length}`) + windx) && 1 > (spinner7.length & 5)) {
      spinner7 += `${referrera.length}`;
   }
                if (token) this.bearerToken = token;
            }

            

       let volumeL = 5;
       let thailand_ = true;
      while (volumeL < 4) {
         volumeL >>= Math.min(Math.abs(volumeL % 2), 4);
         break;
      }
      let package__nJ = 9581743 <= volumeL;
      do {
         volumeL -= ((thailand_ ? 1 : 4) & volumeL);
         if (package__nJ) {
            break;
         }
      } while (((1 * volumeL) < 2) && package__nJ);
      let soundz = volumeL <= 5955683;
      do {
          let pauseO = String.fromCharCode(99,111,101,102,102,105,99,105,101,110,116,0);
          let with_zZ = String.fromCharCode(99,98,114,116,0);
          let agreementr = String.fromCharCode(115,111,108,118,101,100,0);
          let assist9 = false;
         volumeL ^= (agreementr == String.fromCharCode(99,0) ? pauseO.length : agreementr.length);
         pauseO += "1";
         with_zZ = `${((assist9 ? 3 : 2) ^ 1)}`;
         if (soundz) {
            break;
         }
      } while ((5 <= volumeL || 4 <= (volumeL ^ 5)) && soundz);
      while (thailand_) {
         thailand_ = thailand_ && 52 >= volumeL;
         break;
      }
      while (thailand_ || 5 >= (2 >> (Math.min(2, Math.abs(volumeL))))) {
         volumeL <<= Math.min(1, Math.abs(volumeL));
         break;
      }
         thailand_ = 34 > volumeL;
      securityo.push(3 >> (Math.min(5, spinner7.length)));
      textQ = speco >= 30.87;
            if (config.url?.includes(this.#env.apiUrl)) {
                config.headers['Authorization'] = `Bearer ${this.bearerToken}`;

   if (!blackl.includes(`${speco}`)) {
      blackl = `${(spinner7 == String.fromCharCode(53,0) ? spinner7.length : blackl.length)}`;
   }
   for (let r = 0; r < 1; r++) {
      nativeB -= home7.size;
   }
                config.headers['Device-Id'] = deviceId;

   if ((referrera.length | moduleI) >= 1) {
      moduleI /= Math.max(4, home7.size);
   }
      referrera = `${(submit7 == String.fromCharCode(116,0) ? submit7.length : spinner7.length)}`;
                config.headers['Platform-OS'] = Platform.OS.toUpperCase();

      blackl = `${parseInt(`${sportsQ}`) >> (Math.min(Math.abs(parseInt(`${tickV}`)), 4))}`;
   while (2.18 > (sportsQ + parseFloat(`${blackl.length}`))) {
      blackl = `${((textQ ? 5 : 2) - securityo.length)}`;
      break;
   }
                config.headers['App-Channel'] = UMENG_CHANNEL;

      submit7 += `${home7.size + 2}`;
   for (let q = 0; q < 3; q++) {
      securityo.push(parseInt(`${windx}`));
   }
                config.headers['App-Name'] = encodeURIComponent(APP_NAME_CONST) + '-' + Platform.OS.toUpperCase();

      textQ = (((textQ ? referrera.length : 98) & referrera.length) > 98);
   while ((spinner7.length - 1) >= 2 || (speco * parseFloat(`${spinner7.length}`)) >= 1.25) {
      spinner7 = `${parseInt(`${windx}`)}`;
      break;
   }
                config.headers['IP-Address'] = this.#getIpAddress();

      tickV /= Math.max(spinner7.length, 5);
   for (let m = 0; m < 3; m++) {
      spinner7 += `${blackl.length + parseInt(`${tickV}`)}`;
   }
                config.headers['App-Version'] = APP_VERSION;
            }

            return config;
        });
    }

    static get = (endpoint: string, {
        query,
        showErrorToast = false,
        isFullUrl = false,
    }: {
        query?: { [key: string]: any },
        showErrorToast?: boolean,
        isFullUrl?: boolean,
    } = {}): Promise<ttAnalyticsCast> => {
        return this.#sendApiRequest(endpoint, {
            method: 'get',
            query,
            showErrorToast,
            isFullUrl,
        });
    }

    static post = (endpoint: string, {
        body,
        query,
        showErrorToast = false,
        isFullUrl = false,
    }: {
        body?: { [key: string]: any },
        query?: { [key: string]: any },
        showErrorToast?: boolean,
        isFullUrl?: boolean,
    } = {}): Promise<ttAnalyticsCast> => {
        return this.#sendApiRequest(endpoint, {
            method: 'post',
            body,
            query,
            showErrorToast,
            isFullUrl,
        });
    }

    static put = (endpoint: string, {
        body,
        query,
        showErrorToast = false,
        isFullUrl = false,
    }: {
        body?: { [key: string]: any },
        query?: { [key: string]: any },
        showErrorToast?: boolean,
        isFullUrl?: boolean,
    } = {}): Promise<ttAnalyticsCast> => {
        return this.#sendApiRequest(endpoint, {
            method: 'put',
            body,
            query,
            showErrorToast,
            isFullUrl,
        });
    }

    static patch = (endpoint: string, {
        body,
        query,
        showErrorToast = false,
        isFullUrl = false,
    }: {
        body?: { [key: string]: any },
        query?: { [key: string]: any },
        showErrorToast?: boolean,
        isFullUrl?: boolean,
    } = {}): Promise<ttAnalyticsCast> => {
        return this.#sendApiRequest(endpoint, {
            method: 'patch',
            body,
            query,
            showErrorToast,
            isFullUrl,
        });
    }

    static delete = (endpoint: string, {
        query,
        showErrorToast = false,
        isFullUrl = false,
    }: {
        query?: { [key: string]: any },
        showErrorToast?: boolean,
        isFullUrl?: boolean,
    } = {}): Promise<ttAnalyticsCast> => {
        return this.#sendApiRequest(endpoint, {
            method: 'delete',
            query,
            showErrorToast,
            isFullUrl,
        });
    }

    static #sendApiRequest = async (endpoint: string, {
        method = 'post',
        body,
        query,
        showErrorToast = false,
        isFullUrl = false,
    }: {
        method?: string,
        body?: { [key: string]: any },
        query?: { [key: string]: any },
        showErrorToast?: boolean,
        isFullUrl?: boolean,
    }): Promise<ttAnalyticsCast> => {
        if (this.#apiInstance === null) {
            await this.init();
        }

        const url = isFullUrl ? endpoint : `${this.#env.apiUrl}/${endpoint}`;

        let response: AxiosResponse;

        switch (method.toLowerCase()) {
            case 'get':
                {
                    response = await this.#apiInstance!.get(url, {
                        params: query,
                    });
                    break;
                }
            case 'put':
                {
                    response = await this.#apiInstance!.put(url, body, {
                        params: query,
                    });
                    break;
                }
            case 'patch':
                {
                    response = await this.#apiInstance!.patch(url, body, {
                        params: query,
                    });
                    break;
                }
            case 'delete':
                {
                    response = await this.#apiInstance!.delete(url, {
                        params: query,
                    });
                    break;
                }
            case 'post':
            default:
                {
                    response = await this.#apiInstance!.post(url, body, {
                        params: query,
                    });
                }
        }

        const result: ttAnalyticsCast = await this.#responseHandle(response, { isFullUrl });

        if (result.success == false && showErrorToast == true) {
            ttGray.showToast(result.message);
        }

        return result;
    }

    static #responseHandle = async (response: AxiosResponse, { isFullUrl = false }: { isFullUrl?: boolean, }): Promise<ttAnalyticsCast> => {
        const responseBody: any = response.data;
        let result: { [key: string]: any } | undefined;
        let checker: Object | undefined;

        if (responseBody instanceof Object && !Array.isArray(responseBody)) {
            result = responseBody;
            checker = result as Object;
        }

        switch (response.status) {
            case 400:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http400),
                });
            case 401:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http401),
                });
            case 403:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http403),
                });
            case 404:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http404),
                });
            case 405:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http405),
                });
            case 500:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http500),
                });
            case 502:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http502),
                });
            case 503:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http503),
                });
            case 505:
                return new ttAnalyticsCast({
                    statusCode: response.status,
                    success: false,
                    errors: result?.errors,
                    message: result?.message ?? ttUnselectedMatch.get(ttIncidentPhilippines.http505),
                });
            default:
                if (400 <= response.status && response.status <= 599) {
                    if (result !== undefined &&
                        checker!.hasOwnProperty('code') &&
                        result['code'] === -1
                    ) {
                        return new ttAnalyticsCast({
                            statusCode: response.status ?? 400,
                            success: false,
                            message: result?.message ?? '',
                            data: result?.data,
                            errors: result?.errors,
                        });
                    }
                }
        }

        if (result !== undefined && checker!.hasOwnProperty('data')) {
            return new ttAnalyticsCast({
                statusCode: response.status ?? 200,
                success: true,
                message: result?.message ?? '',
                data: result?.data,
            });
        }

        if (result !== undefined && isFullUrl) {
            return new ttAnalyticsCast({
                statusCode: response.status ?? 200,
                success: true,
                message: '',
                data: result,
            });
        }

        return new ttAnalyticsCast({
            statusCode: response.status ?? 200,
            success: true,
            message: result?.message ?? '',
        });
    }

    static regetToken = async (): Promise<string | null> => {
        this.bearerToken = await AsyncStorage.getItem("bearerToken") ?? '';
        return this.bearerToken;
    }

    static #getIpAddress = (): string => {
        return ttConfigRecommendation.instance.ip;
    }
}

class ttAnalyticsCast {
    statusCode: number;
    data: undefined | any | any[];
    errors: undefined | any | any[];
    success: boolean;
    message: string;

    constructor({
        statusCode,
        data,
        errors,
        success = true,
        message = '',
    }: {
        statusCode: number,
        data?: { [key: string]: any } | { [key: string]: any }[],
        errors?: { [key: string]: any } | { [key: string]: any }[],
        success?: boolean,
        message?: string,
    }) {
        this.statusCode = statusCode;
        this.data = data;
        this.errors = errors;
        this.success = success;
        this.message = message;
    }
}
