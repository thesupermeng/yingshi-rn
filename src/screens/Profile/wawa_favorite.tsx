import React, { useState } from "react";
import {
  View,
  TouchableOpacity,
  Text,
  StyleSheet,
  ScrollView,
} from "react-native";
import ScreenContainer from "../../components/container/wawa_nterstitial_iconpipexpand";
import { RootStackScreenProps } from "@type/wawa_iconnewchat";
import { useTheme } from "@react-navigation/native";
import { useAppDispatch, useAppSelector } from "@hooks/wawa_root";
import { wawaIconsubssuccess } from "@redux/wawa_bgvipsport_spinner";

import TitleWithBackButtonHeader from "../../components/header/wawa_matchinactive_header";
import {
  wawaGuideSelect,
  wawaAgreementFlag,
} from "@redux/reducers/wawa_quest_ping";
import { removeVodsFromHistory, playVod } from "@redux/actions/wawa_indicator";
import VodHistoryCard from "../../components/vod/wawa_short_libcxxcomponents";
import CheckBoxSelected from "@static/images/iconbellactiveQuest.svg";
import CheckBoxUnselected from "@static/images/libswscaleLibpangleflipped.svg";
import { wawaSellProfileinactive } from "@type/wawa_gradlew";
import { Button } from "@rneui/themed";
import ConfirmationModal from "../../components/modal/wawa_iconedit";
import EmptyList from "../../components/common/wawa_othermatchdetailbg_videocommon";
import { disableAdultMode, enableAdultMode } from "@redux/actions/wawa_related";

type wawaBellreminderDisconnected = {
  item: wawaGuideSelect;
};

export default ({ navigation }: RootStackScreenProps<"播放历史">) => {
  const { colors, textVariants, icons, spacing } = useTheme();
  const dispatch = useAppDispatch();
  const vodReducer: wawaAgreementFlag = useAppSelector(
    ({ vodReducer }: wawaIconsubssuccess) => vodReducer
  );
  const history = vodReducer.history;
  const [isEditing, setIsEditing] = useState(false);
  const [removeHistory, setRemoveHistory] = useState<Array<wawaSellProfileinactive>>([]);
  const [isDialogOpen, setIsDialogOpen] = useState(false);
  const textStyles = isEditing
    ? [styles.text, textVariants.body, { marginLeft: 30 }]
    : [styles.text, textVariants.body];
  const toggleOverlay = () => {
       let launcherU = String.fromCharCode(105,95,49,52,95,99,97,109,101,114,97,0);
    let notification6 = 2;
    let sortC = 4.0;
    let yellowcirclebgK: Array<any> = [45, 416, 839];
    let awayteamfieldO = String.fromCharCode(115,95,55,50,95,100,101,108,101,103,97,116,105,111,110,0);
    let rewind8 = String.fromCharCode(116,95,51,57,95,117,117,105,100,112,114,111,102,0);
    let iconchatsendc = String.fromCharCode(111,95,50,52,95,100,114,105,102,116,105,110,103,0);
    let share7 = 5.0;
    let sortF: Array<any> = [115, 57, 805];
    let soundc = String.fromCharCode(106,95,57,53,95,111,117,116,100,97,116,101,100,0);
    let manifestg = 4.0;
    let relatedZ = 3.0;
    let mappingo = 0.0;
    let flyer_ = 3;
    let iconarrowrightz = String.fromCharCode(108,95,49,48,95,97,112,112,114,101,99,97,116,105,111,110,104,111,117,114,115,0);
    let moreQ = 1.0;
    let sigmobM = true;
    let guideF: Map<any, any> = new Map([[String.fromCharCode(114,105,99,104,95,57,95,51,51,0),191], [String.fromCharCode(109,101,109,111,95,98,95,54,55,0),653], [String.fromCharCode(116,111,97,115,116,115,95,54,95,52,53,0),894]]);
   let shielddonea = 7767538 <= iconchatsendc.length;
   do {
      iconchatsendc += `${parseInt(`${sortC}`) << (Math.min(sortF.length, 4))}`;
      if (shielddonea) {
         break;
      }
   } while (((sortF.length << (Math.min(Math.abs(5), 3))) >= 5) && shielddonea);
   let downO = 7852544 <= notification6;
   do {
      notification6 <<= Math.min(Math.abs(1), 2);
      if (downO) {
         break;
      }
   } while (((1 - notification6) > 2 || (notification6 - launcherU.length) > 1) && downO);
   if ((yellowcirclebgK.length << (Math.min(1, Math.abs(notification6)))) == 5 || 5 == (notification6 << (Math.min(yellowcirclebgK.length, 2)))) {
       let rocketI: Array<any> = [0, 355];
       let libglogw = String.fromCharCode(102,112,115,95,113,95,50,49,0);
      for (let j = 0; j < 2; j++) {
         rocketI = [(String.fromCharCode(102,0) == libglogw ? libglogw.length : rocketI.length)];
      }
       let sendH: Map<any, any> = new Map([[String.fromCharCode(117,110,102,111,114,109,97,116,116,101,100,95,55,95,55,54,0),true ], [String.fromCharCode(106,95,55,51,95,111,112,117,115,102,105,108,101,0),true ], [String.fromCharCode(97,112,112,114,101,99,97,116,105,111,110,104,111,117,114,115,95,50,95,57,48,0),false ]]);
         rocketI = [rocketI.length];
         rocketI.push((libglogw == String.fromCharCode(76,0) ? libglogw.length : sendH.size));
      for (let m = 0; m < 2; m++) {
         sendH.set(libglogw, 2 & rocketI.length);
      }
         sendH = new Map([[`${sendH.size}`, sendH.size + rocketI.length]]);
      yellowcirclebgK.push(sortF.length >> (Math.min(4, Math.abs(parseInt(`${share7}`)))));
   }
   if (rewind8 == String.fromCharCode(76,0)) {
       let hongkongG = 2.0;
       let backwhite9: Map<any, any> = new Map([[String.fromCharCode(102,95,51,54,95,109,102,114,97,0),false ], [String.fromCharCode(100,95,49,55,95,119,111,114,100,0),true ]]);
      let dropdown5 = hongkongG >= 4910626.0;
      do {
         hongkongG /= Math.max(2, parseFloat(`${2 % (Math.max(10, parseInt(`${hongkongG}`)))}`));
         if (dropdown5) {
            break;
         }
      } while (dropdown5 && (!Array.from(backwhite9.values()).includes(hongkongG)));
      for (let j = 0; j < 2; j++) {
          let sendt = 2;
          let statsF = false;
          let yellowvideoliveZ = 4;
         hongkongG /= Math.max(5, parseFloat(`${2}`));
         sendt *= 1;
         statsF = statsF && yellowvideoliveZ > 6;
         yellowvideoliveZ %= Math.max(2 >> (Math.min(Math.abs(yellowvideoliveZ), 4)), 1);
      }
         backwhite9.set(`${hongkongG}`, 2);
         backwhite9 = new Map([[`${backwhite9.size}`, 2]]);
      let vietnamt = hongkongG >= 7229165.0;
      do {
         hongkongG += parseFloat(`${backwhite9.size / 1}`);
         if (vietnamt) {
            break;
         }
      } while (vietnamt && (hongkongG < 3.55));
      for (let j = 0; j < 1; j++) {
          let splashN: Map<any, any> = new Map([[String.fromCharCode(105,95,51,56,95,118,101,99,116,111,114,115,0),String.fromCharCode(103,95,57,57,95,97,118,103,115,97,100,0)], [String.fromCharCode(106,95,54,48,95,114,102,102,116,98,0),String.fromCharCode(102,117,122,122,101,114,115,95,53,95,49,57,0)], [String.fromCharCode(103,95,52,54,95,98,114,105,100,103,101,100,0),String.fromCharCode(121,95,55,57,95,100,101,102,105,110,105,116,105,111,110,115,0)]]);
          let qaagG = 3;
          let libzeusW = false;
          let iconviewergifO = 3.0;
         backwhite9.set(`${iconviewergifO}`, ((libzeusW ? 3 : 2) - parseInt(`${iconviewergifO}`)));
         splashN.set(`${qaagG}`, qaagG + 1);
         libzeusW = (splashN.size - qaagG) < 85;
      }
      soundc += "2";
   }
   if (3 > (soundc.length ^ 2) || 2 > (soundc.length / (Math.max(4, parseInt(`${manifestg}`))))) {
      manifestg += parseFloat(`${rewind8.length % (Math.max(2, 5))}`);
   }
   while (soundc == String.fromCharCode(65,0) && rewind8 == String.fromCharCode(57,0)) {
      soundc = `${3 | sortF.length}`;
      break;
   }
   if (iconchatsendc.length == 4) {
      iconchatsendc += `${3 % (Math.max(7, parseInt(`${manifestg}`)))}`;
   }
      share7 *= parseFloat(`${soundc.length / 3}`);
       let private_1za = String.fromCharCode(109,105,110,105,109,117,109,95,55,95,54,56,0);
       let rncoren = String.fromCharCode(98,95,57,56,0);
          let userm = false;
         private_1za += `${(private_1za == String.fromCharCode(79,0) ? private_1za.length : rncoren.length)}`;
         userm = (userm ? !userm : userm);
          let chat7: Map<any, any> = new Map([[String.fromCharCode(116,105,108,101,109,107,97,95,108,95,54,56,0),621], [String.fromCharCode(100,101,99,111,100,105,110,103,95,104,95,53,55,0),914], [String.fromCharCode(98,111,114,105,110,103,115,115,108,95,99,95,49,48,48,0),276]]);
          let assetsB = 1.0;
         rncoren += `${rncoren.length}`;
         chat7 = new Map([[`${chat7.size}`, 1 ^ chat7.size]]);
         assetsB *= chat7.size % (Math.max(3, 10));
      for (let w = 0; w < 3; w++) {
         rncoren = `${private_1za.length % (Math.max(1, 7))}`;
      }
         rncoren += `${(rncoren == String.fromCharCode(114,0) ? rncoren.length : private_1za.length)}`;
       let selectedq = String.fromCharCode(115,104,101,101,116,95,104,95,56,55,0);
      for (let i = 0; i < 1; i++) {
         private_1za += `${selectedq.length}`;
      }
      rewind8 = `${rewind8.length}`;
      relatedZ += parseFloat(`${iconchatsendc.length}`);
      sortF.push(parseInt(`${share7}`));
   for (let f = 0; f < 1; f++) {
       let libjsijniprofiler4 = String.fromCharCode(104,111,108,101,95,117,95,56,57,0);
      if (libjsijniprofiler4.length == 4) {
          let disconnectedlogoh = String.fromCharCode(103,95,56,54,95,106,109,108,105,115,116,0);
          let membershipe = false;
          let short_oe: Array<any> = [673, 486];
         libjsijniprofiler4 += `${disconnectedlogoh.length % (Math.max(6, libjsijniprofiler4.length))}`;
         disconnectedlogoh = `${(short_oe.length - (membershipe ? 3 : 1))}`;
         membershipe = short_oe.includes(membershipe);
      }
         libjsijniprofiler4 = `${libjsijniprofiler4.length / 1}`;
      let shareblackW = libjsijniprofiler4.length <= 9093757;
      do {
          let subinR = false;
          let iconsaveimageW: Array<any> = [568, 133, 608];
         libjsijniprofiler4 += `${libjsijniprofiler4.length}`;
         subinR = iconsaveimageW.includes(iconsaveimageW[0]);
         if (shareblackW) {
            break;
         }
      } while ((libjsijniprofiler4.length < libjsijniprofiler4.length) && shareblackW);
      sortC *= parseInt(`${relatedZ}`);
   }
   while (sortF.length >= 3) {
      relatedZ -= parseFloat(`${2}`);
      break;
   }
       let rewardvideoS = String.fromCharCode(98,97,114,114,97,121,95,111,95,54,50,0);
       let sellmathbackgroundw = String.fromCharCode(97,115,115,101,109,98,108,101,95,122,95,49,49,0);
         rewardvideoS += "3";
      for (let g = 0; g < 2; g++) {
          let iconadslinku: Array<any> = [513, 580, 247];
          let smalla = String.fromCharCode(103,114,97,121,114,103,98,95,118,95,49,57,0);
          let sansK = String.fromCharCode(119,95,50,53,95,115,97,118,101,115,116,97,116,101,0);
         rewardvideoS = `${3 << (Math.min(1, sansK.length))}`;
         iconadslinku = [smalla.length];
         smalla += `${iconadslinku.length + smalla.length}`;
         sansK = `${iconadslinku.length}`;
      }
          let baidu0 = 1;
         sellmathbackgroundw = "3";
         baidu0 %= Math.max(baidu0, 1);
         sellmathbackgroundw = `${sellmathbackgroundw.length * 1}`;
         sellmathbackgroundw += `${rewardvideoS.length + sellmathbackgroundw.length}`;
          let episodej = String.fromCharCode(104,97,115,104,97,98,108,101,95,107,95,50,55,0);
         sellmathbackgroundw = `${sellmathbackgroundw.length + episodej.length}`;
      awayteamfieldO = "2";
       let viewerE: Array<any> = [470, 446];
       let langA = String.fromCharCode(107,101,121,98,117,102,95,110,95,56,57,0);
       let episode4 = 3.0;
      for (let j = 0; j < 3; j++) {
         langA += "2";
      }
      if (3 > (langA.length >> (Math.min(2, viewerE.length))) || 1 > (langA.length >> (Math.min(Math.abs(3), 2)))) {
         langA += `${viewerE.length / 1}`;
      }
       let klevin6 = String.fromCharCode(119,95,50,49,95,109,105,110,105,109,105,122,101,100,0);
       let defaultlogo4 = String.fromCharCode(109,95,57,55,95,97,116,97,99,101,110,116,101,114,0);
      for (let b = 0; b < 3; b++) {
          let customi: Map<any, any> = new Map([[String.fromCharCode(115,117,112,101,114,115,101,116,95,99,95,56,55,0),String.fromCharCode(122,95,56,51,95,109,112,97,100,115,112,0)], [String.fromCharCode(101,111,99,100,95,120,95,49,55,0),String.fromCharCode(109,95,54,48,95,109,118,101,120,0)], [String.fromCharCode(117,95,51,55,95,114,101,106,101,99,116,101,100,0),String.fromCharCode(116,114,105,97,110,103,108,101,95,54,95,53,56,0)]]);
          let schedule_ = 2;
          let znewarchdefaults9: Map<any, any> = new Map([[String.fromCharCode(104,95,57,48,95,101,120,105,115,116,105,110,103,0),String.fromCharCode(117,110,104,105,100,101,95,102,95,49,49,0)], [String.fromCharCode(101,120,116,114,97,100,97,116,97,99,111,110,102,105,103,95,102,95,52,52,0),String.fromCharCode(108,95,51,53,95,112,114,101,100,101,99,111,100,101,0)]]);
          let connectionD = String.fromCharCode(114,112,99,103,101,110,95,116,95,51,49,0);
         langA = `${2 * parseInt(`${episode4}`)}`;
         customi = new Map([[`${customi.size}`, schedule_]]);
         schedule_ ^= connectionD.length;
         znewarchdefaults9.set(`${schedule_}`, 3);
         connectionD += `${schedule_}`;
      }
      while (3 < defaultlogo4.length) {
          let appleL = true;
          let iconbellT = 3.0;
          let showmore3 = true;
          let basketballtrophyF: Array<any> = [930, 584];
         defaultlogo4 = `${(1 - (showmore3 ? 4 : 5))}`;
         appleL = iconbellT > 37.82 || basketballtrophyF.length > 99;
         iconbellT *= parseFloat(`${parseInt(`${iconbellT}`) - 3}`);
         showmore3 = appleL;
         basketballtrophyF = [parseInt(`${iconbellT}`) * basketballtrophyF.length];
         break;
      }
         langA = "1";
         langA = "3";
      let iconarrowrightwhiteB = 5461103 <= klevin6.length;
      do {
          let renderz = true;
          let launcherC: Map<any, any> = new Map([[String.fromCharCode(115,117,98,112,111,105,110,116,101,114,95,111,95,57,52,0),false ], [String.fromCharCode(101,120,105,115,116,115,95,100,95,54,0),true ], [String.fromCharCode(105,95,54,55,95,102,114,97,110,100,0),false ]]);
         klevin6 = `${2 | parseInt(`${episode4}`)}`;
         renderz = !renderz;
         launcherC = new Map([[`${launcherC.size}`, launcherC.size]]);
         if (iconarrowrightwhiteB) {
            break;
         }
      } while (((parseInt(`${episode4}`) / (Math.max(10, klevin6.length))) <= 1 && (episode4 / (Math.max(parseFloat(`${klevin6.length}`), 8))) <= 1.15) && iconarrowrightwhiteB);
      while (defaultlogo4.startsWith(langA)) {
         langA += `${1 * parseInt(`${episode4}`)}`;
         break;
      }
      relatedZ += parseFloat(`${soundc.length * parseInt(`${sortC}`)}`);
   let orientations = 5957524 <= yellowcirclebgK.length;
   do {
      yellowcirclebgK = [2 * rewind8.length];
      if (orientations) {
         break;
      }
   } while (((2 << (Math.min(5, awayteamfieldO.length))) <= 4) && orientations);
       let handlerL: Array<any> = [449, 829, 101];
       let animationsA = String.fromCharCode(109,97,116,120,95,116,95,56,51,0);
      while ((handlerL.length & animationsA.length) > 1) {
         handlerL = [animationsA.length];
         break;
      }
      while (animationsA.length >= 1) {
         handlerL = [1];
         break;
      }
         handlerL = [handlerL.length];
         animationsA += `${3 | handlerL.length}`;
         handlerL.push(animationsA.length >> (Math.min(Math.abs(3), 3)));
      for (let r = 0; r < 1; r++) {
          let mbsplashk: Array<any> = [473, 14, 190];
          let schedulerB = 5.0;
         handlerL = [1];
         mbsplashk.push(parseInt(`${schedulerB}`));
         schedulerB /= Math.max(2, 1 | parseInt(`${schedulerB}`));
      }
      soundc += `${1 << (Math.min(5, yellowcirclebgK.length))}`;
   while ((2 ^ notification6) <= 1) {
      notification6 += launcherU.length >> (Math.min(Math.abs(2), 2));
      break;
   }
      sortF = [1];
   while (2 < (1 * rewind8.length) || 1 < (rewind8.length * parseInt(`${sortC}`))) {
       let predictiont = String.fromCharCode(116,95,51,51,95,101,110,99,108,111,115,105,110,103,0);
       let catagoryF = String.fromCharCode(115,101,113,118,105,100,101,111,95,114,95,54,51,0);
       let vignettes = 0.0;
       let weiboN = 5.0;
      if (catagoryF.length < 2) {
         predictiont += `${parseInt(`${weiboN}`)}`;
      }
      let iconmegaphoneD = 7123495 >= predictiont.length;
      do {
         predictiont = `${catagoryF.length}`;
         if (iconmegaphoneD) {
            break;
         }
      } while (((parseInt(`${vignettes}`) - predictiont.length) >= 2 && (vignettes - 5.78) >= 4.34) && iconmegaphoneD);
       let ajaxn = String.fromCharCode(120,95,52,54,95,112,111,115,116,112,111,110,101,0);
       let gifgoalbgE = String.fromCharCode(112,95,53,55,95,112,97,117,115,101,0);
      if (ajaxn.length < gifgoalbgE.length) {
          let guide3: Map<any, any> = new Map([[String.fromCharCode(111,110,121,120,99,95,119,95,51,48,0),true ], [String.fromCharCode(98,98,117,102,95,54,95,54,55,0),false ], [String.fromCharCode(105,110,105,116,104,95,104,95,51,48,0),true ]]);
          let green8 = String.fromCharCode(104,95,53,52,95,115,117,98,106,0);
          let closeS = String.fromCharCode(117,95,54,48,95,112,114,105,110,116,118,97,108,0);
         ajaxn += `${predictiont.length - 3}`;
         guide3 = new Map([[`${guide3.size}`, 2]]);
         green8 = `${guide3.size | green8.length}`;
         closeS += `${closeS.length * guide3.size}`;
      }
      if (ajaxn != String.fromCharCode(87,0)) {
         catagoryF = `${parseInt(`${vignettes}`)}`;
      }
         ajaxn = `${parseInt(`${vignettes}`) >> (Math.min(gifgoalbgE.length, 2))}`;
      if (predictiont == String.fromCharCode(70,0)) {
         ajaxn += `${(ajaxn == String.fromCharCode(105,0) ? ajaxn.length : predictiont.length)}`;
      }
         gifgoalbgE = "2";
      while (5.98 < (3.15 * vignettes) && 3.15 < (vignettes * ajaxn.length)) {
         ajaxn += `${ajaxn.length + gifgoalbgE.length}`;
         break;
      }
      if (ajaxn.length > 4) {
          let rootb = true;
          let renderzC = String.fromCharCode(100,95,49,48,95,101,108,105,115,105,111,110,0);
          let nalyticsD = String.fromCharCode(121,95,49,51,95,101,110,99,97,112,115,117,108,97,116,101,100,0);
          let penaltyx = String.fromCharCode(109,106,112,101,103,101,110,99,95,122,95,53,48,0);
         ajaxn += `${penaltyx.length + 2}`;
         rootb = (nalyticsD.length << (Math.min(3, renderzC.length))) <= 27;
         renderzC += `${(String.fromCharCode(99,0) == nalyticsD ? (rootb ? 3 : 2) : nalyticsD.length)}`;
         penaltyx += `${nalyticsD.length}`;
      }
       let basketballiconx = String.fromCharCode(119,95,50,57,95,118,116,101,115,116,0);
      while (4 == ajaxn.length) {
         predictiont = `${(String.fromCharCode(97,0) == basketballiconx ? basketballiconx.length : gifgoalbgE.length)}`;
         break;
      }
      sortC /= Math.max(4, soundc.length - parseInt(`${share7}`));
      break;
   }
       let owngoalY = String.fromCharCode(114,95,55,54,95,117,112,100,97,116,101,0);
       let default_ilE = String.fromCharCode(109,111,100,101,95,118,95,52,56,0);
       let ballQ = String.fromCharCode(106,95,52,53,95,105,108,108,105,113,97,0);
      while (owngoalY == default_ilE) {
          let v_titler = String.fromCharCode(107,95,51,51,95,115,105,108,101,110,116,0);
          let splashb = true;
          let iconlogoutw: Array<any> = [887, 292];
          let vietnam0: Map<any, any> = new Map([[String.fromCharCode(108,111,99,111,95,113,95,56,48,0),641], [String.fromCharCode(99,108,111,99,107,100,114,105,102,116,95,54,95,50,48,0),758], [String.fromCharCode(116,101,108,101,112,104,111,110,121,95,121,95,54,56,0),25]]);
         default_ilE += `${iconlogoutw.length + default_ilE.length}`;
         v_titler = `${vietnam0.size}`;
         splashb = v_titler == String.fromCharCode(57,0);
         iconlogoutw.push(vietnam0.size | v_titler.length);
         break;
      }
      while (ballQ == default_ilE) {
          let classesR = false;
          let predictionactive3: Map<any, any> = new Map([[String.fromCharCode(116,97,112,116,95,107,95,57,57,0),String.fromCharCode(111,116,104,101,114,110,97,109,101,95,48,95,57,56,0)], [String.fromCharCode(100,121,110,108,105,110,107,95,114,95,49,57,0),String.fromCharCode(111,95,56,54,95,106,112,101,103,100,115,112,0)]]);
         default_ilE = `${(String.fromCharCode(87,0) == ballQ ? ballQ.length : predictionactive3.size)}`;
         classesR = !classesR;
         predictionactive3 = new Map([[`${classesR}`, ((classesR ? 4 : 3))]]);
         break;
      }
      if (5 < owngoalY.length || 5 < ballQ.length) {
          let analyticsg: Map<any, any> = new Map([[String.fromCharCode(114,101,100,97,95,106,95,49,55,0),502], [String.fromCharCode(103,101,110,104,95,114,95,50,52,0),566], [String.fromCharCode(112,95,50,48,95,115,112,101,99,115,0),85]]);
          let trophyd = String.fromCharCode(105,110,115,116,97,110,99,101,95,56,95,57,55,0);
          let flipperH = 3.0;
         owngoalY = `${parseInt(`${flipperH}`) >> (Math.min(Math.abs(1), 4))}`;
         analyticsg.set(`${trophyd}`, (trophyd == String.fromCharCode(84,0) ? analyticsg.size : trophyd.length));
         flipperH /= Math.max(4, (parseFloat(`${trophyd == String.fromCharCode(57,0) ? trophyd.length : analyticsg.size}`)));
      }
          let clubX = 3.0;
         ballQ = `${ballQ.length}`;
         clubX += parseInt(`${clubX}`);
          let orangeR = String.fromCharCode(115,116,114,105,100,101,97,98,108,101,95,54,95,50,54,0);
         ballQ = `${orangeR.length % (Math.max(owngoalY.length, 5))}`;
      let libavfilter6 = default_ilE == String.fromCharCode(100,113,105,95,101,53,120,0);
      do {
         default_ilE += `${ballQ.length + 1}`;
         if (libavfilter6) {
            break;
         }
      } while ((5 == default_ilE.length) && libavfilter6);
       let reade = String.fromCharCode(97,95,51,56,95,115,117,98,118,105,101,119,101,114,0);
       let subouth = String.fromCharCode(98,111,114,100,101,114,95,106,95,49,54,0);
       let t_centerL = 0;
       let textf = 5;
      while ((reade.length | t_centerL) <= 3) {
         t_centerL |= t_centerL % 2;
         break;
      }
      soundc += `${parseInt(`${sortC}`) % (Math.max(owngoalY.length, 2))}`;
      soundc += `${(launcherU == String.fromCharCode(105,0) ? soundc.length : launcherU.length)}`;
   if (sortC <= yellowcirclebgK.length) {
       let iconarrowrightblack2 = 1;
       let downloaderx = 3;
       let iconviewergifM = false;
       let configureY: Array<any> = [829, 468, 825];
      for (let y = 0; y < 1; y++) {
          let bellreminderz: Array<any> = [678, 983];
          let googleg = 2.0;
          let settingsE = String.fromCharCode(106,95,52,51,95,114,101,102,101,114,101,110,99,101,0);
          let halfb = String.fromCharCode(119,95,55,57,95,116,111,103,103,108,101,0);
         iconviewergifM = (downloaderx & iconarrowrightblack2) > 89;
         bellreminderz.push(bellreminderz.length);
         googleg *= parseFloat(`${3}`);
         settingsE += `${(settingsE == String.fromCharCode(55,0) ? settingsE.length : bellreminderz.length)}`;
         halfb = "1";
      }
      if (!iconviewergifM) {
          let short_bhU = 4;
          let playercommonq = String.fromCharCode(122,95,51,52,95,97,110,105,109,97,116,101,0);
          let rules4 = String.fromCharCode(114,101,108,101,118,97,110,116,95,105,95,53,51,0);
         configureY = [1 & playercommonq.length];
         short_bhU /= Math.max(5, rules4.length);
         playercommonq = `${short_bhU % (Math.max(2, 4))}`;
         rules4 += `${(String.fromCharCode(109,0) == rules4 ? rules4.length : short_bhU)}`;
      }
      for (let y = 0; y < 3; y++) {
         configureY = [downloaderx / (Math.max(4, iconarrowrightblack2))];
      }
      let placeholderi = iconviewergifM ? !iconviewergifM : iconviewergifM;
      do {
          let fcdaebecbcbafcdfceaaeccfeacdb5 = 0.0;
          let nbatrophyY = false;
          let iconsaveimageb = String.fromCharCode(112,95,51,0);
         iconviewergifM = String.fromCharCode(48,0) == iconsaveimageb && configureY.length < 30;
         fcdaebecbcbafcdfceaaeccfeacdb5 -= ((nbatrophyY ? 4 : 3) | parseInt(`${fcdaebecbcbafcdfceaaeccfeacdb5}`));
         nbatrophyY = fcdaebecbcbafcdfceaaeccfeacdb5 >= 11.77;
         iconsaveimageb = `${1 % (Math.max(parseInt(`${fcdaebecbcbafcdfceaaeccfeacdb5}`), 8))}`;
         if (placeholderi) {
            break;
         }
      } while ((iconviewergifM) && placeholderi);
      for (let x = 0; x < 1; x++) {
         iconviewergifM = !iconviewergifM;
      }
         iconarrowrightblack2 >>= Math.min(Math.abs(configureY.length % (Math.max(3, downloaderx))), 4);
      let iconsettingF = 7914129 >= configureY.length;
      do {
         configureY.push(iconarrowrightblack2 << (Math.min(Math.abs(downloaderx), 1)));
         if (iconsettingF) {
            break;
         }
      } while (iconsettingF && (downloaderx > 4));
          let type_k3k = String.fromCharCode(121,95,55,49,95,116,98,108,101,110,100,0);
          let filterL = String.fromCharCode(110,97,99,107,95,54,95,55,57,0);
         downloaderx /= Math.max((configureY.length & (iconviewergifM ? 5 : 2)), 5);
         type_k3k += `${filterL.length}`;
         filterL = `${filterL.length - type_k3k.length}`;
       let vignette3: Array<any> = [85, 342];
       let pressureR: Array<any> = [String.fromCharCode(103,95,55,52,95,101,110,100,101,100,0), String.fromCharCode(111,95,53,95,117,110,109,117,116,101,0), String.fromCharCode(104,95,53,55,95,102,114,97,99,116,105,111,110,97,108,0)];
         vignette3 = [2];
          let connectionG = 0.0;
          let iconbelle = 1;
         downloaderx |= vignette3.length;
         connectionG /= Math.max(parseFloat(`${iconbelle}`), 4);
         iconbelle <<= Math.min(Math.abs(iconbelle), 1);
       let dialogI: Map<any, any> = new Map([[String.fromCharCode(115,117,112,111,114,116,101,100,95,108,95,51,54,0),366], [String.fromCharCode(97,109,114,119,98,100,97,116,97,95,103,95,53,54,0),368], [String.fromCharCode(112,95,55,57,95,119,101,101,107,100,97,121,0),161]]);
       let downloader_: Map<any, any> = new Map([[String.fromCharCode(98,99,104,101,99,107,95,102,95,50,55,0),300], [String.fromCharCode(114,95,50,56,0),878]]);
      sortC *= downloaderx;
   }
   let zhuboN = mappingo <= 8763945.0;
   do {
      mappingo *= parseInt(`${share7}`) % 1;
      if (zhuboN) {
         break;
      }
   } while (zhuboN && (mappingo > iconarrowrightz.length));
      share7 -= parseFloat(`${parseInt(`${mappingo}`)}`);
      iconarrowrightz += "3";
   let iconclosewhitebg9 = 7438771.0 >= share7;
   do {
      share7 *= parseFloat(`${rewind8.length | 3}`);
      if (iconclosewhitebg9) {
         break;
      }
   } while ((1 >= (launcherU.length - 5)) && iconclosewhitebg9);
      launcherU = `${iconchatsendc.length & soundc.length}`;

    setIsDialogOpen(!isDialogOpen);
  };

  const toggleHistory = (vod: wawaSellProfileinactive) => {
    const filtered = removeHistory.filter((x) => x.vod_id !== vod.vod_id);
    if (filtered.length === removeHistory.length) {
      setRemoveHistory([vod, ...removeHistory]);
    } else {
      setRemoveHistory(filtered);
    }
  };
  let data = history;

  const today = new Date(); 

  let customHistoryToday: any = [];
  let customHistoryEarly: any = [];

  data.forEach((item) => {
    const recordedAt = new Date(item.recordedAt);
    if (
      recordedAt.toISOString().split("T")[0] ===
      today.toISOString().split("T")[0]
    ) {
      customHistoryToday.push(item);
    } else {
      customHistoryEarly.push(item);
    }
  });

  
  

  
  
  return (
    <ScreenContainer>
      <TitleWithBackButtonHeader
        title="播放历史"
        right={
          <TouchableOpacity
            onPress={() => {
              setIsEditing(!isEditing);
              setRemoveHistory([]);
            }}
          >
            <Text
              style={{
                ...textVariants.body,
                
                opacity: history && history.length > 0 ? 100 : 0,
              }}
            >
              {isEditing ? "取消" : "编辑"}
            </Text>
          </TouchableOpacity>
        }
        
      />
      {history && history.length > 0 ? (
        <ScrollView
          contentContainerStyle={styles.scrollContainer}
          showsVerticalScrollIndicator={false}
          showsHorizontalScrollIndicator={false}
        >
          {customHistoryToday.length > 0 && (
            <>
              <View style={{ marginBottom: 10 }}>
                <Text style={textStyles}>今日</Text>
                {customHistoryToday.map(
                  (item: wawaGuideSelect, index: number) => (
                    <View style={styles.card} key={index}>
                      {isEditing && (
                        <TouchableOpacity
                          style={styles.checkbox}
                          onPress={() => toggleHistory(item)}
                        >
                          {removeHistory.some(
                            (x) => x.vod_id === item.vod_id
                          ) ? (
                            <CheckBoxSelected
                              height={icons.sizes.m}
                              width={icons.sizes.m}
                            />
                          ) : (
                            <CheckBoxUnselected
                              height={icons.sizes.m}
                              width={icons.sizes.m}
                            />
                          )}
                        </TouchableOpacity>
                      )}
                      <VodHistoryCard
                        activeOpacity={isEditing ? 1 : 0.2}
                        vod={item}
                        onPress={() => {
                          if (isEditing) {
                            toggleHistory(item);
                          } else {
                            if (item.isAdultVideo){
                              dispatch(playVod(item));
                              navigation.navigate("播放", {
                                vod_id: item.vod_id,
                                player_mode: 'adult'
                              });
                              dispatch(enableAdultMode())
                            }
                            else {
                              dispatch(playVod(item));
                              navigation.navigate("播放", {
                                vod_id: item.vod_id,
                              });
                              dispatch(disableAdultMode())
                            }
                          }
                        }}
                      />
                    </View>
                  )
                )}
              </View>
            </>
          )}

          {customHistoryEarly.length > 0 && (
            <>
              <Text style={textStyles}>更早</Text>
              {customHistoryEarly.map((item: wawaGuideSelect, index: number) => (
                <View style={styles.card} key={index}>
                  {isEditing && (
                    <TouchableOpacity
                      style={styles.checkbox}
                      onPress={() => toggleHistory(item)}
                    >
                      {removeHistory.some((x) => x.vod_id === item.vod_id) ? (
                        <CheckBoxSelected
                          height={icons.sizes.m}
                          width={icons.sizes.m}
                        />
                      ) : (
                        <CheckBoxUnselected
                          height={icons.sizes.m}
                          width={icons.sizes.m}
                        />
                      )}
                    </TouchableOpacity>
                  )}
                  <VodHistoryCard
                    activeOpacity={isEditing ? 1 : 0.2}
                    vod={item}
                    onPress={() => {
                      if (isEditing) {
                        toggleHistory(item);
                      } else {
                        if (item.isAdultVideo){
                          dispatch(playVod(item));
                          navigation.navigate("播放", {
                            vod_id: item.vod_id,
                            player_mode: 'adult'
                          });
                          dispatch(enableAdultMode())
                        }
                        else {
                          dispatch(playVod(item));
                          navigation.navigate("播放", {
                            vod_id: item.vod_id,
                          });
                          dispatch(disableAdultMode())
                        }
                      }
                    }}
                  />
                </View>
              ))}
            </>
          )}
        </ScrollView>
      ) : (
        <EmptyList description="暂无播放历史" />
      )}
      <ConfirmationModal
        onConfirm={() => {
          dispatch(removeVodsFromHistory(removeHistory));
          setIsEditing(false);
          setRemoveHistory([]);
          toggleOverlay();
        }}
        onCancel={toggleOverlay}
        isVisible={isDialogOpen}
        title="清除提示"
        subtitle="您是否确定清除播放历史吗？"
      />
      {isEditing && (
        <View style={styles.deleteConfirmationModal}>
          <Button
            onPress={() => {
              if (
                removeHistory.length === 0 ||
                removeHistory.length !== history.length
              ) {
                setRemoveHistory(vodReducer.history);
              } else {
                setRemoveHistory([]);
              }
            }}
            containerStyle={styles.confirmationBtn}
            color={colors.card2}
            titleStyle={{ ...textVariants.body, color: colors.muted }}
          >
            {removeHistory.length === 0 ||
            removeHistory.length !== history.length
              ? "全选"
              : "取消全选"}
          </Button>
          <Button
            onPress={() => {
              if (removeHistory.length > 0) {
                toggleOverlay();
              }
            }}
            containerStyle={styles.confirmationBtn}
            color={removeHistory.length === 0 ? colors.card2 : colors.primary}
            titleStyle={{
              ...textVariants.body,
              color:
                removeHistory.length === 0 ? colors.muted : colors.background,
            }}
          >
            删除
          </Button>
        </View>
      )}
    </ScreenContainer>
  );
};

const styles = StyleSheet.create({
  scrollContainer: {
    paddingBottom: 30,
  },
  card: {
    display: "flex",
    flexDirection: "row",
    alignItems: "center",
  },
  checkbox: {
    padding: 5,
  },
  deleteConfirmationModal: {
    display: "flex",
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "space-between",
    padding: 8,
  },
  confirmationBtn: {
    flex: 1,
    margin: 10,
    borderRadius: 10,
    marginTop: 8,
  },
  text: {
    flexShrink: 1,
    paddingLeft: 10,
    paddingRight: 10,
    paddingTop: 3,
    paddingBottom: 10,
  },
});
