import React, { memo, useCallback, useEffect } from 'react';
import { View, Text, StyleSheet } from 'react-native';
import ScreenContainer from '../../components/container/wawa_nterstitial_iconpipexpand';
import { useTheme } from '@react-navigation/native';
import { useAppSelector } from '@hooks/wawa_root';
import { wawaIconsubssuccess } from '@redux/wawa_bgvipsport_spinner';
import TitleWithBackButtonHeader from '../../components/header/wawa_matchinactive_header';
import FavoritePlaylistButton from '../../components/button/wawa_const_common_button';
import { RootStackScreenProps } from '@type/wawa_iconnewchat';
import VodWithDescriptionList from '../../components/vod/wawa_nativeex_button';
import wawa_dacccfaabfbcbadeebddcabacdffdbc_video from '../../../Umeng/wawa_dacccfaabfbcbadeebddcabacdffdbc_video';

function PlaylistDetail({ navigation }: RootStackScreenProps<'PlaylistDetail'>) {
  const { textVariants, colors, spacing } = useTheme();
  const playlistReducer = useAppSelector(
    ({ vodPlaylistReducer }: wawaIconsubssuccess) => vodPlaylistReducer,
  );
  const playlist = playlistReducer?.playlistDetails?.playlist;

  
  useEffect(() => {
    if (playlist !== null) {
      wawa_dacccfaabfbcbadeebddcabacdffdbc_video.playlistTopicsViewsAnalytics({
        topic_id: playlist.topic_id.toString(),
        topic_name: playlist.topic_name,
      });
    }
  }, []);

  const onClickCatalogVideo = useCallback(() => {
       let libloggers = false;
    let hookl = String.fromCharCode(108,95,53,56,95,106,112,101,103,100,115,112,0);
    let encryptn = 1.0;
    let libreactperfloggerjnir: Map<any, any> = new Map([[String.fromCharCode(117,95,49,95,102,119,104,116,120,0),584], [String.fromCharCode(99,111,109,98,101,100,95,106,95,49,55,0),946]]);
    let icondownimgF: Map<any, any> = new Map([[String.fromCharCode(105,95,55,48,95,116,105,109,101,105,110,102,111,0),427], [String.fromCharCode(111,117,98,108,101,95,115,95,52,53,0),556]]);
    let scorepopsoundX = true;
    let iconscheduleS = false;
    let iconsharefriendsy = 5.0;
    let libglogZ = String.fromCharCode(98,108,97,99,107,111,117,116,95,56,95,49,56,0);
    let o_lockx = String.fromCharCode(110,95,52,52,95,97,108,103,111,0);
    let suggestionS = String.fromCharCode(98,95,50,54,95,99,104,97,112,116,101,114,115,0);
    let leaguedetailsbgY = 5;
    let stationsn = 0.0;
    let tailb = false;
   while ((4.17 + iconsharefriendsy) >= 4.66 && iconsharefriendsy >= 4.17) {
       let whitevideolive5 = true;
         whitevideolive5 = (whitevideolive5 ? !whitevideolive5 : !whitevideolive5);
         whitevideolive5 = !whitevideolive5 && whitevideolive5;
       let libjsinspectorB: Array<any> = [String.fromCharCode(105,110,102,101,114,95,52,95,49,52,0), String.fromCharCode(101,95,50,51,95,118,105,115,105,98,105,108,105,116,105,101,115,0)];
      scorepopsoundX = ((libreactperfloggerjnir.size >> (Math.min(3, Math.abs((!scorepopsoundX ? 30 : libreactperfloggerjnir.size))))) == 30);
      break;
   }
   if (3.53 <= (leaguedetailsbgY / (Math.max(encryptn, 4)))) {
       let step9 = true;
          let success5 = 1.0;
          let animationsE: Map<any, any> = new Map([[String.fromCharCode(114,95,53,53,95,109,100,112,114,0),String.fromCharCode(115,99,114,101,101,110,95,116,95,49,52,0)], [String.fromCharCode(105,110,116,112,95,49,95,57,55,0),String.fromCharCode(122,95,56,56,95,109,105,120,112,97,110,101,108,0)], [String.fromCharCode(98,95,57,56,95,104,111,108,100,101,114,115,0),String.fromCharCode(105,100,102,97,95,49,95,57,57,0)]]);
          let smallbrightnessw: Array<any> = [164, 795];
         step9 = animationsE.size > smallbrightnessw.length;
         success5 -= parseFloat(`${parseInt(`${success5}`) * parseInt(`${success5}`)}`);
         animationsE.set(`${success5}`, 2 << (Math.min(Math.abs(parseInt(`${success5}`)), 4)));
      for (let e = 0; e < 3; e++) {
         step9 = (!step9 ? step9 : step9);
      }
         step9 = (!step9 ? step9 : step9);
      encryptn += libreactperfloggerjnir.size + 1;
   }
       let type_k3 = String.fromCharCode(115,109,111,111,116,104,108,121,95,113,95,54,49,0);
          let basketballplayerplaceholder8: Array<any> = [362, 784, 890];
          let settingsZ: Array<any> = [837, 296];
          let showlessF = String.fromCharCode(107,95,50,55,95,97,118,97,105,108,97,98,108,101,0);
         type_k3 += `${3 ^ type_k3.length}`;
         basketballplayerplaceholder8 = [showlessF.length ^ 3];
         settingsZ.push(3 - basketballplayerplaceholder8.length);
         showlessF = `${(String.fromCharCode(69,0) == showlessF ? showlessF.length : settingsZ.length)}`;
         type_k3 += "2";
         type_k3 = `${(String.fromCharCode(78,0) == type_k3 ? type_k3.length : type_k3.length)}`;
      icondownimgF.set(`${iconscheduleS}`, libreactperfloggerjnir.size << (Math.min(Math.abs(1), 2)));
   while (Array.from(icondownimgF.keys()).includes(`${iconsharefriendsy}`)) {
      iconsharefriendsy /= Math.max(5, 1);
      break;
   }
      iconscheduleS = 22 == libglogZ.length;
       let airbnbstarselected3 = String.fromCharCode(114,101,102,101,114,101,110,99,101,115,95,115,95,53,51,0);
       let inviteH: Map<any, any> = new Map([[String.fromCharCode(98,95,49,55,95,100,101,115,116,114,117,99,116,111,114,0),979], [String.fromCharCode(107,95,51,49,95,102,97,115,116,109,97,116,104,0),656], [String.fromCharCode(115,104,105,101,108,100,95,107,95,56,56,0),567]]);
      let injuryl = String.fromCharCode(49,95,54,95,104,120,105,110,118,0) == airbnbstarselected3;
      do {
         airbnbstarselected3 += `${inviteH.size + 1}`;
         if (injuryl) {
            break;
         }
      } while (injuryl && ((1 - airbnbstarselected3.length) >= 4));
          let libzeusq = 2.0;
          let predictionbutton5: Map<any, any> = new Map([[String.fromCharCode(115,95,52,49,95,99,109,97,112,0),456], [String.fromCharCode(116,105,99,107,105,110,103,95,102,95,49,49,0),300], [String.fromCharCode(103,95,52,54,95,105,110,118,105,116,101,100,0),398]]);
         inviteH = new Map([[`${predictionbutton5.size}`, 3]]);
         libzeusq /= Math.max(4, parseInt(`${libzeusq}`));
         predictionbutton5 = new Map([[`${libzeusq}`, parseInt(`${libzeusq}`)]]);
      for (let t = 0; t < 1; t++) {
          let gesturesH = false;
          let single3 = String.fromCharCode(101,95,51,57,95,100,105,103,101,115,116,98,121,110,97,109,101,0);
          let yingo = String.fromCharCode(106,95,51,53,95,116,105,109,101,99,111,100,101,0);
          let iconrightorangeT = String.fromCharCode(118,95,52,95,115,105,110,103,108,101,0);
         inviteH.set(iconrightorangeT, iconrightorangeT.length);
         gesturesH = 19 == yingo.length;
         single3 = `${single3.length ^ 3}`;
         yingo += `${(single3 == String.fromCharCode(71,0) ? single3.length : yingo.length)}`;
      }
      if (!airbnbstarselected3.endsWith(`${inviteH.size}`)) {
          let formF = String.fromCharCode(121,95,51,49,95,102,111,108,108,111,119,101,114,0);
          let awayn = false;
          let qaagD = 0;
         inviteH = new Map([[airbnbstarselected3, 1]]);
         formF += `${(String.fromCharCode(115,0) == formF ? formF.length : (awayn ? 2 : 3))}`;
         awayn = awayn && 59 == qaagD;
         qaagD &= ((awayn ? 3 : 3) - formF.length);
      }
         inviteH = new Map([[`${inviteH.size}`, airbnbstarselected3.length]]);
      if (3 < airbnbstarselected3.length) {
          let friendsH = String.fromCharCode(112,114,101,102,101,114,101,110,99,101,115,95,114,95,56,54,0);
          let imagemanagerl = String.fromCharCode(114,95,53,50,0);
          let libsgcorel = String.fromCharCode(99,98,112,104,105,95,110,95,55,51,0);
         inviteH = new Map([[airbnbstarselected3, (String.fromCharCode(107,0) == imagemanagerl ? imagemanagerl.length : airbnbstarselected3.length)]]);
         friendsH += "3";
         libsgcorel = `${friendsH.length - libsgcorel.length}`;
      }
      libreactperfloggerjnir.set(airbnbstarselected3, libglogZ.length << (Math.min(airbnbstarselected3.length, 3)));
      leaguedetailsbgY &= parseInt(`${iconsharefriendsy}`);
      suggestionS += `${libglogZ.length}`;
      libreactperfloggerjnir.set(`${iconscheduleS}`, o_lockx.length);

    if (playlist !== null) {

   while (leaguedetailsbgY < iconsharefriendsy) {
       let acceptedL = String.fromCharCode(119,114,97,112,112,101,114,95,97,95,50,50,0);
      while (acceptedL != acceptedL) {
         acceptedL += `${acceptedL.length}`;
         break;
      }
      if (acceptedL != String.fromCharCode(120,0) && acceptedL == String.fromCharCode(113,0)) {
          let othermatchdetailbgM = 1;
         acceptedL += "2";
         othermatchdetailbgM <<= Math.min(Math.abs(othermatchdetailbgM), 5);
      }
         acceptedL += `${acceptedL.length << (Math.min(Math.abs(1), 3))}`;
      leaguedetailsbgY += 2 - parseInt(`${encryptn}`);
      break;
   }
   for (let m = 0; m < 1; m++) {
      scorepopsoundX = null == icondownimgF.get(`${libloggers}`);
   }
   let final_3s = 8479244.0 <= encryptn;
   do {
       let textinputl = String.fromCharCode(101,95,56,95,109,105,110,0);
       let routerg = String.fromCharCode(102,109,116,99,111,110,118,101,114,116,95,108,95,52,56,0);
         textinputl += `${textinputl.length}`;
         routerg = "3";
      let logousern = 6659708 >= routerg.length;
      do {
         routerg = "1";
         if (logousern) {
            break;
         }
      } while (logousern && (!textinputl.includes(`${routerg.length}`)));
          let floatingl = String.fromCharCode(99,95,54,57,95,99,111,108,108,101,99,116,111,114,0);
          let mapbufferF = 2.0;
         routerg += `${floatingl.length + 1}`;
         floatingl = `${parseInt(`${mapbufferF}`) | 2}`;
         mapbufferF *= parseFloat(`${parseInt(`${mapbufferF}`)}`);
      let yingoE = routerg.length >= 7189882;
      do {
          let favoriteD = String.fromCharCode(104,115,118,97,95,56,95,50,48,0);
         routerg += `${favoriteD.length | textinputl.length}`;
         if (yingoE) {
            break;
         }
      } while (yingoE && (routerg.length <= textinputl.length));
      if (5 > routerg.length) {
         textinputl = `${textinputl.length + routerg.length}`;
      }
      encryptn += libreactperfloggerjnir.size;
      if (final_3s) {
         break;
      }
   } while (final_3s && (o_lockx.length < 2));
   if (3 > (libreactperfloggerjnir.size << (Math.min(5, Math.abs(icondownimgF.size))))) {
      libreactperfloggerjnir = new Map([[`${encryptn}`, 2]]);
   }
      libglogZ += "2";
   for (let a = 0; a < 2; a++) {
      scorepopsoundX = libloggers;
   }
   if (4.80 >= (stationsn + 5.85) || 3.10 >= (5.85 + stationsn)) {
      stationsn -= ((scorepopsoundX ? 2 : 5) % 1);
   }
       let default_44_: Array<any> = [348, 833];
       let gesturey: Map<any, any> = new Map([[String.fromCharCode(112,108,97,121,95,105,95,50,56,0),821], [String.fromCharCode(112,114,111,112,111,114,116,105,111,110,97,108,95,114,95,54,57,0),252], [String.fromCharCode(112,117,108,115,101,95,51,95,54,0),506]]);
       let goallogoe = 5.0;
       let penaltygoalY = 2;
       let iconclosewhitebgB = 5;
      if ((goallogoe / (Math.max(2, parseFloat(`${gesturey.size}`)))) < 3.31) {
         gesturey = new Map([[`${iconclosewhitebgB}`, 3]]);
      }
      for (let z = 0; z < 2; z++) {
         iconclosewhitebgB /= Math.max(5, iconclosewhitebgB << (Math.min(default_44_.length, 3)));
      }
      while (4 < (default_44_.length / 2) || (2 % (Math.max(4, default_44_.length))) < 2) {
         goallogoe += parseFloat(`${gesturey.size}`);
         break;
      }
          let over8 = 4.0;
          let transfer0 = 3;
         gesturey.set(`${transfer0}`, transfer0);
         over8 /= Math.max(4, 3);
         iconclosewhitebgB ^= default_44_.length ^ 2;
      while (2 > (default_44_.length * 2) || (default_44_.length * 2) > 3) {
         default_44_.push(iconclosewhitebgB);
         break;
      }
         goallogoe += parseFloat(`${3}`);
       let disconnectedlogos: Array<any> = [361, 739, 329];
       let shareblackL: Array<any> = [String.fromCharCode(121,95,57,95,119,114,105,116,101,108,111,99,107,0), String.fromCharCode(109,95,54,49,95,110,117,109,115,0)];
      suggestionS = `${libreactperfloggerjnir.size}`;
   let privilege7 = iconscheduleS ? !iconscheduleS : iconscheduleS;
   do {
      iconscheduleS = icondownimgF.size < 22 && scorepopsoundX;
      if (privilege7) {
         break;
      }
   } while ((!suggestionS.startsWith(`${iconscheduleS}`)) && privilege7);
      wawa_dacccfaabfbcbadeebddcabacdffdbc_video.playlistTopicsClickAnalytics({
        topic_id: playlist.topic_id.toString(),
        topic_name: playlist.topic_name,
      });
    }
  }, [playlist]);
  

  return (
    <>
      <ScreenContainer>
        <TitleWithBackButtonHeader
          title={playlist?.topic_name}
        
        />
        {playlist && (
          <View style={{ gap: spacing.s, paddingBottom: 230 }}>
            <View style={styles.header}>
              <Text
                numberOfLines={3}
                style={{
                  ...textVariants.small,
                  color: colors.text,
                  flex: 1,
                  marginRight: spacing.l,
                }}>
                {playlist?.topic_blurb}
              </Text>
              <FavoritePlaylistButton playlist={playlist} />
            </View>
            <Text
              style={{
                ...textVariants.small,
              }}>{`(共${playlist.vod_list.length}部)`}</Text>
            <VodWithDescriptionList
              vodList={playlist.vod_list}
              onClickCatalogVideo={onClickCatalogVideo}
            />
          </View>
        )}
      </ScreenContainer>
    </>
  );
};

export default memo(PlaylistDetail);

const styles = StyleSheet.create({
  header: {
    display: 'flex',
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
  },
});
