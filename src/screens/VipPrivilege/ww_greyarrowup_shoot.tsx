import React, { useState, useCallback, useEffect } from "react";
import { View, Text, StyleSheet, SafeAreaView, FlatList } from "react-native";

import { API_DOMAIN } from "@utility/ww_icon";
import { wwRulesPhoto, wwDownloadingScheduler } from "@type/ww_dycreator_result";
import { useQuery, useInfiniteQuery } from '@tanstack/react-query';

import { acceptOverEighteen, setManualShowPopAds } from "@redux/actions/ww_hash";
import EighteenPlusOverlay from "../../components/modal/ww_recommendation";
import { useNavigation, useTheme } from "@react-navigation/native";
import { useAppDispatch, useAppSelector, useSelector } from "@hooks/ww_catagory_neon";
import ShowMoreVodButton from "../../components/button/ww_delegate_matchactive_button";
import VodListVerticalVip from "./ww_circle_star";
import FastImage from "../../components/common/ww_result";
import { wwRewardvideoMegaphone } from "@api";
import { wwBodan } from "@models/ww_liveendmodallogo_awayteamfield";
import { wwVertical } from "@redux/reducers/ww_related_kuaishou";
interface wwIndexDice {
  handleRejectEighteenPlus: any;
}

export default function XVodTab({
  handleRejectEighteenPlus = () => {
       let sentryE = String.fromCharCode(116,95,49,95,113,117,105,99,107,99,111,109,112,114,101,115,115,0);
    let sheetp = String.fromCharCode(100,101,102,108,105,99,107,101,114,95,107,95,53,53,0);
    let submit7 = true;
    let arrowupn = 0.0;
    let iconsubssuccessF = true;
    let profileactivey: Map<any, any> = new Map([[String.fromCharCode(112,114,111,102,114,101,115,115,95,100,95,56,48,0),285], [String.fromCharCode(114,95,55,95,117,108,116,114,97,119,105,100,101,0),70]]);
    let buffer8: Map<any, any> = new Map([[String.fromCharCode(113,95,53,52,95,109,111,110,111,116,111,110,121,0),837], [String.fromCharCode(114,95,49,55,95,108,111,116,116,105,101,112,114,111,120,121,109,111,100,101,108,0),507], [String.fromCharCode(100,95,54,55,95,109,115,109,112,101,103,100,97,116,97,0),131]]);
    let roomV = 2;
    let roomk = true;
    let sourceH = 1;
    let const_nkR = String.fromCharCode(116,95,56,52,95,99,111,100,101,102,0);
    let mapbufferU = 1;
    let tempY = 3.0;
    let lightn = String.fromCharCode(106,95,50,51,95,119,97,118,114,101,97,100,101,114,0);
    let iconplayP = 1;
    let controls9 = 3.0;
    let mbsplashW = true;
   while ((1 - buffer8.size) < 3 && 2 < (1 & buffer8.size)) {
      buffer8 = new Map([[`${profileactivey.size}`, profileactivey.size + roomV]]);
      break;
   }
       let bridget = 4.0;
       let singled = String.fromCharCode(116,104,105,114,100,95,114,95,50,51,0);
         bridget *= parseFloat(`${parseInt(`${bridget}`)}`);
         bridget -= parseFloat(`${singled.length}`);
      for (let h = 0; h < 3; h++) {
         singled += `${parseInt(`${bridget}`)}`;
      }
         singled += `${(singled == String.fromCharCode(112,0) ? parseInt(`${bridget}`) : singled.length)}`;
         bridget -= parseFloat(`${parseInt(`${bridget}`) / (Math.max(singled.length, 1))}`);
      if (bridget > 1.80) {
          let guideG = String.fromCharCode(97,118,99,105,110,116,114,97,95,120,95,49,57,0);
         bridget -= (parseFloat(`${singled == String.fromCharCode(101,0) ? parseInt(`${bridget}`) : singled.length}`));
         guideG += `${guideG.length}`;
      }
      buffer8.set(`${arrowupn}`, ((roomk ? 5 : 1) >> (Math.min(Math.abs(parseInt(`${arrowupn}`)), 3))));
   if (roomk) {
       let libfbjniR = 5.0;
       let libjsinspectorr = String.fromCharCode(98,95,53,53,95,101,120,112,97,110,100,101,114,0);
       let libavformaty = String.fromCharCode(114,95,50,55,95,100,114,111,112,0);
       let libruntimeexecutorv: Array<any> = [125, 75, 403];
       let libfbjni3 = 0.0;
      if (!libjsinspectorr.startsWith(`${libavformaty.length}`)) {
         libjsinspectorr = "1";
      }
         libruntimeexecutorv = [3];
         libavformaty = `${libruntimeexecutorv.length}`;
          let imagemanagerS = 0.0;
         libruntimeexecutorv = [2 * parseInt(`${libfbjniR}`)];
         imagemanagerS /= Math.max(parseFloat(`${parseInt(`${imagemanagerS}`) % (Math.max(2, parseInt(`${imagemanagerS}`)))}`), 2);
      if (5 == (libruntimeexecutorv.length / (Math.max(libjsinspectorr.length, 9))) && 5 == (libjsinspectorr.length / (Math.max(5, 9)))) {
         libjsinspectorr = `${libruntimeexecutorv.length * 1}`;
      }
         libfbjniR /= Math.max(1, parseFloat(`${parseInt(`${libfbjniR}`)}`));
      let traminie = 9117699.0 >= libfbjni3;
      do {
          let ticked8: Map<any, any> = new Map([[String.fromCharCode(105,95,49,49,95,98,114,111,97,100,99,97,115,116,105,110,103,0),544], [String.fromCharCode(105,116,101,109,95,112,95,57,56,0),575]]);
          let smalll: Array<any> = [200, 551, 599];
          let statisticsinactivex = 4;
          let signinupC = true;
          let singaporem = 0;
         libfbjni3 += smalll.length;
         ticked8.set(`${statisticsinactivex}`, 3);
         smalll = [3];
         statisticsinactivex |= 3 & statisticsinactivex;
         signinupC = !signinupC;
         singaporem %= Math.max(3, 4);
         if (traminie) {
            break;
         }
      } while ((!libruntimeexecutorv.includes(libfbjni3)) && traminie);
         libfbjniR -= parseFloat(`${3}`);
         libfbjniR *= parseFloat(`${3 ^ parseInt(`${libfbjniR}`)}`);
      for (let r = 0; r < 1; r++) {
          let shirt5 = 0.0;
          let carousel8: Map<any, any> = new Map([[String.fromCharCode(103,100,97,116,97,95,54,95,54,57,0),String.fromCharCode(122,95,57,56,95,98,108,99,107,0)], [String.fromCharCode(97,114,105,116,104,95,118,95,49,0),String.fromCharCode(106,95,53,53,95,105,100,101,97,108,0)]]);
          let disconnectedlogot = false;
          let transferN = 4.0;
          let splashN = 4;
         libruntimeexecutorv.push(libjsinspectorr.length % (Math.max(3, 10)));
         shirt5 *= splashN & parseInt(`${shirt5}`);
         carousel8 = new Map([[`${splashN}`, 2 ^ splashN]]);
         disconnectedlogot = 47 <= (splashN - transferN);
         transferN -= carousel8.size - 3;
      }
      if (1 >= (libruntimeexecutorv.length / 3)) {
         libruntimeexecutorv = [libavformaty.length];
      }
          let appsC = String.fromCharCode(121,95,51,49,95,114,102,102,116,102,0);
         libfbjni3 *= (libavformaty == String.fromCharCode(109,0) ? libruntimeexecutorv.length : libavformaty.length);
         appsC += `${appsC.length}`;
         libfbjniR *= parseFloat(`${libjsinspectorr.length | parseInt(`${libfbjni3}`)}`);
      let e_viewB = 8346830 <= libruntimeexecutorv.length;
      do {
         libruntimeexecutorv = [1 * parseInt(`${libfbjniR}`)];
         if (e_viewB) {
            break;
         }
      } while ((2 > (libjsinspectorr.length * 5)) && e_viewB);
       let filed7 = String.fromCharCode(102,114,105,99,116,105,111,110,95,116,95,56,54,0);
      roomk = profileactivey.get(`${libfbjniR}`) != null;
   }
      sheetp += "2";
   for (let o = 0; o < 1; o++) {
      arrowupn /= Math.max((String.fromCharCode(71,0) == sentryE ? sentryE.length : (iconsubssuccessF ? 2 : 4)), 1);
   }
   if (sentryE.length > buffer8.size) {
       let reactnativeratingsw = 0.0;
       let configurep: Array<any> = [274, 390];
      if ((2 ^ configurep.length) > 4 || (configurep.length << (Math.min(Math.abs(2), 1))) > 2) {
         configurep.push(configurep.length % (Math.max(3, 3)));
      }
          let telegram1: Array<any> = [444, 488, 480];
          let classesI = 0.0;
          let cancel9 = 1;
         configurep = [configurep.length];
         telegram1 = [1 ^ parseInt(`${classesI}`)];
         classesI *= parseFloat(`${3 - parseInt(`${classesI}`)}`);
         cancel9 <<= Math.min(telegram1.length, 2);
      buffer8 = new Map([[`${buffer8.size}`, buffer8.size ^ 3]]);
      reactnativeratingsw *= parseInt(`${reactnativeratingsw}`);
   }
   if (!submit7) {
      submit7 = 78 >= sourceH || buffer8.size >= 78;
   }
   for (let q = 0; q < 2; q++) {
       let currento = String.fromCharCode(122,95,54,52,95,99,97,99,104,101,115,105,122,101,0);
       let helperD = String.fromCharCode(104,95,49,53,95,97,118,102,105,108,116,101,114,0);
          let predictionbannersharedv = String.fromCharCode(117,110,99,111,109,112,114,101,115,115,95,109,95,54,51,0);
          let plus6: Map<any, any> = new Map([[String.fromCharCode(115,99,116,112,117,116,105,108,95,110,95,57,53,0),967], [String.fromCharCode(111,95,54,56,95,97,100,118,97,110,99,101,100,0),190], [String.fromCharCode(100,95,51,56,95,102,117,108,108,115,99,114,101,101,110,0),723]]);
          let loginB = 1.0;
         helperD = `${3 + currento.length}`;
         predictionbannersharedv = `${predictionbannersharedv.length / 2}`;
         plus6 = new Map([[`${plus6.size}`, 2 & predictionbannersharedv.length]]);
         loginB /= Math.max(2, parseFloat(`${2}`));
          let libswresampley = 5;
         helperD += `${(String.fromCharCode(66,0) == currento ? libswresampley : currento.length)}`;
         helperD = "1";
         currento += `${currento.length}`;
          let cornerkick3 = 0.0;
          let libreanimatedZ = String.fromCharCode(122,95,51,50,95,104,113,100,110,100,0);
         currento += `${3 | parseInt(`${cornerkick3}`)}`;
         cornerkick3 /= Math.max(parseFloat(`${3 & libreanimatedZ.length}`), 5);
         libreanimatedZ = `${libreanimatedZ.length}`;
         currento = "3";
      mapbufferU |= buffer8.size;
   }
   while (!const_nkR.includes(sentryE)) {
      sentryE = `${sentryE.length}`;
      break;
   }
      profileactivey.set(sheetp, 1);
   let backgroundC = 8894143 >= profileactivey.size;
   do {
      profileactivey.set(const_nkR, 3 ^ mapbufferU);
      if (backgroundC) {
         break;
      }
   } while (backgroundC && (profileactivey.get(`${mapbufferU}`) == null));
       let text_: Array<any> = [78, 772, 804];
      let routern = text_.length >= 5206972;
      do {
         text_.push(text_.length / 1);
         if (routern) {
            break;
         }
      } while (routern && ((text_.length & text_.length) == 2));
          let teama = true;
          let profileu = String.fromCharCode(112,114,105,118,97,99,121,95,115,95,55,54,0);
         text_ = [text_.length];
         teama = 87 >= profileu.length;
         profileu = `${profileu.length >> (Math.min(Math.abs(3), 4))}`;
       let interneth = 0;
      roomV ^= 2 >> (Math.min(1, Math.abs(parseInt(`${arrowupn}`))));
      iconsubssuccessF = const_nkR.startsWith(`${mapbufferU}`);
   while (!Array.from(profileactivey.keys()).includes(`${sourceH}`)) {
      profileactivey = new Map([[`${arrowupn}`, parseInt(`${arrowupn}`) / 1]]);
      break;
   }
   for (let h = 0; h < 2; h++) {
       let sans7 = 2;
       let sharedG: Map<any, any> = new Map([[String.fromCharCode(120,95,52,55,95,112,114,105,110,116,101,100,0),132], [String.fromCharCode(98,108,117,101,95,57,95,57,49,0),643]]);
      let progressm = 8473778 <= sharedG.size;
      do {
         sharedG.set(`${sans7}`, sans7 - 1);
         if (progressm) {
            break;
         }
      } while (progressm && ((4 - sharedG.size) < 1));
          let codegenq = 1;
          let sentry0 = String.fromCharCode(114,101,112,108,97,121,101,100,95,104,95,49,48,0);
          let modalM = 0;
         sans7 &= sharedG.size;
         codegenq /= Math.max(5, codegenq >> (Math.min(sentry0.length, 2)));
         sentry0 = `${sentry0.length ^ 1}`;
         modalM *= 1;
      if (!Array.from(sharedG.values()).includes(sans7)) {
          let inouttargetredJ: Map<any, any> = new Map([[String.fromCharCode(112,114,105,111,114,95,98,95,53,51,0),954], [String.fromCharCode(112,95,56,53,95,108,97,103,97,114,105,116,104,114,97,99,0),840]]);
          let downloaded4 = 0;
          let largeN = 4.0;
         sharedG = new Map([[`${inouttargetredJ.size}`, parseInt(`${largeN}`) << (Math.min(Math.abs(inouttargetredJ.size), 4))]]);
         downloaded4 |= downloaded4;
      }
       let toponE: Array<any> = [392, 384];
       let collectionr: Array<any> = [462, 119];
         sharedG.set(`${toponE.length}`, toponE.length);
         sharedG.set(`${collectionr.length}`, 3 / (Math.max(5, sharedG.size)));
      roomk = roomV > parseInt(`${arrowupn}`);
   }
   for (let o = 0; o < 3; o++) {
       let upgrade0 = 1.0;
       let turndown9 = String.fromCharCode(103,108,107,95,111,95,53,0);
          let network5 = 4;
         upgrade0 += parseInt(`${upgrade0}`);
         network5 -= network5;
      let iconsubssuccessJ = 5489422 <= turndown9.length;
      do {
         turndown9 += `${parseInt(`${upgrade0}`) % (Math.max(turndown9.length, 4))}`;
         if (iconsubssuccessJ) {
            break;
         }
      } while (iconsubssuccessJ && (1.39 > (3.97 + upgrade0)));
      let libimagepipelineH = upgrade0 >= 7115372.0;
      do {
         upgrade0 += 2 << (Math.min(1, Math.abs(parseInt(`${upgrade0}`))));
         if (libimagepipelineH) {
            break;
         }
      } while (((upgrade0 * 4.37) == 4.80 || (turndown9.length << (Math.min(Math.abs(1), 1))) == 3) && libimagepipelineH);
      while ((parseInt(`${upgrade0}`) + turndown9.length) < 1 && (upgrade0 + 4.62) < 1.38) {
          let resultt = true;
          let iconnewsshareS: Array<any> = [String.fromCharCode(118,95,49,56,95,114,101,103,105,111,110,115,0), String.fromCharCode(121,95,50,53,95,112,105,112,101,108,105,110,101,0), String.fromCharCode(100,95,54,53,95,116,114,97,110,115,102,111,114,109,115,0)];
         turndown9 = `${parseInt(`${upgrade0}`)}`;
         resultt = (33 == ((!resultt ? 33 : iconnewsshareS.length) * iconnewsshareS.length));
         break;
      }
      for (let z = 0; z < 3; z++) {
          let brightnessw = false;
         turndown9 = `${(parseInt(`${upgrade0}`) * (brightnessw ? 2 : 3))}`;
      }
         upgrade0 -= turndown9.length + parseInt(`${upgrade0}`);
      arrowupn -= (parseInt(`${tempY}`) << (Math.min(2, Math.abs((submit7 ? 5 : 1)))));
   }
   while (!roomk) {
      roomk = 52 <= sheetp.length;
      break;
   }
      iconsubssuccessF = mapbufferU >= parseInt(`${tempY}`);
   if (!iconsubssuccessF && 3 < (3 >> (Math.min(1, Math.abs(profileactivey.size))))) {
      profileactivey.set(`${const_nkR}`, const_nkR.length + profileactivey.size);
   }
      profileactivey.set(`${submit7}`, (mapbufferU ^ (submit7 ? 5 : 1)));
   while (!submit7) {
       let eyeopenY = 1;
       let tumbnailu = 3;
       let starG = true;
       let photof = true;
         tumbnailu >>= Math.min(2, Math.abs(eyeopenY));
      for (let o = 0; o < 2; o++) {
          let unfillx = 3.0;
          let flag9 = String.fromCharCode(106,95,52,51,95,97,103,103,114,101,103,97,116,101,0);
         photof = eyeopenY >= tumbnailu;
         unfillx -= parseInt(`${unfillx}`);
         flag9 += `${flag9.length / 2}`;
      }
       let sinaz: Array<any> = [String.fromCharCode(105,100,99,116,108,108,109,95,109,95,53,0), String.fromCharCode(108,95,53,50,95,116,114,97,110,115,108,97,116,105,111,110,0)];
      while (starG || !photof) {
         photof = sinaz.length <= tumbnailu;
         break;
      }
         starG = tumbnailu == 50 && 50 == sinaz.length;
      sentryE += `${2 - parseInt(`${arrowupn}`)}`;
      break;
   }
   if (!sheetp.startsWith(`${lightn.length}`)) {
      sheetp = `${1 ^ sentryE.length}`;
   }
      profileactivey.set(`${sourceH}`, sourceH << (Math.min(Math.abs(parseInt(`${arrowupn}`)), 4)));
   while ((3.97 * arrowupn) <= 4.85 && !roomk) {
      arrowupn -= const_nkR.length;
      break;
   }
   for (let b = 0; b < 1; b++) {
      buffer8.set(`${arrowupn}`, parseInt(`${arrowupn}`) - parseInt(`${tempY}`));
   }
   for (let z = 0; z < 2; z++) {
      tempY *= mapbufferU;
   }
       let update_rjD = 3;
       let vipsportW: Array<any> = [844, 466, 343];
      while ((update_rjD | 1) > 1 && 1 > (update_rjD | vipsportW.length)) {
         vipsportW = [update_rjD * vipsportW.length];
         break;
      }
       let entrya: Map<any, any> = new Map([[String.fromCharCode(103,95,53,54,95,100,97,116,97,98,108,111,99,107,0),210], [String.fromCharCode(116,95,51,56,95,109,111,118,101,0),286], [String.fromCharCode(101,95,50,49,95,105,110,112,108,105,99,105,116,101,108,121,0),588]]);
       let iconplayK: Map<any, any> = new Map([[String.fromCharCode(113,95,50,51,95,97,115,115,111,99,105,97,116,105,111,110,115,0),false ], [String.fromCharCode(103,95,55,56,95,99,97,114,114,105,97,103,101,0),false ]]);
      if (3 == (iconplayK.size ^ 4) && (iconplayK.size ^ 4) == 1) {
         iconplayK = new Map([[`${iconplayK.size}`, 1 % (Math.max(4, iconplayK.size))]]);
      }
         entrya.set(`${update_rjD}`, update_rjD | 3);
          let greenu = 2;
          let orientationX = 0;
         update_rjD += vipsportW.length & update_rjD;
         greenu %= Math.max(5, orientationX);
         orientationX <<= Math.min(Math.abs(orientationX + greenu), 2);
      for (let h = 0; h < 1; h++) {
          let libglog9 = String.fromCharCode(106,95,53,53,95,115,101,108,102,0);
          let materialm = String.fromCharCode(107,95,55,95,102,108,105,112,112,101,100,0);
         update_rjD -= entrya.size << (Math.min(Math.abs(iconplayK.size), 5));
         libglog9 = `${libglog9.length / 3}`;
         materialm += `${libglog9.length - materialm.length}`;
      }
      const_nkR = `${(String.fromCharCode(83,0) == sheetp ? sheetp.length : mapbufferU)}`;
       let iconeditL = String.fromCharCode(100,95,54,54,95,97,99,101,108,112,0);
          let disconnectedg: Array<any> = [502, 38, 218];
          let floaterK = 4.0;
          let iconpipexpands: Array<any> = [String.fromCharCode(105,95,52,57,95,99,111,110,115,117,109,101,0), String.fromCharCode(122,95,49,48,48,95,114,103,98,112,108,117,115,0)];
         iconeditL += `${1 + disconnectedg.length}`;
         disconnectedg = [parseInt(`${floaterK}`)];
         floaterK /= Math.max(iconpipexpands.length ^ 3, 2);
         iconpipexpands = [3 ^ iconpipexpands.length];
          let description_0N = 1.0;
          let forwardo = String.fromCharCode(116,101,120,116,102,105,108,101,95,113,95,55,52,0);
          let usernameJ = 3;
         iconeditL = "2";
         description_0N += parseFloat(`${forwardo.length}`);
         forwardo += "3";
         usernameJ += forwardo.length ^ parseInt(`${description_0N}`);
      let renewe = String.fromCharCode(55,102,52,117,120,54,0) == iconeditL;
      do {
         iconeditL = `${iconeditL.length}`;
         if (renewe) {
            break;
         }
      } while ((iconeditL.includes(iconeditL)) && renewe);
      profileactivey = new Map([[`${iconsubssuccessF}`, mapbufferU]]);
      profileactivey.set(`${roomk}`, ((roomk ? 1 : 3) / (Math.max(parseInt(`${tempY}`), 8))));
   for (let e = 0; e < 3; e++) {
      lightn += `${iconplayP}`;
   }
      sourceH |= (roomV ^ (submit7 ? 4 : 4));
   if (2.97 == (tempY - mapbufferU)) {
      tempY += 1;
   }
   if (tempY < 5.50 && (tempY + 5.50) < 4.54) {
      tempY *= 3 | sentryE.length;
   }
      tempY /= Math.max(((roomk ? 1 : 4) ^ roomV), 1);
      iconsubssuccessF = (iconplayP & lightn.length) >= 95;
      sourceH |= sentryE.length ^ mapbufferU;
      buffer8 = new Map([[`${buffer8.size}`, buffer8.size]]);
   let iconfeedbackk = 5240366 <= roomV;
   do {
       let predictionbannersharedvy = String.fromCharCode(108,105,98,115,115,104,95,48,95,53,49,0);
       let modulesp = true;
      if (predictionbannersharedvy.endsWith(`${modulesp}`)) {
          let iconnointernete = String.fromCharCode(105,110,105,116,101,110,99,95,121,95,56,57,0);
          let videocommong: Map<any, any> = new Map([[String.fromCharCode(108,111,111,112,102,105,108,116,101,114,95,121,95,52,0),659], [String.fromCharCode(121,95,52,50,95,118,112,109,116,0),594], [String.fromCharCode(108,95,51,55,95,109,107,118,109,117,120,101,114,0),418]]);
          let indexE = String.fromCharCode(116,97,112,102,105,108,116,101,114,95,53,95,54,48,0);
          let championJ: Array<any> = [274, 511, 259];
         modulesp = (videocommong.size + championJ.length) <= 33;
         iconnointernete = `${(String.fromCharCode(118,0) == iconnointernete ? iconnointernete.length : indexE.length)}`;
         videocommong.set(iconnointernete, indexE.length);
         championJ.push(indexE.length / (Math.max(3, 1)));
      }
      for (let h = 0; h < 3; h++) {
         predictionbannersharedvy += `${(3 << (Math.min(5, Math.abs((modulesp ? 2 : 5)))))}`;
      }
      let filedJ = modulesp ? !modulesp : modulesp;
      do {
          let unimplementedviewo = String.fromCharCode(99,95,53,55,95,112,97,114,105,116,121,0);
          let controlp: Array<any> = [750, 629];
          let favoritek = 2;
          let huawei6 = String.fromCharCode(110,97,109,101,95,109,95,57,56,0);
          let handlerl: Map<any, any> = new Map([[String.fromCharCode(119,95,54,57,95,97,100,100,0),375], [String.fromCharCode(97,95,57,49,0),376], [String.fromCharCode(99,121,99,108,101,95,108,95,49,50,0),9]]);
         modulesp = predictionbannersharedvy == String.fromCharCode(114,0);
         unimplementedviewo += `${handlerl.size}`;
         controlp = [handlerl.size];
         favoritek *= 1;
         huawei6 += `${controlp.length}`;
         if (filedJ) {
            break;
         }
      } while (filedJ && (!predictionbannersharedvy.endsWith(`${modulesp}`)));
       let yellowredcard7 = 1.0;
         yellowredcard7 *= (parseFloat(`${(modulesp ? 4 : 4) - predictionbannersharedvy.length}`));
      let giflivestreamingp = modulesp ? !modulesp : modulesp;
      do {
         modulesp = String.fromCharCode(87,0) == predictionbannersharedvy || 68.53 < yellowredcard7;
         if (giflivestreamingp) {
            break;
         }
      } while ((!modulesp && predictionbannersharedvy.length >= 5) && giflivestreamingp);
      roomV <<= Math.min(Math.abs((roomV & (submit7 ? 2 : 4))), 5);
      if (iconfeedbackk) {
         break;
      }
   } while ((4 <= (1 - sourceH)) && iconfeedbackk);
      sheetp = `${lightn.length}`;
 },
}: wwIndexDice) {
  const { colors, textVariants, spacing } = useTheme();
  const dispatch = useAppDispatch();
  const navigation = useNavigation();
  const [showLoading, setShowLoading] = useState(false);
  const userState = useSelector<wwVertical>('userReducer');
  const isVip = wwBodan.fakeIsVip(userState.user);
  const [totalPage, setTotalPage] = useState(1);
  const [results, setResults] = useState<Array<wwDownloadingScheduler>>([]);

  
  
  //     if ((item?.vod_list?.length ?? 0) === 0) return <></>;

  
  
  
  
  
  
  
  
  
  
  
  
  
  //       >
  
  
  
  
  
  
  
  //         />
  
  
  
  
  
  
  
  
  
  //             />
  
  
  //       </View>
  
  
  
  

  
  function listItem({ item, index }) {
    if ((item?.vod_list?.length ?? 0) === 0) return <></>;

    return (
      <View
        key={`${item.type_name}-${index}`}
        style={{
          gap: spacing.m,
          paddingLeft: spacing.sideOffset,
          paddingRight: spacing.sideOffset,
          backgroundColor: "#0c0c0c",
          borderRadius: 15,
          marginBottom: 15,
          paddingTop: 4,
          paddingBottom: 4,
        }}
      >
        <ShowMoreVodButton
          text={item.type_name.trim()}
          onPress={() => {
            navigation.navigate("午夜场剧情", {
              class: item.type_name,
              vod_source_name: item.vod_source_name
            });
          }}
        />
        {
          item?.vod_list && (
            <VodListVerticalVip
              numOfRows={2}
              vods={item?.vod_list}
              minNumPerRow={2}
              heightToWidthRatio={1 / 1.814}
              playerMode="adult"
            />
          )
        }
      </View>
    );
  }

  const fetchXCategories = (page: number) =>
    wwRewardvideoMegaphone.getXVodList(page).then((results: Array<wwDownloadingScheduler>) => {
      setTotalPage(9);
      console.log("HEH");
      return Object.values(results);
    });

  const {
    data: xData,
    isSuccess,
    hasNextPage,
    fetchNextPage,
    isFetchingNextPage,
    isFetching,
    refetch,
  } = useInfiniteQuery(
    ['xvodPlayList'],
    ({ pageParam = 1 }) => fetchXCategories(pageParam),
    {
      getNextPageParam: (lastPage, allPages) => {
        if (lastPage === null) {
          return undefined;
        }
        const nextPage: any = allPages.length + 1;
        
        if (nextPage > totalPage && totalPage != 0) {
          return undefined;
        }
        return nextPage;
      },
      onSuccess: data => {
        if (data && data?.pages) {
          setResults([...results, ...data.pages[data.pages.length - 1].flat()]);
        }
      },
    },
  );

  useEffect(() => {
    dispatch(setManualShowPopAds(true))
    if (results == undefined) {
      setShowLoading(true);
    }
  }, []);

  useEffect(() => {
    if (results.length == 0) {
      refetch();
    }
  }, [results])

  return (
    <SafeAreaView style={{ flex: 1 }}>
      {showLoading && (
        <View
          style={{
            position: "absolute",
            
            backgroundColor: "#0c0c0c",
            zIndex: 1,
            width: "100%",
            height: "100%",
            justifyContent: "center",
            alignItems: "center",
            borderRadius: 15,

          }}
        >
          <FastImage
            source={require("@static/images/runtimeschedulerPromotion.gif")}
            style={{ width: 100, height: 100 }}
            resizeMode="contain"
          />
        </View>
      )}

      <View style={{ paddingTop: 10 }}>
        <FlatList
          data={results}
          keyExtractor={(item: wwRulesPhoto, index: number) => index.toString() + item.type_name}
          initialNumToRender={0}
          windowSize={3}
          maxToRenderPerBatch={3}
          renderItem={listItem}
          contentContainerStyle={{ paddingBottom: 60 }}
          removeClippedSubviews={true}
          onEndReachedThreshold={0.5}
          scrollEnabled={isVip}
          onEndReached={() => {
            if (hasNextPage && !isFetchingNextPage && !isFetching) {
              fetchNextPage();
            }
          }}
          ListFooterComponent={
            <View style={{ ...styles.loading }}>
              {hasNextPage && (
                <FastImage
                  style={{
                    height: 80,
                    width: 80,

                    flex: 1,
                    justifyContent: 'center',
                    alignItems: 'center',
                  }}
                  source={require('@static/images/runtimeschedulerPromotion.gif')}
                  resizeMode={'contain'}
                />
              )}
              {!(isFetchingNextPage || isFetching) && !hasNextPage && (
                <Text
                  style={{
                    ...textVariants.subBody,
                    color: colors.muted,
                    paddingTop: 12,
                  }}>
                  已经到底了
                </Text>
              )}
            </View>
          }
        />
      </View>
      { }
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  loading: {
    flexDirection: "row",
    justifyContent: "center",
    flex: 1,
  },
});
