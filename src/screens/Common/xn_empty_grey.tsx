import React, {useState} from 'react';
import {View, TouchableOpacity, Text, StyleSheet, FlatList} from 'react-native';
import ScreenContainer from '../../components/container/ypy_fast';
import {RootStackScreenProps} from '@type/vrm_thailand';
import {useTheme} from '@react-navigation/native';
import {useAppDispatch, useAppSelector} from '@hooks/kg_index';
import {PSmall} from '@redux/fj_prediction_thailand';

import TitleWithBackButtonHeader from '../../components/header/cio_news_types_header';
import {VFMode, QQCenterChart} from '@redux/reducers/pxk_lang_quest';
import {removeVodsFromHistory, playVod} from '@redux/actions/xif_layout';
import VodHistoryCard from '../../components/vod/sps_layout';
import CheckBoxSelected from '@static/images/foundPauseCircle.svg';
import CheckBoxUnselected from '@static/images/middlewareGoalStation.svg';
import {XVSScoreDark} from '@type/wpk_long';
import {Button} from '@rneui/themed';
import ConfirmationModal from '../../components/modal/nw_topic';
import VodLiveStationListVertical from '../../components/vod/mmr_placeholder';
import EmptyList from '../../components/common/jip_next_bell';
import {ScrollView} from 'react-native-gesture-handler';

type MEYMode = {
  item: VFMode;
};
export default ({navigation, route}: RootStackScreenProps<'电视台列表'>) => {
  const {liveStationItemList} = route.params;
  const {colors, textVariants, icons, spacing} = useTheme();
  const dispatch = useAppDispatch();
  const vodReducer: QQCenterChart = useAppSelector(
    ({vodReducer}: PSmall) => vodReducer,
  );
  const history = vodReducer.history;
  const [isEditing, setIsEditing] = useState(false);
  const [removeHistory, setRemoveHistory] = useState<Array<XVSScoreDark>>([]);
  const [isDialogOpen, setIsDialogOpen] = useState(false);

  const toggleOverlay = () => {
       let appleX = String.fromCharCode(112,114,101,105,118,111,117,115,95,48,95,51,49,0);
    let bodans = 2.0;
    let uploadE: Array<any> = [825, 621, 218];
    let injuryy = String.fromCharCode(109,95,53,95,112,116,111,110,0);
    let becomed = 1.0;
    let switch_sa7 = 0.0;
    let homeL = String.fromCharCode(120,95,49,57,95,118,111,105,100,0);
    let auto_5bL = String.fromCharCode(98,105,116,101,95,105,95,56,53,0);
    let castingl = true;
    let styleP: Map<any, any> = new Map([[String.fromCharCode(98,117,116,116,101,114,119,111,114,116,104,95,110,95,56,55,0),305], [String.fromCharCode(110,111,110,110,117,108,108,99,111,110,116,101,110,116,115,95,104,95,53,53,0),910], [String.fromCharCode(102,95,55,52,95,101,116,104,111,100,0),344]]);
       let activee = 5;
         activee >>= Math.min(4, Math.abs(activee));
      while ((activee & 3) < 5 || 4 < (activee & 3)) {
         activee >>= Math.min(5, Math.abs(activee + 2));
         break;
      }
      while ((activee & activee) <= 2) {
         activee |= 3 & activee;
         break;
      }
      bodans -= 1;
   for (let u = 0; u < 1; u++) {
      castingl = String.fromCharCode(81,0) == injuryy;
   }
      injuryy += `${appleX.length}`;
   let vietnamG = 7371293.0 <= switch_sa7;
   do {
      switch_sa7 += 1;
      if (vietnamG) {
         break;
      }
   } while (vietnamG && (3.85 <= (2.31 + switch_sa7)));
      uploadE = [(injuryy == String.fromCharCode(81,0) ? injuryy.length : appleX.length)];
      uploadE.push(homeL.length);
   for (let e = 0; e < 1; e++) {
       let thailandc = 0.0;
       let inviteJ = 0;
       let dice6: Map<any, any> = new Map([[String.fromCharCode(116,95,52,52,95,118,109,110,99,0),true ], [String.fromCharCode(102,95,54,51,95,115,104,111,114,116,101,115,116,0),false ], [String.fromCharCode(115,95,53,48,95,100,112,110,97,109,101,0),true ]]);
       let stringX = 1.0;
      if (3 < (dice6.size % 3) && (2.44 - thailandc) < 4.59) {
         thailandc -= 1;
      }
         stringX /= Math.max(dice6.size % 2, 5);
      for (let y = 0; y < 1; y++) {
         thailandc *= dice6.size & parseInt(`${thailandc}`);
      }
       let incidentU: Array<any> = [667, 542, 514];
       let sportC: Array<any> = [218, 559];
       let window_0d = 5.0;
         inviteJ >>= Math.min(Math.abs(parseInt(`${thailandc}`) % 2), 1);
       let bootsplashK: Array<any> = [934, 220, 903];
      let photoX = 8057627.0 <= thailandc;
      do {
          let actionsS = 4;
          let floatingi = String.fromCharCode(110,95,57,54,95,109,97,107,101,110,97,110,0);
         thailandc -= 1 >> (Math.min(4, floatingi.length));
         actionsS -= actionsS & actionsS;
         floatingi += `${actionsS}`;
         if (photoX) {
            break;
         }
      } while ((4.87 >= (thailandc - 4.86) || (thailandc - 4.86) >= 4.59) && photoX);
      let refreshT = 7914176.0 >= stringX;
      do {
         stringX -= parseInt(`${window_0d}`);
         if (refreshT) {
            break;
         }
      } while (((stringX * 1.73) <= 1.10 && 5 <= (dice6.size + 2)) && refreshT);
       let gemfile8 = String.fromCharCode(105,115,115,117,105,110,103,95,97,95,48,0);
      for (let p = 0; p < 2; p++) {
         sportC = [incidentU.length - parseInt(`${window_0d}`)];
      }
      while (5 > (2 | inviteJ)) {
          let star4 = 0;
         inviteJ &= 1 & bootsplashK.length;
         star4 <<= Math.min(Math.abs(1 - star4), 2);
         break;
      }
      becomed += 1;
   }
      uploadE = [parseInt(`${bodans}`)];
      becomed *= 2 ^ injuryy.length;
   let lessh = bodans >= 8668569.0;
   do {
       let plashK = 5;
       let grey5: Array<any> = [217, 436];
      while ((grey5.length >> (Math.min(Math.abs(5), 4))) == 5 && 4 == (plashK >> (Math.min(Math.abs(5), 4)))) {
         grey5 = [grey5.length];
         break;
      }
      for (let o = 0; o < 3; o++) {
         grey5 = [3 ^ grey5.length];
      }
       let buffer7 = true;
       let logoutk = false;
       let umengO = 2.0;
         grey5.push(grey5.length);
          let whitem = String.fromCharCode(100,111,99,116,111,116,97,108,95,49,95,53,50,0);
         umengO *= parseFloat(`${plashK}`);
         whitem += `${whitem.length & whitem.length}`;
      bodans *= styleP.size - grey5.length;
      if (lessh) {
         break;
      }
   } while ((!appleX.includes(`${bodans}`)) && lessh);
      castingl = uploadE.length > styleP.size;
   for (let c = 0; c < 3; c++) {
       let schedulec = String.fromCharCode(122,95,54,48,95,115,117,99,104,0);
       let strI = String.fromCharCode(112,97,114,97,109,101,116,101,114,115,95,111,95,56,52,0);
       let textD: Array<any> = [619, 782];
      for (let p = 0; p < 2; p++) {
          let long_aZ = true;
          let lightr = String.fromCharCode(108,111,99,107,97,98,108,101,95,54,95,49,48,48,0);
          let historyQ = String.fromCharCode(115,116,114,110,115,116,114,95,99,95,54,49,0);
          let sortL = String.fromCharCode(114,116,112,112,114,111,116,111,95,116,95,54,56,0);
         strI = `${textD.length + sortL.length}`;
         long_aZ = !long_aZ;
         lightr = "1";
         historyQ += `${historyQ.length}`;
         sortL += "3";
      }
         strI += `${schedulec.length}`;
         schedulec += `${strI.length | schedulec.length}`;
      if (schedulec == strI) {
         strI = `${(schedulec == String.fromCharCode(51,0) ? schedulec.length : strI.length)}`;
      }
      for (let p = 0; p < 3; p++) {
          let helperI = String.fromCharCode(112,108,97,121,97,98,108,101,95,112,95,52,51,0);
         textD = [3 / (Math.max(2, schedulec.length))];
         helperI = "3";
      }
      let related6 = 7577221 <= textD.length;
      do {
         textD.push(schedulec.length);
         if (related6) {
            break;
         }
      } while (((textD.length % (Math.max(5, 3))) >= 4 && (textD.length % (Math.max(schedulec.length, 8))) >= 5) && related6);
          let themey = String.fromCharCode(118,99,120,112,114,111,106,95,113,95,50,57,0);
          let eact5: Array<any> = [375, 740, 40];
          let logoutg = 5;
         strI = "3";
         themey += `${logoutg % (Math.max(eact5.length, 4))}`;
         eact5 = [logoutg];
         textD = [textD.length];
      let shareQ = strI == String.fromCharCode(111,107,51,54,97,0);
      do {
         strI = `${2 >> (Math.min(1, schedulec.length))}`;
         if (shareQ) {
            break;
         }
      } while (shareQ && ((1 - strI.length) <= 3 || 1 <= (strI.length - textD.length)));
      uploadE = [schedulec.length | appleX.length];
   }
      becomed /= Math.max((3 ^ (castingl ? 2 : 5)), 5);
   let moviesv = becomed >= 6326529.0;
   do {
      becomed -= auto_5bL.length;
      if (moviesv) {
         break;
      }
   } while (moviesv && (3.85 > becomed && 2.22 > (becomed + 3.85)));
   if ((homeL.length + parseInt(`${switch_sa7}`)) >= 3 && 1 >= (homeL.length + 3)) {
       let settingsH = String.fromCharCode(113,95,49,49,95,115,119,105,122,122,108,101,0);
       let private_qyY: Array<any> = [String.fromCharCode(121,95,51,50,95,115,105,103,110,97,116,117,114,101,115,0), String.fromCharCode(102,95,53,55,95,111,117,116,115,105,100,101,0), String.fromCharCode(120,117,118,109,118,115,95,109,95,52,53,0)];
       let subs4 = 2;
       let entryJ: Map<any, any> = new Map([[String.fromCharCode(101,95,55,48,95,101,98,109,108,0),269], [String.fromCharCode(111,100,100,95,100,95,57,49,0),84], [String.fromCharCode(115,105,103,110,105,110,103,95,122,95,56,50,0),751]]);
       let splashg = String.fromCharCode(97,116,111,102,95,115,95,54,56,0);
      for (let f = 0; f < 1; f++) {
         settingsH = `${2 >> (Math.min(1, settingsH.length))}`;
      }
      while (2 > (5 ^ private_qyY.length) || (5 ^ private_qyY.length) > 4) {
         private_qyY.push(settingsH.length >> (Math.min(Math.abs(3), 1)));
         break;
      }
      let register_o_m = 9506314 <= entryJ.size;
      do {
          let short_wtx = 4.0;
          let modelsk = 3;
          let type_4u = String.fromCharCode(104,95,53,56,95,118,97,114,116,105,109,101,0);
         entryJ.set(`${short_wtx}`, entryJ.size & 3);
         short_wtx *= parseFloat(`${1 - type_4u.length}`);
         modelsk |= modelsk + type_4u.length;
         if (register_o_m) {
            break;
         }
      } while ((3 < (5 * splashg.length)) && register_o_m);
         settingsH += `${subs4}`;
      for (let d = 0; d < 3; d++) {
          let modityw: Array<any> = [776, 226, 873];
          let giftK: Array<any> = [217, 606];
          let placeholderY: Array<any> = [633, 18];
          let promotionh: Map<any, any> = new Map([[String.fromCharCode(120,95,57,56,95,115,113,117,101,101,122,101,0),String.fromCharCode(119,101,108,99,104,95,105,95,54,52,0)], [String.fromCharCode(100,101,102,108,105,99,107,101,114,95,55,95,51,55,0),String.fromCharCode(97,98,101,108,95,106,95,54,0)]]);
         entryJ.set(`${modityw.length}`, modityw.length >> (Math.min(Math.abs(3), 4)));
         giftK = [2 & giftK.length];
         placeholderY.push(promotionh.size);
         promotionh.set(`${placeholderY.length}`, placeholderY.length);
      }
          let eactV = false;
          let renewj = String.fromCharCode(108,95,52,57,95,107,101,121,101,100,0);
          let viewsQ = String.fromCharCode(118,95,49,48,95,103,97,105,110,0);
         splashg = `${(settingsH == String.fromCharCode(104,0) ? settingsH.length : subs4)}`;
         eactV = renewj.length >= viewsQ.length;
         renewj += `${((eactV ? 3 : 3))}`;
         viewsQ += `${(1 & (eactV ? 1 : 2))}`;
         private_qyY = [(splashg == String.fromCharCode(122,0) ? splashg.length : entryJ.size)];
          let textu = false;
          let sportl = 5.0;
         settingsH = `${entryJ.size}`;
         textu = !textu;
         sportl /= Math.max((parseInt(`${sportl}`) << (Math.min(4, Math.abs((textu ? 5 : 3))))), 5);
       let closeo = false;
       let homeM = true;
          let formb = String.fromCharCode(116,95,57,48,95,109,111,118,101,99,98,0);
         splashg += `${settingsH.length}`;
         formb += `${formb.length}`;
          let updatesx = 5;
          let roboto4: Array<any> = [403, 985];
          let langI = String.fromCharCode(101,95,52,53,95,105,110,116,108,0);
         subs4 %= Math.max(entryJ.size, 1);
         updatesx ^= (langI == String.fromCharCode(74,0) ? roboto4.length : langI.length);
         roboto4 = [roboto4.length + langI.length];
      switch_sa7 -= styleP.size ^ parseInt(`${switch_sa7}`);
   }
       let casting7 = String.fromCharCode(109,108,112,100,115,112,95,121,95,52,52,0);
      let brightnessD = casting7.length >= 7200590;
      do {
         casting7 = `${casting7.length | 1}`;
         if (brightnessD) {
            break;
         }
      } while ((casting7 == String.fromCharCode(53,0)) && brightnessD);
      while (casting7 != casting7) {
         casting7 = `${(String.fromCharCode(120,0) == casting7 ? casting7.length : casting7.length)}`;
         break;
      }
      let miniD = casting7 == String.fromCharCode(95,50,110,117,108,104,54,0);
      do {
         casting7 += `${casting7.length}`;
         if (miniD) {
            break;
         }
      } while ((casting7 != String.fromCharCode(74,0) && casting7 != String.fromCharCode(81,0)) && miniD);
      switch_sa7 -= styleP.size - 2;
      becomed *= appleX.length;
      styleP = new Map([[`${switch_sa7}`, parseInt(`${bodans}`) & parseInt(`${switch_sa7}`)]]);
   for (let b = 0; b < 1; b++) {
      styleP = new Map([[`${bodans}`, 3 / (Math.max(6, parseInt(`${bodans}`)))]]);
   }
   if (castingl || (becomed - 1.88) <= 3.9) {
      becomed /= Math.max(1, injuryy.length);
   }
       let eact9: Array<any> = [751, 732];
       let fillQ: Map<any, any> = new Map([[String.fromCharCode(109,95,51,52,95,99,117,115,116,111,109,105,122,101,114,0),286], [String.fromCharCode(105,115,101,120,112,108,97,105,110,95,121,95,55,52,0),470]]);
       let placementN = String.fromCharCode(97,95,57,55,95,101,116,101,114,110,105,116,121,0);
      if (4 < (fillQ.size ^ eact9.length)) {
          let firebase9 = String.fromCharCode(102,97,99,101,115,95,122,95,54,56,0);
          let brightness3 = String.fromCharCode(111,115,99,105,108,108,111,115,99,111,112,101,95,108,95,54,0);
          let applev: Map<any, any> = new Map([[String.fromCharCode(115,97,116,117,114,97,116,101,95,115,95,54,52,0),968], [String.fromCharCode(103,95,52,55,95,100,105,115,99,108,111,115,117,114,101,0),622]]);
         fillQ.set(placementN, 1 | placementN.length);
         firebase9 = `${(String.fromCharCode(69,0) == brightness3 ? brightness3.length : firebase9.length)}`;
         applev = new Map([[`${applev.size}`, (String.fromCharCode(75,0) == brightness3 ? applev.size : brightness3.length)]]);
      }
      for (let y = 0; y < 1; y++) {
         placementN = "3";
      }
      while (placementN.endsWith(`${eact9.length}`)) {
          let acceptedk = String.fromCharCode(104,95,52,53,95,114,101,109,111,118,97,108,0);
         placementN += `${fillQ.size >> (Math.min(acceptedk.length, 4))}`;
         break;
      }
         eact9.push(fillQ.size >> (Math.min(Math.abs(2), 4)));
       let tailD = String.fromCharCode(117,95,57,53,95,105,110,104,105,98,105,116,0);
       let apple0 = String.fromCharCode(104,105,110,116,101,100,95,122,95,56,56,0);
          let internetg = String.fromCharCode(114,95,54,48,95,105,110,116,114,97,112,114,101,100,0);
         fillQ.set(tailD, 3);
         internetg += `${internetg.length & 3}`;
      while (fillQ.size > eact9.length) {
         eact9.push(tailD.length & 3);
         break;
      }
         tailD = `${apple0.length}`;
         fillQ.set(`${placementN}`, fillQ.size);
      auto_5bL = "3";

    setIsDialogOpen(!isDialogOpen);
  };

  const toggleHistory = (vod: XVSScoreDark) => {
    const filtered = removeHistory.filter(x => x.vod_id !== vod.vod_id);
    if (filtered.length === removeHistory.length) {
      setRemoveHistory([vod, ...removeHistory]);
    } else {
      setRemoveHistory(filtered);
    }
  };
  return (
    <ScreenContainer>
      <TitleWithBackButtonHeader
        title="电视台"
        
      />
      <ScrollView style={{marginBottom: spacing.xl}}>
        {liveStationItemList != undefined && liveStationItemList.length > 0 && (
          <View
            style={{
              ...styles.descriptionContainer,
              gap: spacing.m,
              alignItems: 'center',
            }}>
            <VodLiveStationListVertical
              itemList={liveStationItemList}
              itemsPerRow={2}
              numOfRows={100}
            />
          </View>
        )}
        {/* {
                    history && history.length === 0 &&
                    <EmptyList description='暂无播放历史' />
                } */}
      </ScrollView>
    </ScreenContainer>
  );
};

const styles = StyleSheet.create({
  descriptionContainer: {
    flex: 1,
  },
});
