import { StyleSheet, Text, TouchableOpacity, View } from "react-native"
import { useTheme } from '@react-navigation/native';
import LinearGradient from "react-native-linear-gradient";
import { promoMembershipModel } from "@type/wawa_libfabricjni_issub";
import Tick from "@static/images/splash/bgvipxvodArrowdownRoom.svg";
import { IS_ANDROID, UMENG_CHANNEL } from "@utility/wawa_iconpointscore";

interface wawaAwayShow {
  membershipPlan: promoMembershipModel;
  isSelected: boolean;
  onSelect: (selected: promoMembershipModel) => void;
}

export const VipMember = ({
  membershipPlan,
  isSelected,
  onSelect,
}: wawaAwayShow) => {
  const { textVariants, colors } = useTheme();
  const handleClick = () => {
       let casts: Array<any> = [642, 714];
    let modeA: Map<any, any> = new Map([[String.fromCharCode(118,101,99,115,95,48,95,52,51,0),String.fromCharCode(112,111,108,121,108,105,110,101,95,105,95,54,0)], [String.fromCharCode(119,95,56,55,95,111,110,101,115,0),String.fromCharCode(113,95,56,51,95,109,111,100,105,102,105,101,100,0)], [String.fromCharCode(101,115,99,97,112,101,115,95,109,95,50,50,0),String.fromCharCode(114,95,55,53,95,105,109,112,111,114,116,0)]]);
    let internet6: Array<any> = [843, 89];
    let footballfiledlayoute = 5.0;
    let controlsN = 4.0;
    let iconsaveimagex: Array<any> = [String.fromCharCode(114,95,52,56,95,117,115,101,97,103,101,0), String.fromCharCode(111,95,52,95,102,105,108,116,101,114,101,100,0)];
    let containeri: Array<any> = [String.fromCharCode(101,95,53,50,95,100,105,109,101,110,115,0), String.fromCharCode(121,117,118,110,118,99,95,120,95,52,55,0)];
    let styleW = String.fromCharCode(109,95,49,50,95,99,111,118,101,114,0);
    let eyeopen_ = true;
    let clear9 = 3;
    let flyerJ: Map<any, any> = new Map([[String.fromCharCode(102,95,57,56,95,109,105,103,114,97,116,101,100,0),false ], [String.fromCharCode(117,95,52,51,95,100,119,111,114,100,0),true ], [String.fromCharCode(108,111,119,100,101,108,97,121,95,115,95,53,55,0),false ]]);
      modeA = new Map([[`${containeri.length}`, containeri.length ^ styleW.length]]);
       let backiconmaskT: Array<any> = [962, 986];
      while (!backiconmaskT.includes(backiconmaskT.length)) {
          let fullscreenmind = String.fromCharCode(114,95,51,56,95,97,108,97,98,97,115,116,101,114,0);
          let completeh = 0.0;
         backiconmaskT = [(String.fromCharCode(53,0) == fullscreenmind ? backiconmaskT.length : fullscreenmind.length)];
         completeh /= Math.max(4, parseInt(`${completeh}`));
         break;
      }
      for (let w = 0; w < 2; w++) {
          let side0 = 1;
         backiconmaskT = [3 + backiconmaskT.length];
         side0 ^= side0;
      }
      let firebaseg = 7191899 <= backiconmaskT.length;
      do {
         backiconmaskT = [2 + backiconmaskT.length];
         if (firebaseg) {
            break;
         }
      } while (firebaseg && (backiconmaskT.includes(backiconmaskT.length)));
      clear9 |= clear9 + 1;
   let edit9 = String.fromCharCode(117,100,98,116,110,114,118,112,0) == styleW;
   do {
      styleW += `${casts.length - clear9}`;
      if (edit9) {
         break;
      }
   } while ((!styleW.includes(`${footballfiledlayoute}`)) && edit9);
   if (3 < modeA.size) {
       let shirtF = String.fromCharCode(110,101,103,97,116,101,95,113,95,56,51,0);
       let analyticsK = String.fromCharCode(101,120,105,115,116,101,100,95,108,95,51,49,0);
       let gifgoalm = String.fromCharCode(101,109,117,108,97,116,101,95,113,95,56,52,0);
       let common4: Map<any, any> = new Map([[String.fromCharCode(103,101,110,101,114,97,116,111,114,95,100,95,50,51,0),String.fromCharCode(115,111,99,97,110,116,114,99,118,109,111,114,101,95,100,95,54,0)], [String.fromCharCode(97,95,56,49,95,115,112,101,101,100,0),String.fromCharCode(105,110,115,116,101,97,100,95,111,95,55,56,0)]]);
       let redgoalh = 1.0;
      let main_dx = 5448934 <= shirtF.length;
      do {
         shirtF = `${analyticsK.length}`;
         if (main_dx) {
            break;
         }
      } while (main_dx && (analyticsK != shirtF));
      if (analyticsK.length < 2) {
         analyticsK = "2";
      }
         redgoalh -= parseFloat(`${analyticsK.length + 3}`);
         gifgoalm += "1";
      while (4 > (common4.size % (Math.max(gifgoalm.length, 7))) && 2 > (4 % (Math.max(7, common4.size)))) {
         gifgoalm = `${common4.size & 3}`;
         break;
      }
      while (3 > gifgoalm.length) {
         gifgoalm = `${1 / (Math.max(7, gifgoalm.length))}`;
         break;
      }
      while ((common4.size + parseInt(`${redgoalh}`)) > 4 || 4.25 > (redgoalh + 5.55)) {
         common4 = new Map([[shirtF, 2]]);
         break;
      }
         analyticsK = `${parseInt(`${redgoalh}`) * 2}`;
         common4.set(analyticsK, 1 << (Math.min(3, analyticsK.length)));
      if (3 < (5 + gifgoalm.length)) {
         redgoalh -= parseFloat(`${1}`);
      }
      let imagemanagerf = 7250893.0 <= redgoalh;
      do {
          let inactives = 4;
          let editA = String.fromCharCode(100,114,98,103,95,49,95,51,52,0);
          let left7 = String.fromCharCode(118,97,114,105,97,110,99,101,120,104,95,122,95,50,55,0);
         redgoalh -= parseFloat(`${gifgoalm.length}`);
         inactives <<= Math.min(4, Math.abs((editA == String.fromCharCode(113,0) ? editA.length : inactives)));
         left7 += "1";
         if (imagemanagerf) {
            break;
         }
      } while (((parseInt(`${redgoalh}`) / 5) == 5 && (parseInt(`${redgoalh}`) / (Math.max(gifgoalm.length, 8))) == 5) && imagemanagerf);
          let iconorientationy = 1;
          let defaultroombg5 = String.fromCharCode(108,111,115,115,108,101,115,115,95,111,95,48,0);
         common4.set(`${iconorientationy}`, 1 - iconorientationy);
         defaultroombg5 += `${defaultroombg5.length}`;
         gifgoalm = `${common4.size}`;
      let n_unlockp = 6465639 <= gifgoalm.length;
      do {
         gifgoalm += `${gifgoalm.length % (Math.max(shirtF.length, 10))}`;
         if (n_unlockp) {
            break;
         }
      } while (n_unlockp && (analyticsK.length <= gifgoalm.length));
          let canvaso = String.fromCharCode(115,105,103,110,105,102,105,99,97,110,100,95,118,95,48,0);
          let connection7 = String.fromCharCode(97,117,116,111,99,111,109,109,105,116,95,108,95,50,53,0);
          let typingloadingU = String.fromCharCode(116,101,115,115,95,56,95,52,56,0);
         common4.set(`${redgoalh}`, 3 * parseInt(`${redgoalh}`));
         canvaso = `${connection7.length * 3}`;
         connection7 = `${connection7.length}`;
         typingloadingU = `${canvaso.length ^ connection7.length}`;
      clear9 ^= parseInt(`${redgoalh}`);
   }
       let iconclosewhitebgM = 3.0;
       let shareblackR = String.fromCharCode(116,111,116,97,108,115,95,108,95,53,52,0);
      if (5 > (1 + shareblackR.length) && 5 > (shareblackR.length >> (Math.min(Math.abs(1), 4)))) {
         iconclosewhitebgM -= shareblackR.length * 2;
      }
      while (iconclosewhitebgM < shareblackR.length) {
         iconclosewhitebgM += shareblackR.length << (Math.min(2, Math.abs(parseInt(`${iconclosewhitebgM}`))));
         break;
      }
      if (5 >= (shareblackR.length + parseInt(`${iconclosewhitebgM}`))) {
         iconclosewhitebgM /= Math.max(4, parseInt(`${iconclosewhitebgM}`));
      }
         iconclosewhitebgM /= Math.max(1, 3);
      while (4 <= shareblackR.length) {
         shareblackR = `${shareblackR.length}`;
         break;
      }
      let x_positionN = iconclosewhitebgM <= 7507015.0;
      do {
         iconclosewhitebgM /= Math.max(4, shareblackR.length);
         if (x_positionN) {
            break;
         }
      } while ((!shareblackR.includes(`${iconclosewhitebgM}`)) && x_positionN);
      controlsN /= Math.max(1, parseFloat(`${3}`));
   for (let q = 0; q < 3; q++) {
      clear9 |= 2;
   }
      clear9 |= parseInt(`${controlsN}`) << (Math.min(iconsaveimagex.length, 2));
      clear9 &= styleW.length + 2;
       let settingsO = String.fromCharCode(97,95,57,52,95,110,111,100,111,119,110,0);
          let productn: Array<any> = [String.fromCharCode(110,95,54,55,95,112,97,110,101,108,115,0), String.fromCharCode(115,117,98,109,105,116,116,101,100,95,48,95,54,51,0), String.fromCharCode(102,119,114,105,116,101,95,107,95,50,54,0)];
          let s_image6 = String.fromCharCode(112,97,116,104,95,57,95,50,0);
          let interstitiala = 2;
         settingsO += `${s_image6.length}`;
         productn = [productn.length - interstitiala];
         s_image6 = "1";
         interstitiala *= interstitiala << (Math.min(productn.length, 5));
      if (settingsO != settingsO) {
         settingsO += `${settingsO.length - settingsO.length}`;
      }
      let shootnogoal0 = 7016930 >= settingsO.length;
      do {
          let iconsubssuccess_ = String.fromCharCode(101,95,50,49,95,118,97,114,115,0);
         settingsO += `${iconsubssuccess_.length - 3}`;
         if (shootnogoal0) {
            break;
         }
      } while (shootnogoal0 && (settingsO != settingsO));
      eyeopen_ = !eyeopen_;
      internet6 = [1];
   while (styleW.startsWith(`${casts.length}`)) {
      styleW += `${1 % (Math.max(3, flyerJ.size))}`;
      break;
   }
   for (let v = 0; v < 2; v++) {
      footballfiledlayoute /= Math.max(1, 5);
   }
      casts.push(parseInt(`${controlsN}`) | parseInt(`${footballfiledlayoute}`));
      controlsN += parseFloat(`${styleW.length}`);
      modeA = new Map([[`${iconsaveimagex.length}`, 1]]);
       let formQ = String.fromCharCode(118,101,108,97,112,115,101,100,116,105,109,101,114,95,57,95,50,52,0);
         formQ = `${formQ.length >> (Math.min(1, formQ.length))}`;
      while (formQ != String.fromCharCode(55,0) && formQ.length < 5) {
         formQ += `${formQ.length}`;
         break;
      }
          let basketballawayteamV = String.fromCharCode(109,95,55,52,95,112,117,114,103,101,0);
          let floatingJ: Array<any> = [446, 630, 103];
          let predictionarrowz = String.fromCharCode(105,95,55,50,95,97,117,116,104,105,110,102,111,0);
         formQ = `${2 & formQ.length}`;
         basketballawayteamV += "1";
         floatingJ = [basketballawayteamV.length | 3];
         predictionarrowz = `${predictionarrowz.length ^ floatingJ.length}`;
      styleW += `${parseInt(`${controlsN}`)}`;
      internet6.push(iconsaveimagex.length ^ styleW.length);
      controlsN += parseFloat(`${1 << (Math.min(Math.abs(clear9), 1))}`);
      styleW += `${flyerJ.size}`;
   for (let c = 0; c < 2; c++) {
      styleW = `${(parseInt(`${footballfiledlayoute}`) ^ (eyeopen_ ? 1 : 5))}`;
   }
       let photoL = 3;
         photoL &= photoL << (Math.min(4, Math.abs(photoL)));
      while ((2 >> (Math.min(5, Math.abs(photoL)))) == 3 && (2 >> (Math.min(5, Math.abs(photoL)))) == 5) {
         photoL /= Math.max(photoL ^ 1, 2);
         break;
      }
      if (1 <= (photoL + photoL) && (photoL + 1) <= 5) {
          let activeY = 5.0;
          let gradlewk: Map<any, any> = new Map([[String.fromCharCode(115,95,55,53,95,120,99,104,103,0),808], [String.fromCharCode(114,95,49,54,95,109,112,105,98,110,0),971], [String.fromCharCode(102,111,114,119,97,114,100,115,95,118,95,57,50,0),242]]);
          let hongkongO = String.fromCharCode(115,101,116,99,116,120,95,51,95,57,50,0);
          let iconorientationS = 1.0;
          let dicelogox = false;
         photoL += photoL;
         activeY -= parseFloat(`${hongkongO.length}`);
         gradlewk = new Map([[`${gradlewk.size}`, gradlewk.size]]);
         hongkongO += `${3 * parseInt(`${iconorientationS}`)}`;
         iconorientationS += parseFloat(`${1 - parseInt(`${activeY}`)}`);
         dicelogox = 75 <= gradlewk.size;
      }
      styleW = `${containeri.length * 3}`;
   if ((1 >> (Math.min(5, Math.abs(clear9)))) >= 5 || 5 >= (modeA.size >> (Math.min(Math.abs(1), 3)))) {
      clear9 %= Math.max(iconsaveimagex.length + clear9, 4);
   }
   if (controlsN > parseFloat(`${internet6.length}`)) {
      controlsN /= Math.max(parseFloat(`${parseInt(`${controlsN}`) % (Math.max(internet6.length, 10))}`), 1);
   }
      eyeopen_ = null != modeA.get(`${eyeopen_}`);

    onSelect(membershipPlan);
  }

  return (
    <LinearGradient
      colors={isSelected ? ['#BB9468', '#D4AE7F'] : ['rgba(217, 174, 127, 0)', 'rgba(0, 0, 255, 0)']}
      style={styles.gradientBorder}
    >
      <TouchableOpacity
        style={styles.innerContainer}
        onPress={handleClick}
      >
        <LinearGradient
          colors={isSelected ? ['rgba(160, 110, 60, 0.2)', 'rgba(255, 226, 188, 0.2)'] : ['rgba(255, 255, 255, 0.1)', 'rgba(255, 255, 255, 0.02)']}
          start={{ x: 0.5, y: isSelected ? 0.5 : 0 }}
          style={styles.contentContainer}>
          {((UMENG_CHANNEL === "GOOGLE_PLAY" && IS_ANDROID) ? membershipPlan.title === '1个月' : membershipPlan.title === '12个月') &&
            <View style={{ ...styles.legend }}>
              <Text style={{ ...textVariants.small, fontWeight: '600' }}>最多人选择</Text>
            </View>
          }

          {isSelected && (
            <View style={styles.tick}>
              <Tick width={18} height={18} />
            </View>
          )}

          { }
          <View style={styles.productContainer}>
            <Text
              style={{ ...textVariants.bodyBold, textAlignVertical: 'center' }}>
              {membershipPlan.title}
            </Text>
            <Text
              style={styles.promoPriceText}>
                 {membershipPlan.title === '1个月' && 
                <Text   style={styles.promoPriceText2}>首月 {"  "}</Text>  
                 }
                
              {membershipPlan.promoPriceStr}
            </Text>
            <Text
              style={styles.oriPriceText}>
              {membershipPlan.localizedPrice}
            </Text>
          </View>

          { }
          <View style={{
            ...styles.descriptionContainer,
            backgroundColor: isSelected ? '#F9EBDB' : "#393939",
          }}>
            <Text style={{
              ...styles.descriptionText,
              color: isSelected ? '#351B04' : '#fff',
            }}>
              {membershipPlan.description}
            </Text>
          </View>
        </LinearGradient>
      </TouchableOpacity>
    </LinearGradient >
  )
}

const styles = StyleSheet.create({
  legend: {
    position: 'absolute',
    top: 0,
    left: 0,
    paddingTop: 4,
    paddingBottom: 6,
    paddingHorizontal: 6,
    backgroundColor: '#FA3E3E',
    borderTopLeftRadius: 8,
    borderBottomRightRadius: 7,
    overflow: 'hidden'
  },
  tick: {
    position: 'absolute',
    top: 0,
    right: 0,
    paddingVertical: 5,
    paddingHorizontal: 5,
  },
  gradientBorder: {
    borderRadius: 10,
    marginTop: 10,
  },
  innerContainer: {
    margin: 2,
    backgroundColor: '#14161A',
    borderRadius: 8,
  },
  contentContainer: {
    flex: 1,
    width: 120,
    height: 160,
    borderRadius: 8,
  },
  productContainer: {
    gap: 5,
    flex: 0.8,
    marginTop: 15,
    alignItems: "center",
    justifyContent: "center",
  },
  descriptionContainer: {
    flex: 0.2,
    width: '100%',
    justifyContent: "center",
    borderBottomLeftRadius: 8,
    borderBottomRightRadius: 8,
  },
  promoPriceText: {
    textAlign: "center",
    fontWeight: "900",
    fontSize: 17,
    color: "#F4DBBA",
  },

  promoPriceText2: {
    textAlign: "center",
    fontWeight: "900",
    fontSize: 14,
    color: "#fff",
  },

  oriPriceText: {
    textAlign: "center",
    color: "#9C9C9C",
    textDecorationLine: "line-through",
    fontSize: 16,
  },
  descriptionText: {
    textAlign: "center",
    fontWeight: "600",
    marginBottom: 3,
  }
})