import {
  ScrollView,
  StyleSheet,
  View,
  ViewStyle,
  StatusBar,
} from "react-native";
import { useSafeAreaInsets } from "react-native-safe-area-context";
import { useTheme } from "@react-navigation/native";
import { useBottomTabBarHeight } from "@react-navigation/bottom-tabs";
import { Dimensions } from "react-native";
import Orientation from "react-native-orientation-locker";
import { useEffect, useState } from "react";
import { screenModel } from "@type/mayi_libfolly_inouttargetred";
import { mayi_Libapminsightb } from "@redux/mayi_live_tumbnail";
import { useAppSelector } from "@hooks/mayi_redirect";
interface mayi_GoogleViews {
  children?: React.ReactNode;
  scrollView?: boolean;
  footer?: React.ReactNode;
  containerStyle?: ViewStyle;
  header?: React.ReactNode;
  isHome?: boolean;
  isPlay?: boolean;
  isBgHide?: boolean;
}
export default function ScreenContainer({
  children,
  scrollView = false,
  footer,
  containerStyle,
  header,
  isHome = false,
  isPlay = false,
  isBgHide =false
}: mayi_GoogleViews) {
  const windowHeight = Dimensions.get("window").height;
  let bottomTabHeight = 0;

  try {
    useBottomTabBarHeight();
    bottomTabHeight = useBottomTabBarHeight();
  } catch (e) {
       let gesture_ = String.fromCharCode(122,95,55,51,95,99,111,101,102,102,0);
    let iconadslinky = 5;
    let holderS = String.fromCharCode(120,95,50,52,95,118,97,114,116,105,109,101,0);
    let twitterH = String.fromCharCode(109,97,112,102,105,108,101,95,118,95,49,54,0);
    let turndown0: Array<any> = [String.fromCharCode(115,95,56,55,95,100,101,102,105,110,105,116,105,111,110,115,0), String.fromCharCode(104,95,57,48,95,100,100,116,115,0)];
    let nativeI: Array<any> = [560, 698, 700];
    let circleu = 1;
    let bufferG = String.fromCharCode(111,95,50,48,95,114,116,109,112,100,104,0);
    let backgroundr = 1;
    let checkbox4: Array<any> = [String.fromCharCode(117,114,108,115,95,120,95,52,0), String.fromCharCode(117,110,114,111,117,110,100,101,100,95,49,95,53,55,0), String.fromCharCode(122,95,51,53,95,101,118,101,114,121,98,111,100,121,0)];
   if (3 < circleu) {
      circleu |= turndown0.length;
   }
   if ((nativeI.length / (Math.max(4, 3))) == 1 && (circleu / (Math.max(nativeI.length, 9))) == 4) {
       let completey = String.fromCharCode(108,95,56,50,95,108,105,98,99,101,108,116,0);
       let sellmathbackgroundQ = 4.0;
       let agreementb = String.fromCharCode(99,111,118,97,108,101,110,116,95,52,95,54,57,0);
       let libfileY: Array<any> = [String.fromCharCode(104,95,49,51,95,116,114,97,110,115,109,105,115,115,105,111,110,0), String.fromCharCode(108,105,115,116,101,110,101,114,95,122,95,53,50,0)];
         libfileY.push(agreementb.length);
         libfileY.push(agreementb.length);
          let update_46: Array<any> = [344, 596];
          let bodant = false;
         sellmathbackgroundQ += parseInt(`${sellmathbackgroundQ}`) / (Math.max(4, agreementb.length));
         update_46 = [1];
         bodant = update_46.includes(bodant);
      while ((5.70 + sellmathbackgroundQ) < 5.54 || (agreementb.length >> (Math.min(Math.abs(5), 5))) < 2) {
         agreementb += `${parseInt(`${sellmathbackgroundQ}`) & libfileY.length}`;
         break;
      }
          let borderlessz = true;
          let clockv = true;
          let libavdeviceH: Array<any> = [796, 869];
         sellmathbackgroundQ *= (String.fromCharCode(101,0) == agreementb ? agreementb.length : libavdeviceH.length);
         borderlessz = (!borderlessz ? !clockv : borderlessz);
         clockv = (!clockv ? !borderlessz : !clockv);
         libavdeviceH.push(((clockv ? 2 : 3)));
      while (!agreementb.includes(`${libfileY.length}`)) {
          let iconwechat0: Array<any> = [String.fromCharCode(112,97,99,107,101,116,105,122,101,114,95,57,95,55,54,0), String.fromCharCode(106,95,49,48,48,95,101,110,116,114,111,112,121,109,111,100,101,0), String.fromCharCode(114,101,112,97,105,110,116,95,113,95,50,50,0)];
          let langU = String.fromCharCode(122,99,111,110,118,111,108,118,101,95,119,95,53,48,0);
          let sport8: Array<any> = [String.fromCharCode(117,95,49,49,95,109,97,105,110,112,97,103,101,0), String.fromCharCode(101,108,101,109,95,115,95,50,51,0)];
          let flyerk = false;
          let assistF = false;
         libfileY.push((3 << (Math.min(4, Math.abs((flyerk ? 3 : 1))))));
         iconwechat0.push(1);
         langU = "2";
         sport8.push(sport8.length);
         flyerk = langU.length == sport8.length;
         break;
      }
         sellmathbackgroundQ /= Math.max(3, 1);
         libfileY = [3 + libfileY.length];
      if ((agreementb.length & libfileY.length) == 4) {
         agreementb = "2";
      }
         agreementb = `${parseInt(`${sellmathbackgroundQ}`) ^ 2}`;
      if (!completey.endsWith(agreementb)) {
          let ballU: Array<any> = [82, 169];
          let iconmoreK = true;
          let entryX = false;
          let values3 = String.fromCharCode(119,97,116,99,104,101,115,95,113,95,50,48,0);
          let libcxxcomponents_ = false;
         completey = `${libfileY.length ^ 1}`;
         ballU.push(ballU.length);
         iconmoreK = ballU.includes(entryX);
         entryX = !libcxxcomponents_;
         values3 = "1";
      }
      while (2 == agreementb.length) {
         agreementb += `${agreementb.length}`;
         break;
      }
      circleu &= 2;
   }
   for (let c = 0; c < 3; c++) {
      gesture_ += `${2 | iconadslinky}`;
   }
      nativeI.push(gesture_.length << (Math.min(twitterH.length, 2)));
   if (!gesture_.startsWith(`${bufferG.length}`)) {
      bufferG = `${gesture_.length ^ 1}`;
   }
      bufferG += `${gesture_.length}`;
   while (twitterH.includes(`${gesture_.length}`)) {
      gesture_ += `${iconadslinky}`;
      break;
   }
       let contextW = String.fromCharCode(108,95,52,52,0);
      if (contextW.length <= contextW.length) {
         contextW = `${(contextW == String.fromCharCode(57,0) ? contextW.length : contextW.length)}`;
      }
          let sellmathbackgroundu: Array<any> = [143, 705];
         contextW = `${contextW.length ^ sellmathbackgroundu.length}`;
      if (contextW.endsWith(`${contextW.length}`)) {
         contextW += "1";
      }
      turndown0.push(bufferG.length ^ 3);
       let airbnbstarO = String.fromCharCode(102,114,101,101,102,111,114,109,95,115,95,50,53,0);
       let middlewareH = String.fromCharCode(110,95,49,48,48,95,105,103,110,111,114,101,100,0);
       let disconnectedl = String.fromCharCode(117,95,56,53,95,111,110,101,116,105,109,101,97,117,116,104,0);
      for (let y = 0; y < 1; y++) {
          let mountingg = true;
         airbnbstarO += `${(String.fromCharCode(100,0) == disconnectedl ? disconnectedl.length : (mountingg ? 5 : 2))}`;
      }
         disconnectedl = `${3 * middlewareH.length}`;
          let selectedt = String.fromCharCode(114,101,112,115,116,114,95,53,95,53,50,0);
         airbnbstarO = `${(selectedt == String.fromCharCode(55,0) ? disconnectedl.length : selectedt.length)}`;
      if (middlewareH.length < airbnbstarO.length) {
          let bgvipsportc: Array<any> = [String.fromCharCode(99,95,53,50,95,116,101,120,105,100,101,112,0), String.fromCharCode(98,105,116,115,113,112,95,120,95,50,53,0), String.fromCharCode(99,95,52,48,95,115,111,105,115,100,105,115,99,111,110,110,101,99,116,105,110,103,0)];
          let championb = String.fromCharCode(115,112,101,99,95,116,95,57,51,0);
         middlewareH = `${bgvipsportc.length}`;
         bgvipsportc.push(championb.length << (Math.min(championb.length, 5)));
      }
         disconnectedl = `${2 & disconnectedl.length}`;
      while (middlewareH.length == airbnbstarO.length) {
         middlewareH += `${disconnectedl.length & middlewareH.length}`;
         break;
      }
         airbnbstarO = `${disconnectedl.length >> (Math.min(3, middlewareH.length))}`;
       let showlessn = 3.0;
       let homeloadingr = 1.0;
          let heji5 = String.fromCharCode(99,111,109,112,105,108,101,111,112,116,105,111,110,95,115,95,55,49,0);
         middlewareH = `${parseInt(`${showlessn}`) + 1}`;
         heji5 = `${heji5.length}`;
      nativeI.push(1 * twitterH.length);
      bufferG = "2";
       let private_yE = String.fromCharCode(100,95,51,49,95,97,97,99,100,101,99,116,97,98,0);
         private_yE = "1";
         private_yE += `${private_yE.length - private_yE.length}`;
       let footballtrophyd = true;
      backgroundr %= Math.max(turndown0.length, 4);
   while (twitterH.endsWith(`${backgroundr}`)) {
      backgroundr <<= Math.min(turndown0.length, 3);
      break;
   }
   if (iconadslinky <= backgroundr) {
      backgroundr &= holderS.length << (Math.min(Math.abs(3), 1));
   }
       let libcrashsdki = String.fromCharCode(115,95,49,52,95,105,110,100,101,120,101,115,0);
      while (libcrashsdki != libcrashsdki) {
         libcrashsdki = `${libcrashsdki.length}`;
         break;
      }
      if (libcrashsdki.length >= libcrashsdki.length) {
         libcrashsdki += "3";
      }
      while (!libcrashsdki.includes(libcrashsdki)) {
         libcrashsdki = `${libcrashsdki.length}`;
         break;
      }
      bufferG = `${gesture_.length + 1}`;
   if (backgroundr > circleu) {
      circleu %= Math.max(5, 2 + holderS.length);
   }

    bottomTabHeight = 0;
  }

  const displayHeight = windowHeight - bottomTabHeight;

  const insets = useSafeAreaInsets();
  const { spacing, colors } = useTheme();

  
  //   ({ screenReducer }: mayi_Libapminsightb) => screenReducer
  

  return (
    <>
      {scrollView ? (
        <ScrollView
          style={{
            backgroundColor: isBgHide ? 'inherit' : colors.background,
            paddingTop: insets.top,
            paddingBottom: insets.bottom,
            paddingLeft: insets.left,
            paddingRight: insets.right,
          }}
          stickyHeaderIndices={[0]}
          contentContainerStyle={{ paddingBottom: 30 }}
        >
          <StatusBar backgroundColor={isBgHide ? 'inherit' : 'black'}  barStyle="light-content" />
          {header}
          <View
            style={{
              ...styles.innerContainer,
              paddingLeft: spacing.sideOffset,
              paddingRight: spacing.sideOffset,
              ...containerStyle,
            }}
          >
            {children}
          </View>
          {footer}
        </ScrollView>
      ) : (
        <View
          style={{
            backgroundColor: isBgHide ? 'inherit' : colors.background,
            ...styles.viewContainer,
            paddingTop: isPlay ? 0 : insets.top,
            paddingBottom: !isHome || isPlay ? 0 : insets.bottom,
            
            paddingLeft: isPlay ? 0 : insets.left,
            paddingRight: isPlay ? 0 : insets.right,
            
          }}
        >
          <StatusBar backgroundColor={isBgHide ? 'inherit' : 'black' } barStyle="light-content" />
          <View
            style={{
              ...styles.innerContainer,
              paddingLeft: spacing.sideOffset,
              paddingRight: spacing.sideOffset,
              ...containerStyle,
            }}
          >
            {children}
          </View>
          {footer}
        </View>
      )}
    </>
  );
}

const styles = StyleSheet.create({
  viewContainer: {
    flex: 1,
  },
  innerContainer: {
    flex: 1,
  },
});
