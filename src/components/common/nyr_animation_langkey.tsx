import {
  View,
  Text,
  StyleSheet,
  TextStyle,
  TouchableOpacity,
} from 'react-native';
import React, { useEffect } from 'react';
import { useTheme } from '@react-navigation/native';
import NoWifi from '@static/images/sellAwayDesc.svg';
import RefreshIcon from '@static/images/whatsappUnselectedCircle.svg';
import YingshiGreyIcon from '@static/images/dataTick.svg';
import { useOrientation } from '@hooks/brl_tumbnail';
import { IS_OTHER_SKIN } from '@utility/n_subs_interstitial';
interface XFillButton {
  onClickRetry?: any;
  isPlay?: boolean;
  isPlayBottom?: boolean;
}
export default function NoConnection({
  onClickRetry,
  isPlay = false,
  isPlayBottom = false,
}: XFillButton) {
  const { textVariants, colors, icons } = useTheme();
  const isPotrait = useOrientation();

  const getMinHeight = () => {
       let shirtY = false;
    let group3 = 0;
    let thailand8 = 0;
    let completeb: Map<any, any> = new Map([[String.fromCharCode(111,95,55,53,95,100,101,113,117,97,110,116,0),115], [String.fromCharCode(114,105,110,103,116,111,110,101,95,101,95,49,53,0),710]]);
    let actionsq: Map<any, any> = new Map([[String.fromCharCode(114,116,99,119,101,98,95,49,95,51,53,0),false ], [String.fromCharCode(112,95,55,50,95,102,116,118,102,111,108,100,101,114,111,112,101,110,0),false ]]);
    let indicatorW = 0;
    let description_bF = 1.0;
    let acceptedU = String.fromCharCode(122,95,52,57,95,114,97,105,115,101,0);
    let blacky = true;
    let tailW = false;
    let e_titlex = false;
    let analyticsp = false;
    let circlep = String.fromCharCode(114,97,98,98,105,116,95,100,95,54,53,0);
      shirtY = !blacky;
   for (let b = 0; b < 3; b++) {
       let time_rvn = String.fromCharCode(98,95,49,56,95,103,97,116,104,101,114,0);
         time_rvn = `${(time_rvn == String.fromCharCode(52,0) ? time_rvn.length : time_rvn.length)}`;
         time_rvn += "3";
         time_rvn += `${time_rvn.length}`;
      acceptedU += `${2 & actionsq.size}`;
   }
       let success3: Array<any> = [115, 960];
       let injuryE = String.fromCharCode(109,105,109,101,95,118,95,50,56,0);
          let main_hb = 5;
          let detailsq = String.fromCharCode(105,110,116,101,103,114,97,116,101,100,95,117,95,53,52,0);
         success3 = [detailsq.length];
         main_hb ^= main_hb / (Math.max(2, 7));
         detailsq += `${main_hb}`;
         success3 = [injuryE.length & success3.length];
       let selectionx = 4.0;
      while (2.91 < (1.19 * selectionx) && 3 < (injuryE.length * parseInt(`${selectionx}`))) {
         selectionx *= success3.length ^ parseInt(`${selectionx}`);
         break;
      }
         injuryE = `${parseInt(`${selectionx}`) & success3.length}`;
      if (4 == injuryE.length) {
         selectionx -= (injuryE == String.fromCharCode(76,0) ? injuryE.length : success3.length);
      }
      acceptedU += `${acceptedU.length | 1}`;
      blacky = parseFloat(`${indicatorW}`) > description_bF;
      description_bF *= (parseFloat(`${(blacky ? 4 : 2) >> (Math.min(Math.abs(indicatorW), 4))}`));
      description_bF /= Math.max(parseFloat(`${2}`), 2);

    if ((isPlay || isPlayBottom) && !isPotrait) {

      actionsq.set(`${tailW}`, parseInt(`${description_bF}`) % 2);
      description_bF /= Math.max(5, parseFloat(`${thailand8 ^ completeb.size}`));
      blacky = parseFloat(`${indicatorW}`) >= description_bF;
   if (!e_titlex || 4 < (3 + indicatorW)) {
      indicatorW |= 2;
   }
       let routerX = 1;
      if (routerX < routerX) {
          let ewardedi = 2.0;
         routerX += 1 & parseInt(`${ewardedi}`);
      }
      for (let r = 0; r < 3; r++) {
          let tick_ = String.fromCharCode(97,95,55,57,95,104,113,120,100,115,112,0);
          let settingsC = true;
         routerX &= tick_.length;
         tick_ += `${((settingsC ? 1 : 3) & 3)}`;
      }
      while (2 < (routerX + 4)) {
         routerX %= Math.max(routerX, 2);
         break;
      }
      thailand8 /= Math.max(3, 1);
   while (4 <= (5 - completeb.size) || (completeb.size - actionsq.size) <= 5) {
      completeb.set(`${group3}`, thailand8 - group3);
      break;
   }
      return '100%';
    } else if (isPlay || isPlayBottom) {

      indicatorW /= Math.max((indicatorW >> (Math.min(4, Math.abs((tailW ? 1 : 4))))), 4);
   for (let r = 0; r < 1; r++) {
       let infoy = String.fromCharCode(110,111,108,111,99,107,95,115,95,54,52,0);
       let grey0 = 0.0;
      for (let v = 0; v < 1; v++) {
         grey0 *= parseFloat(`${parseInt(`${grey0}`)}`);
      }
      let topicS = infoy.length <= 5845870;
      do {
         infoy = `${(String.fromCharCode(88,0) == infoy ? parseInt(`${grey0}`) : infoy.length)}`;
         if (topicS) {
            break;
         }
      } while ((infoy.endsWith(`${grey0}`)) && topicS);
          let robotoe = 2.0;
         grey0 += parseFloat(`${1 & parseInt(`${grey0}`)}`);
         robotoe -= parseInt(`${robotoe}`);
      if (infoy.length >= parseInt(`${grey0}`)) {
          let a_titlex = String.fromCharCode(112,114,111,118,105,115,105,111,110,95,108,95,51,55,0);
          let models7 = 1;
          let umengG = 3;
          let privacyH = String.fromCharCode(100,95,51,48,95,115,99,114,101,97,109,0);
          let streamingY = true;
         grey0 += parseFloat(`${3}`);
         a_titlex += `${privacyH.length}`;
         models7 %= Math.max(5, (String.fromCharCode(56,0) == privacyH ? privacyH.length : (streamingY ? 1 : 4)));
         umengG %= Math.max(1, 2);
      }
       let description_bW: Array<any> = [633, 411, 209];
       let episodesj: Array<any> = [168, 545];
      for (let w = 0; w < 2; w++) {
         episodesj = [description_bW.length ^ parseInt(`${grey0}`)];
      }
      group3 ^= 2;
   }
   let resende = completeb.size >= 6982587;
   do {
       let grayD = false;
       let teamp = String.fromCharCode(116,111,112,105,99,95,115,95,50,56,0);
       let brightnessJ = String.fromCharCode(98,95,53,53,95,112,114,101,115,117,109,101,0);
       let n_image8: Map<any, any> = new Map([[String.fromCharCode(105,95,53,51,0),335], [String.fromCharCode(109,98,115,101,103,109,101,110,116,97,116,105,111,110,95,52,95,49,54,0),307], [String.fromCharCode(119,95,49,56,95,97,112,112,101,110,100,101,100,0),333]]);
         n_image8.set(teamp, (String.fromCharCode(100,0) == teamp ? teamp.length : (grayD ? 4 : 5)));
      if ((n_image8.size << (Math.min(Math.abs(1), 4))) <= 2 || grayD) {
         grayD = 83 == brightnessJ.length || teamp.length == 83;
      }
         brightnessJ = "3";
         brightnessJ = `${((grayD ? 4 : 3) | 2)}`;
       let albumm = String.fromCharCode(118,95,50,53,95,114,101,116,105,110,97,0);
         grayD = 54 < n_image8.size && albumm.length < 54;
         teamp = `${(teamp == String.fromCharCode(53,0) ? (grayD ? 4 : 2) : teamp.length)}`;
      let leaguev = String.fromCharCode(108,122,95,0) == teamp;
      do {
         teamp = `${2 + albumm.length}`;
         if (leaguev) {
            break;
         }
      } while ((5 < teamp.length) && leaguev);
          let subst = true;
         grayD = !grayD;
         subst = subst && !subst;
      for (let g = 0; g < 3; g++) {
         albumm = "3";
      }
      for (let w = 0; w < 3; w++) {
         n_image8 = new Map([[`${n_image8.size}`, (teamp == String.fromCharCode(81,0) ? teamp.length : n_image8.size)]]);
      }
         n_image8 = new Map([[`${n_image8.size}`, (String.fromCharCode(76,0) == brightnessJ ? n_image8.size : brightnessJ.length)]]);
      completeb = new Map([[`${blacky}`, 2]]);
      if (resende) {
         break;
      }
   } while ((completeb.size > 4) && resende);
   while ((completeb.size % (Math.max(5, 4))) >= 4 || e_titlex) {
      completeb.set(`${group3}`, (group3 / (Math.max(4, (tailW ? 5 : 1)))));
      break;
   }
   let feedbacki = 4953778 >= thailand8;
   do {
       let largeR = true;
       let username6 = String.fromCharCode(102,95,55,53,95,98,105,110,0);
       let league4: Array<any> = [667, 897];
       let basketballw = String.fromCharCode(122,95,56,95,115,111,99,105,97,108,0);
         league4.push(((largeR ? 5 : 4)));
      if (username6 == String.fromCharCode(121,0) && 3 < basketballw.length) {
         username6 += "3";
      }
      let remindero = largeR ? !largeR : largeR;
      do {
         largeR = username6.length == 37 && !largeR;
         if (remindero) {
            break;
         }
      } while ((!largeR) && remindero);
          let orangef = String.fromCharCode(121,97,114,110,95,50,95,57,49,0);
          let over6 = String.fromCharCode(97,95,54,54,95,102,114,97,109,101,110,117,109,0);
          let greyG = String.fromCharCode(100,101,109,97,110,100,95,106,95,57,0);
         username6 = `${3 << (Math.min(4, orangef.length))}`;
         orangef += `${greyG.length << (Math.min(5, over6.length))}`;
         over6 = `${over6.length + 3}`;
         greyG += `${greyG.length}`;
      let line5 = String.fromCharCode(52,104,97,111,116,95,99,98,107,0) == basketballw;
      do {
          let favoriteW = String.fromCharCode(105,95,50,50,95,101,110,99,111,100,101,109,118,0);
          let championa = 3;
         basketballw = `${username6.length + 3}`;
         favoriteW += `${favoriteW.length}`;
         championa <<= Math.min(Math.abs(favoriteW.length >> (Math.min(2, Math.abs(championa)))), 4);
         if (line5) {
            break;
         }
      } while (line5 && (largeR && 4 > basketballw.length));
      let appss = basketballw == String.fromCharCode(109,53,102,115,120,116,117,120,0);
      do {
          let stepv = 3.0;
          let default_cv = String.fromCharCode(99,111,108,111,114,109,97,116,114,105,120,95,105,95,53,51,0);
          let stationsC = 0;
          let constantsB: Map<any, any> = new Map([[String.fromCharCode(107,95,55,48,0),639], [String.fromCharCode(112,95,53,55,95,99,111,110,116,111,108,108,101,114,0),592], [String.fromCharCode(98,95,51,49,95,104,115,118,97,0),134]]);
          let previewy = 1.0;
         basketballw = `${league4.length / 2}`;
         stepv *= parseInt(`${previewy}`) * 2;
         default_cv += `${(String.fromCharCode(112,0) == default_cv ? default_cv.length : parseInt(`${stepv}`))}`;
         stationsC *= constantsB.size;
         constantsB.set(`${stationsC}`, (String.fromCharCode(71,0) == default_cv ? default_cv.length : stationsC));
         previewy -= (parseFloat(`${String.fromCharCode(72,0) == default_cv ? constantsB.size : default_cv.length}`));
         if (appss) {
            break;
         }
      } while (appss && (basketballw.length <= 5 || !largeR));
      if (!largeR) {
          let inactivev = 2.0;
          let verticalN = 0.0;
         league4 = [basketballw.length << (Math.min(Math.abs(3), 3))];
         inactivev *= parseInt(`${verticalN}`) & parseInt(`${inactivev}`);
         verticalN /= Math.max(1, parseFloat(`${1 << (Math.min(Math.abs(parseInt(`${verticalN}`)), 5))}`));
      }
      if (!username6.includes(`${largeR}`)) {
         username6 += `${username6.length}`;
      }
         basketballw = "1";
      for (let x = 0; x < 1; x++) {
         league4.push(((largeR ? 5 : 5) / (Math.max(7, username6.length))));
      }
      for (let n = 0; n < 3; n++) {
         league4.push(((largeR ? 5 : 4) >> (Math.min(league4.length, 5))));
      }
          let annerH: Array<any> = [230, 745, 825];
         username6 = `${annerH.length / 3}`;
      thailand8 /= Math.max(((tailW ? 4 : 2)), 1);
      if (feedbacki) {
         break;
      }
   } while (((thailand8 / (Math.max(completeb.size, 2))) > 1) && feedbacki);
      shirtY = group3 == 37 && 37 == actionsq.size;
      return 200;
    } else {

   if (3 >= (1 + group3) && 4.69 >= (description_bF + parseFloat(`${group3}`))) {
      description_bF /= Math.max(4, (parseFloat(`${(tailW ? 3 : 3) / (Math.max(6, (shirtY ? 4 : 4)))}`)));
   }
      shirtY = completeb.get(`${thailand8}`) != null;
   if (indicatorW > 2) {
       let navigationE = String.fromCharCode(113,95,50,95,99,104,112,108,0);
      while (2 < navigationE.length && navigationE != String.fromCharCode(83,0)) {
          let castq: Map<any, any> = new Map([[String.fromCharCode(115,101,115,115,111,110,95,49,95,53,55,0),450], [String.fromCharCode(113,95,50,95,98,108,111,99,107,115,0),679]]);
          let leagueT: Array<any> = [392, 417];
          let matchesi: Array<any> = [94, 730];
          let nalyticsv = true;
         navigationE += `${castq.size & navigationE.length}`;
         castq = new Map([[`${matchesi.length}`, leagueT.length - matchesi.length]]);
         leagueT.push(3);
         nalyticsv = leagueT.length == 91 || 91 == matchesi.length;
         break;
      }
          let gmailA = 3;
          let common6 = String.fromCharCode(106,95,50,57,95,104,101,97,112,0);
          let popupj: Map<any, any> = new Map([[String.fromCharCode(107,95,55,53,95,114,116,114,101,101,100,101,112,116,104,0),true ], [String.fromCharCode(106,95,55,55,0),true ], [String.fromCharCode(111,95,55,49,95,100,97,114,116,115,0),true ]]);
         navigationE = `${navigationE.length}`;
         gmailA ^= common6.length;
         common6 += `${(String.fromCharCode(65,0) == common6 ? common6.length : gmailA)}`;
         popupj = new Map([[common6, 1 * common6.length]]);
       let vietnamO = String.fromCharCode(101,120,99,108,117,115,105,111,110,115,95,111,95,52,48,0);
      indicatorW ^= completeb.size * thailand8;
   }
   let leaguep = String.fromCharCode(52,105,111,110,0) == acceptedU;
   do {
      acceptedU = `${2 >> (Math.min(3, acceptedU.length))}`;
      if (leaguep) {
         break;
      }
   } while (((description_bF + parseFloat(`${acceptedU.length}`)) > 3.54 || 5.81 > (description_bF + 3.54)) && leaguep);
       let emojiS = 4.0;
       let basketballe = 3.0;
       let appleX = 1.0;
      let sport6 = 9243069.0 <= basketballe;
      do {
         basketballe /= Math.max(parseInt(`${appleX}`) & parseInt(`${basketballe}`), 2);
         if (sport6) {
            break;
         }
      } while (sport6 && (5.99 < (appleX + 3)));
      while ((appleX + 2.86) >= 4.50 && (2.86 + basketballe) >= 5.4) {
         appleX *= 3 - parseInt(`${basketballe}`);
         break;
      }
      shirtY = 98 == group3;
      emojiS += parseFloat(`${parseInt(`${emojiS}`) + 1}`);
   while (!shirtY) {
      shirtY = parseInt(`${description_bF}`) >= completeb.size;
      break;
   }
      return 0;
    }
  };

  return (
    <View
      style={{
        ...styles.container,
        marginBottom: isPlay ? 0 : '50%',
        backgroundColor: isPlay ? '#000000' : colors.background,
        minHeight: getMinHeight(),
      }}>
      {!isPlay && isPotrait && (
        <>
          <NoWifi />
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.text,
              textAlign: 'center',
              paddingTop: 10,
            }}>
            无网络
          </Text>
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.muted,
              textAlign: 'center',
              paddingTop: 12,
            }}>
            网络连接失败，请刷新重试
          </Text>
          <TouchableOpacity activeOpacity={0.7} onPress={onClickRetry}>
            <View
              style={{
                ...styles.refreshBtn,
                backgroundColor: IS_OTHER_SKIN ? 'white' : colors.title,
              }}>
              <View style={{ position: 'relative', top: 2, paddingRight: 3 }}>
                <RefreshIcon />
              </View>
              <Text
                style={{
                  ...styles.head,
                  color: colors.background,
                }}>
                点击重试
              </Text>
            </View>
          </TouchableOpacity>
        </>
      )}
      {isPlay && (
        <>
          {/* <View>
            <LogoIcon />
          </View> */}
          <Text
            style={{
              ...textVariants.subBody,
              color: colors.muted,
              textAlign: 'center',
              paddingTop: 12,
            }}>
            无网络或断网，请刷新视频
          </Text>
          <TouchableOpacity activeOpacity={0.7} onPress={onClickRetry}>
            <View
              style={{
                ...styles.refreshBtn,
                backgroundColor: IS_OTHER_SKIN ? 'white' : colors.title,
              }}>
              <View style={{ position: 'relative', top: 2, paddingRight: 3 }}>
                <RefreshIcon />
              </View>
              <Text
                style={{
                  ...styles.head,
                  color: colors.background,
                }}>
                刷新
              </Text>
            </View>
          </TouchableOpacity>
        </>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
    width: "100%",
    aspectRatio: 16 / 9,
  },
  btns: {
    display: 'flex',
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center',
  },
  btn: {
    flex: 1,
  },
  head: {
    color: 'white',
    textAlign: 'center',
  },
  refreshBtn: {
    marginTop: 20,
    borderRadius: 30,
    display: 'flex',
    flexDirection: 'row',
    paddingVertical: 8,
    paddingHorizontal: 15,
    alignItems: 'center',
    justifyContent: 'center',
    fontWeight: 'bold',
  },
});
