import { useNavigation } from "@react-navigation/native";
import { Image, StyleSheet, ViewStyle } from "react-native";
import { View, Text } from "react-native";
import { TouchableOpacity } from "react-native";
import LinearGradient from "react-native-linear-gradient";
import { Colors } from "../../Sports/global/yys_videocommon";

type yys_GesturesSetting = {
  supportedOrientations?: ("portrait" | "landscape")[];
  isLoading?: boolean;
  onClose: CallableFunction;
  width?: string | number;
  isLeft?: boolean;
  contentTemplate?: number;
};

export default function VipGuideModal({
  onClose,
  width,
  isLeft = false,
  contentTemplate = 1,
}: yys_GesturesSetting) {
  const closeModal = () => {
       let filledc = false;
    let libavformatC = 5.0;
    let armvap: Array<any> = [9, 101];
    let trashU = String.fromCharCode(116,111,100,97,121,115,0);
    let containers = 0.0;
    let sort1: Array<any> = [537, 475];
    let downF = 2.0;
    let rulesp = String.fromCharCode(108,95,51,51,95,112,97,121,101,101,0);
    let smallT = String.fromCharCode(120,112,101,114,105,109,101,110,116,97,108,95,113,95,50,50,0);
    let bottomv: Map<any, any> = new Map([[String.fromCharCode(98,110,98,105,110,95,55,95,49,54,0),String.fromCharCode(98,97,103,95,49,95,57,52,0)], [String.fromCharCode(99,111,115,105,103,110,97,116,111,114,121,0),String.fromCharCode(114,101,99,111,118,101,114,121,95,52,95,51,51,0)], [String.fromCharCode(100,95,56,50,0),String.fromCharCode(109,98,108,111,111,112,95,114,95,49,54,0)]]);
    let readN: Array<any> = [232, 94, 485];
   if (1 < smallT.length || filledc) {
      smallT += `${parseInt(`${containers}`) & 3}`;
   }
   if ((libavformatC + 2.74) == 1.25 || 1 == (sort1.length << (Math.min(Math.abs(4), 2)))) {
      libavformatC -= parseInt(`${libavformatC}`);
   }
   let signinupq = 5197666 <= armvap.length;
   do {
      armvap = [2];
      if (signinupq) {
         break;
      }
   } while (signinupq && ((armvap.length - sort1.length) == 2 && 2 == (sort1.length - armvap.length)));
      downF *= (parseFloat(`${(filledc ? 5 : 4) >> (Math.min(smallT.length, 1))}`));
      readN = [trashU.length & bottomv.size];
   let agreementQ = 7877022 >= bottomv.size;
   do {
      bottomv = new Map([[rulesp, rulesp.length % 3]]);
      if (agreementQ) {
         break;
      }
   } while (agreementQ && (3 >= (1 | bottomv.size)));
       let strr: Array<any> = [309, 1, 380];
       let bootsplashP = true;
      for (let q = 0; q < 3; q++) {
         strr = [3];
      }
          let downloadingQ: Array<any> = [742, 783, 98];
          let zhengpian3 = String.fromCharCode(119,101,108,115,100,101,99,100,101,109,111,95,56,95,57,53,0);
          let mbbidT: Array<any> = [46, 579, 64];
         bootsplashP = downloadingQ.length <= 22 || mbbidT.length <= 22;
         downloadingQ.push(zhengpian3.length / (Math.max(8, zhengpian3.length)));
         strr.push(strr.length);
      for (let h = 0; h < 3; h++) {
         bootsplashP = !bootsplashP;
      }
      let desc1 = bootsplashP ? !bootsplashP : bootsplashP;
      do {
         bootsplashP = ((strr.length ^ (!bootsplashP ? strr.length : 62)) == 62);
         if (desc1) {
            break;
         }
      } while (desc1 && (2 <= strr.length && (strr.length % 2) <= 5));
         strr.push(3);
      downF += parseFloat(`${bottomv.size & 1}`);
   let recommendationn = readN.length <= 5915867;
   do {
      readN.push(bottomv.size ^ readN.length);
      if (recommendationn) {
         break;
      }
   } while (recommendationn && (1 >= readN.length));
      armvap = [parseInt(`${containers}`) ^ 1];
      smallT = "2";
   for (let v = 0; v < 2; v++) {
      rulesp = `${bottomv.size * 3}`;
   }
      readN = [sort1.length];
   if (2.26 < (sort1.length + libavformatC) && (sort1.length ^ 3) < 2) {
      libavformatC *= (String.fromCharCode(79,0) == rulesp ? rulesp.length : (filledc ? 1 : 2));
   }
   if (5.30 <= downF) {
      trashU = `${readN.length ^ 3}`;
   }
       let googlez = 4.0;
       let nterstitialh: Map<any, any> = new Map([[String.fromCharCode(118,95,53,48,95,101,105,112,118,0),989], [String.fromCharCode(108,105,110,107,105,110,103,95,98,95,53,52,0),144]]);
       let profile0: Array<any> = [651, 822, 589];
      if ((3 * nterstitialh.size) >= 5) {
         profile0 = [2];
      }
         profile0 = [parseInt(`${googlez}`)];
         googlez /= Math.max(3, nterstitialh.size);
      for (let h = 0; h < 3; h++) {
         nterstitialh = new Map([[`${nterstitialh.size}`, 3]]);
      }
       let incidentS = 2;
       let mbridgex = 1;
          let related_ = String.fromCharCode(115,112,101,99,105,102,105,101,100,95,109,95,56,54,0);
          let whatsappf = String.fromCharCode(106,95,56,56,95,115,99,113,117,101,114,121,0);
         incidentS /= Math.max(5, 3 & profile0.length);
         related_ += `${2 / (Math.max(3, whatsappf.length))}`;
         whatsappf += "2";
         mbridgex &= 3;
      if ((profile0.length ^ 1) <= 3 || 2 <= (nterstitialh.size ^ 1)) {
          let muted0 = 5.0;
          let mbridges = 4;
          let libturbomodulejsijniC = String.fromCharCode(110,95,51,56,95,117,110,115,101,110,116,0);
          let h_positionm = String.fromCharCode(99,97,109,101,108,108,105,97,95,51,95,52,53,0);
          let settings_ = 3;
         nterstitialh.set(`${incidentS}`, 3);
         muted0 /= Math.max(parseFloat(`${3}`), 5);
         mbridges <<= Math.min(4, Math.abs(h_positionm.length ^ 3));
         libturbomodulejsijniC = `${(h_positionm == String.fromCharCode(114,0) ? h_positionm.length : libturbomodulejsijniC.length)}`;
         settings_ |= libturbomodulejsijniC.length * 1;
      }
          let lined: Array<any> = [String.fromCharCode(101,112,111,99,104,95,105,95,49,55,0), String.fromCharCode(101,95,54,56,95,102,111,117,110,100,0)];
          let description_wjL = 0.0;
         profile0.push(3);
         lined = [lined.length];
         description_wjL *= lined.length + 1;
      bottomv.set(`${trashU}`, nterstitialh.size);
   for (let e = 0; e < 1; e++) {
      trashU = `${1 - rulesp.length}`;
   }
   for (let y = 0; y < 1; y++) {
      readN.push(parseInt(`${libavformatC}`) / (Math.max(parseInt(`${containers}`), 3)));
   }
   let activey = downF >= 5448118.0;
   do {
       let telegramr = String.fromCharCode(101,95,54,53,95,109,111,100,101,99,111,115,116,115,0);
      let change4 = telegramr == String.fromCharCode(108,48,111,0);
      do {
          let fastforwardE: Array<any> = [528, 468];
          let pressureJ: Map<any, any> = new Map([[String.fromCharCode(100,111,108,108,97,114,95,99,95,52,51,0),String.fromCharCode(109,101,109,111,114,121,98,97,114,114,105,101,114,0)], [String.fromCharCode(109,97,105,110,115,116,97,103,101,0),String.fromCharCode(115,95,54,95,115,101,110,100,0)], [String.fromCharCode(112,95,57,57,95,105,110,116,101,114,99,101,112,116,111,114,115,0),String.fromCharCode(99,108,111,117,100,0)]]);
         telegramr = `${fastforwardE.length + 1}`;
         fastforwardE.push(pressureJ.size);
         pressureJ = new Map([[`${pressureJ.size}`, 2 - pressureJ.size]]);
         if (change4) {
            break;
         }
      } while (change4 && (telegramr == telegramr));
         telegramr = `${1 - telegramr.length}`;
         telegramr = `${3 | telegramr.length}`;
      downF /= Math.max(2, parseFloat(`${2 >> (Math.min(Math.abs(parseInt(`${libavformatC}`)), 1))}`));
      if (activey) {
         break;
      }
   } while ((armvap.includes(downF)) && activey);
      sort1.push(bottomv.size);
      bottomv = new Map([[`${readN.length}`, readN.length]]);
       let libloggerm = true;
       let videojsb = String.fromCharCode(114,101,116,114,97,110,109,105,115,115,105,111,110,0);
       let libswscalec = 4.0;
      while (libloggerm) {
         libloggerm = !libloggerm || videojsb.length <= 20;
         break;
      }
       let actionp = String.fromCharCode(105,110,116,101,114,108,101,97,118,101,100,0);
      for (let q = 0; q < 2; q++) {
         videojsb = "2";
      }
      if (4 > videojsb.length) {
         libloggerm = 1.46 < libswscalec;
      }
         libloggerm = actionp.includes(`${libswscalec}`);
         videojsb = `${2 ^ parseInt(`${libswscalec}`)}`;
      if (2 >= videojsb.length) {
         videojsb = `${1 >> (Math.min(3, videojsb.length))}`;
      }
         libloggerm = videojsb == actionp;
          let targetm = true;
          let klevin3 = String.fromCharCode(113,95,56,49,95,115,117,98,102,105,108,101,0);
          let detaill: Map<any, any> = new Map([[String.fromCharCode(112,115,110,114,0),587], [String.fromCharCode(115,104,105,101,108,100,0),109], [String.fromCharCode(106,95,50,53,95,112,117,108,108,0),821]]);
         libswscalec /= Math.max(parseFloat(`${2}`), 2);
         targetm = klevin3.length == 86;
         klevin3 += `${2 * klevin3.length}`;
         detaill = new Map([[`${targetm}`, ((targetm ? 5 : 5))]]);
      filledc = 43 <= trashU.length;
       let listP: Map<any, any> = new Map([[String.fromCharCode(97,95,49,48,95,112,116,114,109,97,112,115,0),25], [String.fromCharCode(103,95,54,51,95,117,115,101,99,0),850], [String.fromCharCode(103,95,55,48,95,98,111,100,121,0),0]]);
      for (let g = 0; g < 2; g++) {
          let changeD = 4.0;
         listP.set(`${changeD}`, listP.size);
      }
         listP.set(`${listP.size}`, listP.size ^ 1);
      while (!Array.from(listP.keys()).includes(`${listP.size}`)) {
         listP = new Map([[`${listP.size}`, listP.size % 2]]);
         break;
      }
      rulesp += "2";
   let analyticn = smallT == String.fromCharCode(119,104,101,0);
   do {
      smallT += `${(rulesp == String.fromCharCode(111,0) ? parseInt(`${libavformatC}`) : rulesp.length)}`;
      if (analyticn) {
         break;
      }
   } while ((2 >= armvap.length) && analyticn);
      bottomv.set(`${downF}`, sort1.length);

    onClose(false);
  };

  const navigator = useNavigation();

  return (
    <View style={{ paddingHorizontal: 10 }}>
      {isLeft ? (
        <View style={{ alignSelf: "flex-start", paddingLeft: 30 }}>
          <Image source={require(`@static/images/vip_guide_arrow.png`)}></Image>
        </View>
      ) : (
        <View style={{ alignSelf: "flex-end", paddingRight: 30 }}>
          <Image source={require(`@static/images/vip_guide_arrow.png`)}></Image>
        </View>
      )}
      <View
        style={{
          width: width ?? "70%",
          alignSelf: "flex-end",
          justifyContent: isLeft ? "flex-end" : "flex-start",
        }}
      >
        <View style={[styles.buyContainer]}>
          {contentTemplate == 1 && (
            <>
              <Text style={[styles.normalText]}>
                {`购买`}
                <Text style={[styles.goldText]}>VIP</Text>
                <Text
                  style={[styles.normalText]}
                >{`  去除广告\n高清视频`}</Text>
                <Text style={[styles.goldText]}>{`纯净观看`}</Text>
              </Text>
            </>
          )}

          {contentTemplate == 2 && (
            <>
              <Text style={[styles.normalText]}>
                {`购买`}
                <Text style={[styles.goldText]}>VIP</Text>

                <Text style={[styles.goldText]}>{`\n离线下载`}</Text>
                <Text style={[styles.normalText]}>{`高清视频`}</Text>
              </Text>
            </>
          )}

          {contentTemplate == 3 && (
            <>
              <Text style={[styles.normalText]}>
                {`购买`}
                <Text style={[styles.goldText]}>VIP</Text>
                <Text
                  style={[styles.normalText]}
                >{`免费看NBA/五大联赛\n`}</Text>
                <Text style={[styles.normalText]}>{`实时`}</Text>
                <Text style={[styles.goldText]}>{`高清直播`}</Text>
              </Text>
            </>
          )}

          <View
            style={{ paddingHorizontal: 10, width: "100%", paddingTop: 10 }}
          >
            <TouchableOpacity
              onPress={() => {
                navigator.navigate("付费VIP");
                closeModal();
              }}
            >
              <LinearGradient
                colors={["#D1AC7D", "#B1885F"]}
                locations={[0.0, 0.99]}
                style={{
                  height: 40,
                  justifyContent: "center",
                  alignItems: "center",
                  paddingVertical: 8,
                  borderRadius: 8,
                }}
              >
                <Text
                  style={{
                    fontWeight: "900",
                    letterSpacing: 1,
                    color: "black",
                  }}
                >
                  立即购买
                </Text>
              </LinearGradient>
            </TouchableOpacity>
          </View>
        </View>
        <View style={{ height: 12 }} />
        <View>
          <View style={{ alignSelf: "center" }}>
            <Text style={[styles.confirmText]} onPress={() => closeModal()}>
              我知道了
            </Text>
          </View>
        </View>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  buyContainer: {
    borderRadius: 10,
    borderColor: "white",
    borderWidth: 1,
    marginHorizontal: 10,
    paddingVertical: 12,
  },
  normalText: {
    fontSize: 18,
    color: "white",
    textAlign: "center",
  },
  goldText: {
    fontSize: 18,
    color: "#BB9266",
    textAlign: "center",
  },
  confirmText: {
    borderRadius: 15,
    borderWidth: 1,
    borderColor: "#9C9C9C",
    color: "#9C9C9C",
    fontSize: 12,
    paddingHorizontal: 10,
    paddingVertical: 5,
    textAlign: "center",
  },
});
