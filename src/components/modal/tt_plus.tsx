import React, { useCallback } from "react";
import { Modal, TouchableWithoutFeedback, View } from "react-native";
import { useNavigation } from "@react-navigation/native";
import VipPromotionModal from "./tt_match_single";
import { UMENG_CHANNEL } from "@utility/tt_trophy_cross";
import { useDispatch } from "react-redux";
import { vipPromotionModalShown } from "@redux/actions/tt_project_terms";

const commonModels = require('@static/images/pageGradlewGroup.png');
const sportBg = require('@static/images/logoutApple.png');

interface ttSmall {
  showCondition: boolean;
  onClose: any;
}

export const VipPromotionOverlay = ({ showCondition, onClose }: ttSmall) => {
  const navigator = useNavigation();
  const dispatch = useDispatch();

  const onCloseModal = () => {
       let renewh = 2.0;
    let inviteE = String.fromCharCode(117,110,112,114,101,109,117,108,116,105,112,108,121,0);
    let const_rgG = 0.0;
    let fastt = false;
    let mbjscommon9 = String.fromCharCode(98,117,102,102,101,114,101,100,0);
    let loadingb = String.fromCharCode(118,112,120,115,116,97,116,115,0);
    let rounda = String.fromCharCode(109,98,117,102,99,104,97,105,110,0);
    let turnL = String.fromCharCode(97,100,100,105,116,105,111,110,115,0);
    let megaphone8: Array<any> = [892, 418, 352];
    let savec = String.fromCharCode(100,101,113,117,97,110,116,105,122,97,116,105,111,110,0);
    let storeJ = String.fromCharCode(115,116,105,99,107,101,114,112,97,99,107,0);
    let sorti = false;
      fastt = (const_rgG + rounda.length) >= 2.38;
      renewh += parseFloat(`${inviteE.length}`);
   for (let f = 0; f < 3; f++) {
      mbjscommon9 += "2";
   }
      fastt = const_rgG == 64.49;
      fastt = inviteE.length > 8 && 90.13 > const_rgG;
      fastt = 40 >= rounda.length;
   for (let f = 0; f < 1; f++) {
      fastt = String.fromCharCode(71,0) == inviteE;
   }
      loadingb = `${(String.fromCharCode(69,0) == turnL ? parseInt(`${const_rgG}`) : turnL.length)}`;

    onClose();

   if (fastt) {
       let benefitm = String.fromCharCode(105,110,116,101,114,118,97,108,115,0);
       let gmailV = String.fromCharCode(110,111,110,114,100,0);
       let skip2 = String.fromCharCode(101,120,112,111,110,101,110,116,115,0);
       let goalC = String.fromCharCode(99,104,114,111,109,97,0);
      loadingb = `${turnL.length}`;
      benefitm += `${benefitm.length + benefitm.length}`;
   }
       let libcrashsdkX = String.fromCharCode(102,97,105,108,117,114,101,115,0);
       let morel = true;
         morel = libcrashsdkX.includes(`${morel}`);
      if (!morel) {
         morel = !morel && libcrashsdkX.length < 19;
      }
         morel = libcrashsdkX.length < 58;
       let temperaturea = String.fromCharCode(103,114,97,100,0);
       let downloadingD = String.fromCharCode(102,105,110,97,108,105,122,105,110,103,0);
      while (2 >= downloadingD.length) {
         temperaturea += `${((morel ? 4 : 5))}`;
         break;
      }
      while (1 == temperaturea.length) {
          let logout3 = String.fromCharCode(98,117,108,108,101,116,115,0);
          let rulesT: Map<any, any> = new Map([[String.fromCharCode(116,105,101,114,115,0),831], [String.fromCharCode(109,111,118,101,116,111,0),885], [String.fromCharCode(112,114,101,99,104,101,99,107,111,117,116,0),192]]);
          let baidux = 1.0;
          let bridgeh = String.fromCharCode(116,104,105,114,100,0);
         morel = 81.86 == baidux;
         logout3 += "3";
         rulesT = new Map([[`${rulesT.size}`, 3 + logout3.length]]);
         baidux += 1;
         bridgeh += "3";
         break;
      }
      inviteE = `${((fastt ? 3 : 1))}`;
   if (renewh <= 4.68) {
      inviteE += `${loadingb.length}`;
   }
   for (let b = 0; b < 2; b++) {
       let dragH = 0.0;
      while (dragH <= dragH) {
         dragH += 1;
         break;
      }
          let videoQ: Array<any> = [String.fromCharCode(97,117,116,104,111,114,105,116,121,0), String.fromCharCode(103,114,97,112,104,105,99,0), String.fromCharCode(105,110,116,102,108,111,97,116,0)];
          let tumbnailR: Map<any, any> = new Map([[String.fromCharCode(103,114,101,121,115,0),false ], [String.fromCharCode(118,101,114,105,102,105,99,97,116,105,111,110,0),true ]]);
          let expandd = false;
         dragH -= tumbnailR.size & 2;
         videoQ = [2];
         tumbnailR = new Map([[`${videoQ.length}`, videoQ.length % 1]]);
         dragH -= parseInt(`${dragH}`) << (Math.min(2, Math.abs(2)));
      inviteE = `${2 | parseInt(`${renewh}`)}`;
   }
       let foregroundG = String.fromCharCode(105,100,101,110,116,105,116,105,101,115,0);
         foregroundG = `${foregroundG.length * 1}`;
         foregroundG += `${foregroundG.length}`;
      while (!foregroundG.startsWith(foregroundG)) {
         foregroundG += `${foregroundG.length ^ foregroundG.length}`;
         break;
      }
      turnL = `${(String.fromCharCode(84,0) == mbjscommon9 ? (fastt ? 3 : 1) : mbjscommon9.length)}`;
   let sourcex = fastt ? !fastt : fastt;
   do {
      fastt = 82 < inviteE.length && loadingb == String.fromCharCode(120,0);
      if (sourcex) {
         break;
      }
   } while ((mbjscommon9.startsWith(`${fastt}`)) && sourcex);
   let areaQ = 5933294 >= loadingb.length;
   do {
      loadingb += `${3 - loadingb.length}`;
      if (areaQ) {
         break;
      }
   } while (areaQ && (1 == (loadingb.length / 2) && (2 - parseInt(`${const_rgG}`)) == 4));
      const_rgG += (String.fromCharCode(57,0) == mbjscommon9 ? mbjscommon9.length : parseInt(`${renewh}`));
    dispatch(vipPromotionModalShown());
   
  }

  const handleOnPurchase = useCallback(() => {
       let usernameG = 1;
    let holdery = false;
    let umengr = 1.0;
    let libcrashsdkL = 4.0;
    let unreadr = String.fromCharCode(103,97,117,115,115,105,97,110,0);
    let verticalt: Array<any> = [300, 96, 404];
    let hooke = 4;
    let changeZ = String.fromCharCode(112,108,97,116,102,111,114,109,115,0);
    let lightn = String.fromCharCode(103,101,110,101,114,97,116,111,114,115,0);
    let star0 = 3.0;
   for (let g = 0; g < 3; g++) {
       let incident5: Map<any, any> = new Map([[String.fromCharCode(114,102,116,102,115,117,98,0),191], [String.fromCharCode(102,97,99,116,111,114,121,0),927]]);
         incident5.set(`${incident5.size}`, 2);
         incident5.set(`${incident5.size}`, incident5.size);
          let flippers = 2;
         incident5.set(`${flippers}`, 1 << (Math.min(4, Math.abs(incident5.size))));
      usernameG &= 2 | unreadr.length;
   }
      unreadr += `${parseInt(`${umengr}`)}`;
       let circleg = String.fromCharCode(115,99,104,101,109,101,0);
       let gpayT = String.fromCharCode(98,97,103,101,0);
          let recommendationA = true;
         gpayT = `${((recommendationA ? 3 : 5) - 1)}`;
         gpayT = `${gpayT.length - circleg.length}`;
      if (gpayT != circleg) {
         circleg = `${3 * gpayT.length}`;
      }
      let colorsV = String.fromCharCode(113,48,50,51,52,48,108,0) == gpayT;
      do {
         gpayT = `${(gpayT == String.fromCharCode(74,0) ? gpayT.length : circleg.length)}`;
         if (colorsV) {
            break;
         }
      } while ((circleg.includes(gpayT)) && colorsV);
       let main_pU: Map<any, any> = new Map([[String.fromCharCode(114,101,103,105,111,110,115,0),522], [String.fromCharCode(105,110,118,111,107,101,0),631], [String.fromCharCode(112,97,110,0),740]]);
          let showu = 4;
         gpayT = `${showu}`;
      umengr += (parseFloat(`${unreadr == String.fromCharCode(68,0) ? unreadr.length : circleg.length}`));
      usernameG *= ((holdery ? 4 : 5) ^ unreadr.length);

    onClose();

   let updatesv = 7189470.0 <= umengr;
   do {
       let rewindy = 4.0;
       let umengW = false;
       let themea = String.fromCharCode(102,97,108,108,111,102,102,0);
       let modep = 2.0;
       let condensedD = String.fromCharCode(108,111,97,100,101,114,0);
         umengW = 42.67 < modep;
          let backgroundy = String.fromCharCode(114,97,100,105,117,115,0);
          let projectq = 2.0;
         modep *= parseFloat(`${themea.length}`);
         backgroundy += `${backgroundy.length}`;
         projectq += parseFloat(`${parseInt(`${projectq}`) - backgroundy.length}`);
      if (2 <= condensedD.length) {
         condensedD += `${condensedD.length ^ 3}`;
      }
      let dycreatorS = rewindy >= 6194544.0;
      do {
          let modityt = 4.0;
          let traminiS = 2.0;
          let floatera: Array<any> = [257, 7];
          let areaE: Array<any> = [228, 908];
          let entryM = true;
         rewindy += (parseFloat(`${(entryM ? 4 : 5)}`));
         modityt += 1;
         traminiS *= floatera.length << (Math.min(areaE.length, 2));
         floatera.push(parseInt(`${modityt}`) | parseInt(`${traminiS}`));
         areaE = [areaE.length];
         entryM = traminiS <= modityt;
         if (dycreatorS) {
            break;
         }
      } while (dycreatorS && (5.80 <= (rewindy + modep)));
         themea = `${(condensedD == String.fromCharCode(116,0) ? condensedD.length : parseInt(`${modep}`))}`;
       let colorsw = String.fromCharCode(113,101,120,112,0);
       let footballY = String.fromCharCode(116,111,116,97,108,0);
         condensedD += "1";
          let bridgef: Map<any, any> = new Map([[String.fromCharCode(97,118,103,121,0),false ], [String.fromCharCode(116,111,111,98,105,103,0),false ]]);
          let themeA: Array<any> = [327, 52];
         themea = `${((umengW ? 3 : 2) | parseInt(`${modep}`))}`;
         bridgef = new Map([[`${bridgef.size}`, bridgef.size & 3]]);
         themeA = [2];
         rewindy -= parseFloat(`${themea.length}`);
         footballY += `${parseInt(`${modep}`) ^ 3}`;
         footballY = `${2 - parseInt(`${rewindy}`)}`;
          let detailsO: Array<any> = [234, 503, 885];
         colorsw = `${themea.length >> (Math.min(Math.abs(2), 4))}`;
         detailsO.push(3 - detailsO.length);
         umengW = 32 > themea.length;
       let subs9 = String.fromCharCode(112,101,114,115,105,115,116,101,100,0);
       let mbnativeadvancedC = String.fromCharCode(111,114,105,101,110,116,0);
      for (let a = 0; a < 2; a++) {
          let eact3 = String.fromCharCode(104,105,103,104,108,105,103,116,104,101,100,0);
          let hookW = 1.0;
          let gmaill = String.fromCharCode(114,103,98,97,98,101,0);
          let feedbackl = 4;
          let schedulep: Array<any> = [String.fromCharCode(97,103,103,114,101,103,97,116,101,115,0), String.fromCharCode(119,111,114,107,115,0), String.fromCharCode(116,120,116,0)];
         modep *= parseFloat(`${subs9.length | colorsw.length}`);
         eact3 += `${feedbackl - 2}`;
         hookW /= Math.max(schedulep.length >> (Math.min(2, Math.abs(feedbackl))), 1);
         gmaill += `${gmaill.length}`;
         schedulep.push(gmaill.length);
      }
      umengr /= Math.max(parseFloat(`${hooke << (Math.min(Math.abs(parseInt(`${rewindy}`)), 3))}`), 2);
      if (updatesv) {
         break;
      }
   } while ((umengr >= hooke) && updatesv);
   while ((usernameG % (Math.max(5, 9))) == 3) {
       let modalr: Map<any, any> = new Map([[String.fromCharCode(121,117,118,116,101,115,116,0),true ], [String.fromCharCode(102,108,111,99,107,0),false ]]);
       let commonG = 4;
      let friendsm = commonG <= 8431964;
      do {
         commonG |= 3 << (Math.min(4, Math.abs(commonG)));
         if (friendsm) {
            break;
         }
      } while ((Array.from(modalr.values()).includes(commonG)) && friendsm);
      for (let z = 0; z < 1; z++) {
         commonG |= commonG * 3;
      }
      while ((1 & commonG) == 5) {
          let statisticsI = 4.0;
         commonG /= Math.max(1 % (Math.max(10, parseInt(`${statisticsI}`))), 1);
         break;
      }
          let dark7: Array<any> = [925, 486, 65];
          let w_unlockC = String.fromCharCode(115,105,98,108,105,110,103,0);
          let become_: Array<any> = [99, 109];
         modalr.set(`${commonG}`, commonG >> (Math.min(Math.abs(2), 5)));
         dark7 = [become_.length / 2];
         w_unlockC += `${(w_unlockC == String.fromCharCode(86,0) ? w_unlockC.length : become_.length)}`;
      if (commonG < modalr.size) {
         commonG -= commonG ^ modalr.size;
      }
         commonG >>= Math.min(5, Math.abs(commonG));
      unreadr += `${hooke}`;
      break;
   }
   for (let g = 0; g < 1; g++) {
      usernameG ^= usernameG;
   }
      unreadr += `${verticalt.length * 1}`;
    dispatch(vipPromotionModalShown());

   let reminderk = holdery ? !holdery : holdery;
   do {
      holdery = unreadr == String.fromCharCode(97,0);
      if (reminderk) {
         break;
      }
   } while ((!holdery && (1 - usernameG) >= 3) && reminderk);
   while (3 >= changeZ.length) {
       let reducerf = 4;
       let countdownd: Array<any> = [String.fromCharCode(97,114,103,98,0), String.fromCharCode(114,116,99,119,101,98,0)];
       let fastforwardj = String.fromCharCode(101,120,116,114,97,100,97,116,97,99,111,110,102,105,103,0);
       let detaile = 5;
      if ((fastforwardj.length << (Math.min(Math.abs(1), 3))) > 5 || 1 > (fastforwardj.length << (Math.min(4, Math.abs(detaile))))) {
          let rewardg = String.fromCharCode(105,110,116,101,102,97,99,101,0);
          let indexD = String.fromCharCode(111,112,116,97,114,103,0);
          let statsn = 3.0;
          let customt: Array<any> = [681, 292, 71];
          let nexto = String.fromCharCode(114,101,97,100,115,0);
         fastforwardj = `${rewardg.length % 1}`;
         rewardg = "1";
         indexD += "2";
         statsn /= Math.max(parseFloat(`${parseInt(`${statsn}`) / (Math.max(nexto.length, 6))}`), 3);
         customt.push(2 << (Math.min(5, Math.abs(parseInt(`${statsn}`)))));
         nexto = `${nexto.length}`;
      }
      if (1 <= detaile) {
         fastforwardj = `${1 << (Math.min(3, fastforwardj.length))}`;
      }
         detaile ^= detaile;
       let rewindQ = String.fromCharCode(98,111,117,110,100,97,114,105,101,115,0);
         countdownd = [(fastforwardj == String.fromCharCode(71,0) ? countdownd.length : fastforwardj.length)];
      let listG = fastforwardj.length >= 5702913;
      do {
         fastforwardj += "2";
         if (listG) {
            break;
         }
      } while (listG && (!fastforwardj.endsWith(`${countdownd.length}`)));
       let shirtT = 1;
       let buttonF = 0;
      while ((buttonF / (Math.max(2, fastforwardj.length))) == 1) {
          let yellow9 = String.fromCharCode(99,111,110,99,97,116,101,110,97,116,101,100,0);
          let mbsplash4: Array<any> = [476, 50, 337];
         buttonF -= 2 ^ buttonF;
         yellow9 += `${(String.fromCharCode(111,0) == yellow9 ? mbsplash4.length : yellow9.length)}`;
         mbsplash4 = [(String.fromCharCode(99,0) == yellow9 ? mbsplash4.length : yellow9.length)];
         break;
      }
      let borderless6 = 5996440 <= shirtT;
      do {
         shirtT %= Math.max(2, 2);
         if (borderless6) {
            break;
         }
      } while (borderless6 && (shirtT >= buttonF));
       let becomeQ = 4.0;
       let halfx = 3.0;
         fastforwardj += `${3 >> (Math.min(Math.abs(parseInt(`${becomeQ}`)), 1))}`;
      if (3 < countdownd.length) {
         buttonF *= 2 | reducerf;
      }
      changeZ = "2";
      break;
   }
   for (let n = 0; n < 3; n++) {
      changeZ = `${3 << (Math.min(Math.abs(parseInt(`${libcrashsdkL}`)), 2))}`;
   }
   if (changeZ.length < 1) {
      holdery = 99 >= usernameG;
   }

    navigator.navigate("付费VIP");
    
    
    
    
    
  }, []);

  return (
    <Modal
      visible={showCondition}
      transparent={true}
      animationType="fade"
      onRequestClose={onClose}
    >
      <TouchableWithoutFeedback onPress={onClose}>
        <View style={{ flex: 1, backgroundColor: "rgba(0, 0, 0, 0.4)" }}>
          <VipPromotionModal
            coverBackground={sportBg}
            coverImage={commonModels}
            onPurchase={handleOnPurchase}
            onClose={onCloseModal}
            showCondition={showCondition}
          />
        </View>
      </TouchableWithoutFeedback>
    </Modal>
  );
};
