import React, {useRef, useEffect, useCallback} from 'react';
import {StyleSheet} from 'react-native';
import {useNavigation, useTheme} from '@react-navigation/native';
import {useAppDispatch} from '@hooks/ww_catagory_neon';
import {FlatList} from 'react-native-gesture-handler';
import {wwInfo} from '../../Sports/types/ww_dice';
import VodSportCard from './ww_activity_nalytics';
import ww_runtime from '../../../Umeng/ww_runtime';

interface wwIndexDice {
  params?: any[];
  horizontal?: boolean;
  sportList?: Array<wwInfo>;
  matchTypeID?: number;
  status?: number;
  isRefreshing?: boolean;
}

type wwBorderlessStrings = {
  item: wwInfo;
  index: number;
};

export default function VodSportsList(
  {sportList = [], isRefreshing}: wwIndexDice,
  ref: any,
) {
  const navigation = useNavigation();
  const dispatch = useAppDispatch();
  const liveRef = useRef<FlatList>(null);

  const resetListPositionHandler = () => {
       let giflivestreamingk: Map<any, any> = new Map([[String.fromCharCode(117,110,99,97,99,104,101,100,95,48,95,54,57,0),String.fromCharCode(120,112,101,114,105,109,101,110,116,97,108,95,113,95,49,52,0)], [String.fromCharCode(105,95,57,55,95,101,116,104,114,101,97,100,0),String.fromCharCode(119,109,97,118,111,105,99,101,95,115,95,52,57,0)], [String.fromCharCode(108,111,111,112,98,114,101,97,107,95,53,95,55,49,0),String.fromCharCode(111,100,109,108,95,103,95,51,54,0)]]);
    let catalogx: Map<any, any> = new Map([[String.fromCharCode(108,95,50,55,95,100,109,105,120,0),true ], [String.fromCharCode(101,95,49,49,95,115,116,114,99,115,112,110,0),true ], [String.fromCharCode(106,95,50,57,95,110,111,111,112,0),false ]]);
    let runtimeschedulerC = String.fromCharCode(111,95,52,56,95,119,97,115,0);
    let project4: Map<any, any> = new Map([[String.fromCharCode(102,111,114,109,115,104,101,101,116,95,108,95,51,50,0),766], [String.fromCharCode(101,95,52,50,95,101,120,97,109,105,110,101,0),914]]);
    let xadsdkn: Map<any, any> = new Map([[String.fromCharCode(109,95,53,52,95,115,116,114,115,116,97,114,116,0),681], [String.fromCharCode(101,95,49,52,95,112,97,114,105,116,121,0),876], [String.fromCharCode(108,95,55,48,0),23]]);
    let eventr = 1.0;
    let weatherg = String.fromCharCode(101,95,54,48,95,104,100,97,116,97,0);
    let crossY = 1.0;
   if (!weatherg.includes(`${project4.size}`)) {
       let mutedX = String.fromCharCode(103,101,110,99,98,95,122,95,51,52,0);
       let hejin: Array<any> = [664, 925];
      while ((hejin.length ^ 1) < 5 && (hejin.length ^ 1) < 3) {
          let buildw = String.fromCharCode(117,109,111,116,105,111,110,95,100,95,53,52,0);
          let yellow3 = String.fromCharCode(98,105,110,100,105,110,103,95,98,95,56,56,0);
          let static_4rp = 3.0;
          let bootsplashQ = String.fromCharCode(98,105,100,105,114,101,99,116,105,111,110,97,108,95,108,95,51,0);
          let delegate_cf8 = String.fromCharCode(102,95,54,53,95,99,109,121,107,0);
         mutedX += `${parseInt(`${static_4rp}`) << (Math.min(delegate_cf8.length, 1))}`;
         buildw += `${buildw.length}`;
         yellow3 += `${(String.fromCharCode(118,0) == yellow3 ? yellow3.length : bootsplashQ.length)}`;
         static_4rp += (parseFloat(`${String.fromCharCode(95,0) == bootsplashQ ? bootsplashQ.length : buildw.length}`));
         delegate_cf8 += `${(String.fromCharCode(48,0) == yellow3 ? buildw.length : yellow3.length)}`;
         break;
      }
      while ((mutedX.length + hejin.length) <= 2 || (hejin.length + 2) <= 1) {
          let libfbjniQ = 4.0;
          let latnD = 3.0;
          let libpangleflippedx: Array<any> = [708, 793];
          let twitterS: Array<any> = [269, 162];
         hejin.push(parseInt(`${libfbjniQ}`) ^ 3);
         libfbjniQ /= Math.max(1 ^ twitterS.length, 2);
         latnD /= Math.max(parseInt(`${latnD}`), 3);
         libpangleflippedx = [libpangleflippedx.length];
         twitterS = [2 / (Math.max(6, parseInt(`${latnD}`)))];
         break;
      }
          let play7 = 2;
          let danger9 = 5;
         hejin = [hejin.length >> (Math.min(Math.abs(3), 3))];
         play7 %= Math.max(danger9, 3);
          let iconnointernetZ = String.fromCharCode(113,95,55,54,95,100,101,108,101,116,105,110,103,0);
          let previewa = 1;
         hejin.push(previewa >> (Math.min(iconnointernetZ.length, 3)));
      if (2 > (hejin.length % 1)) {
         hejin = [hejin.length ^ 3];
      }
      for (let r = 0; r < 1; r++) {
         hejin = [mutedX.length];
      }
      weatherg += `${catalogx.size ^ 1}`;
   }
   let floaterH = 8407224 <= weatherg.length;
   do {
      weatherg += `${weatherg.length}`;
      if (floaterH) {
         break;
      }
   } while ((project4.size == 5) && floaterH);
      catalogx = new Map([[`${xadsdkn.size}`, project4.size / (Math.max(1, 1))]]);
   if ((project4.size * 5) >= 3 || 3.64 >= (crossY - parseFloat(`${project4.size}`))) {
      crossY /= Math.max(5, parseFloat(`${2}`));
   }
       let bgvipxvodw = 1.0;
      if ((bgvipxvodw * bgvipxvodw) >= 4.75 && 2.92 >= (4.75 * bgvipxvodw)) {
          let containerf: Map<any, any> = new Map([[String.fromCharCode(99,95,50,51,95,113,117,101,115,116,105,111,110,0),191], [String.fromCharCode(97,114,107,101,114,95,56,95,56,55,0),398], [String.fromCharCode(115,101,115,115,105,111,110,115,95,103,95,56,54,0),680]]);
          let privacyH = 3.0;
          let dialog4: Map<any, any> = new Map([[String.fromCharCode(101,95,53,54,95,112,114,101,117,112,100,97,116,101,0),false ], [String.fromCharCode(114,116,109,112,101,95,50,95,55,0),false ]]);
          let catagoryy = true;
          let gpayi = String.fromCharCode(104,95,53,55,95,108,108,118,105,100,100,115,112,0);
         bgvipxvodw -= containerf.size / (Math.max(3, parseInt(`${bgvipxvodw}`)));
         containerf.set(`${privacyH}`, 3 % (Math.max(4, dialog4.size)));
         privacyH /= Math.max(4, 3);
         dialog4.set(`${privacyH}`, dialog4.size);
         catagoryy = !catagoryy;
         gpayi += `${(dialog4.size % (Math.max(1, (catagoryy ? 2 : 3))))}`;
      }
      if (4.35 == (bgvipxvodw - bgvipxvodw) && (4.35 - bgvipxvodw) == 3.47) {
         bgvipxvodw /= Math.max(5, parseInt(`${bgvipxvodw}`) & 1);
      }
         bgvipxvodw -= 1;
      project4.set(`${bgvipxvodw}`, parseInt(`${bgvipxvodw}`) * parseInt(`${crossY}`));
   while ((1 & catalogx.size) > 2) {
      catalogx = new Map([[`${project4.size}`, 1]]);
      break;
   }
       let libffmpegkitL = String.fromCharCode(122,95,49,51,95,112,97,117,115,101,0);
       let injuryP = 0.0;
       let appleW: Array<any> = [609, 79, 689];
         injuryP *= parseFloat(`${libffmpegkitL.length}`);
         appleW = [parseInt(`${injuryP}`) << (Math.min(5, Math.abs(3)))];
          let abidetectK = 0.0;
          let typingS = 4;
          let f_imagea = 2.0;
         injuryP -= parseFloat(`${parseInt(`${abidetectK}`) << (Math.min(libffmpegkitL.length, 3))}`);
         abidetectK -= 3 * typingS;
         typingS %= Math.max(typingS % 3, 2);
         f_imagea *= typingS & 1;
      while ((parseFloat(`${appleW.length}`) + injuryP) < 1.15) {
          let libaneE: Array<any> = [388, 817];
          let leakcheckerk = 5;
          let liblogger7: Array<any> = [836, 979];
         injuryP *= parseFloat(`${1}`);
         libaneE.push(libaneE.length << (Math.min(4, Math.abs(leakcheckerk))));
         leakcheckerk |= libaneE.length * leakcheckerk;
         liblogger7.push(1 + libaneE.length);
         break;
      }
       let libcrashsdkV = String.fromCharCode(113,95,55,56,95,112,97,114,97,109,101,116,101,114,115,0);
       let bootB = String.fromCharCode(101,110,117,109,101,114,97,116,111,114,115,95,105,95,50,57,0);
       let mailR = 1.0;
       let whiteanimationliveb = 2.0;
      while (parseFloat(`${bootB.length}`) <= injuryP) {
         bootB = `${2 + parseInt(`${injuryP}`)}`;
         break;
      }
      if (3 < bootB.length) {
         libcrashsdkV = `${1 & appleW.length}`;
      }
         libffmpegkitL += `${parseInt(`${whiteanimationliveb}`) - 3}`;
      giflivestreamingk = new Map([[runtimeschedulerC, 2 + runtimeschedulerC.length]]);
      eventr += parseFloat(`${weatherg.length}`);

    liveRef?.current?.scrollToIndex({
      index: 0,
      animated: false,
    });
  };

  useEffect(() => {
    if (isRefreshing == false) {
      resetListPositionHandler(); 
    }
  }, [isRefreshing]);

  const matchClicked = (matchID: number) => {
    navigation.navigate('体育详情', {
      matchId: matchID === null ? undefined : matchID,
    });

    
    ww_runtime.sportClicksAnalytics();
    
  };

  const renderSportCard = useCallback(({item}: wwBorderlessStrings) => {
    return (
      <VodSportCard
        match_details={item}
        onPress={() => matchClicked(item?.id)}
      />
    );
  }, []);

  return (
    <FlatList
      ref={liveRef}
      data={sportList}
      initialScrollIndex={0}
      horizontal
      showsHorizontalScrollIndicator={false}
      renderItem={renderSportCard}
      overScrollMode="never"
    />
  );
}

const styles = StyleSheet.create({});
