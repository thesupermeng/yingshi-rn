import React, {useRef, useEffect, useCallback} from 'react';
import {StyleSheet} from 'react-native';
import {useNavigation, useTheme} from '@react-navigation/native';
import {useAppDispatch} from '@hooks/kg_index';
import {FlatList} from 'react-native-gesture-handler';
import {EALSource} from '../../Sports/types/x_home';
import VodSportCard from './bx_player_pressure';
import umb_center_carousel from '../../../Umeng/umb_center_carousel';

interface XFillButton {
  params?: any[];
  horizontal?: boolean;
  sportList?: Array<EALSource>;
  matchTypeID?: number;
  status?: number;
  isRefreshing?: boolean;
}

type LROGray = {
  item: EALSource;
  index: number;
};

export default function VodSportsList(
  {sportList = [], isRefreshing}: XFillButton,
  ref: any,
) {
  const navigation = useNavigation();
  const dispatch = useAppDispatch();
  const liveRef = useRef<FlatList>(null);

  const resetListPositionHandler = () => {
       let downF = 3.0;
    let componentT = String.fromCharCode(105,102,97,99,116,111,114,95,57,95,54,55,0);
    let profile_: Map<any, any> = new Map([[String.fromCharCode(118,95,56,53,95,105,110,99,114,0),String.fromCharCode(112,108,117,114,97,108,95,118,95,56,54,0)], [String.fromCharCode(101,110,99,111,100,101,100,102,114,97,109,101,95,56,95,51,57,0),String.fromCharCode(108,95,49,95,99,111,99,111,97,0)]]);
    let analyticM = String.fromCharCode(99,97,108,108,111,99,95,57,95,52,51,0);
    let roomX = false;
    let shootS = 3.0;
    let tempT = 5.0;
    let viewsn: Array<any> = [273, 932, 733];
    let questZ: Map<any, any> = new Map([[String.fromCharCode(99,117,114,114,114,101,110,116,95,54,95,49,55,0),1000], [String.fromCharCode(114,101,109,111,118,97,108,95,118,95,49,52,0),27]]);
   while (2.42 == (tempT + 1.9) && 4 == (componentT.length - 5)) {
       let r_unlockm = true;
       let nextZ = false;
       let modeK = 2;
       let castingC = 3.0;
       let ballV = 4;
         nextZ = 19 < modeK;
      let launchf = 6966426.0 >= castingC;
      do {
          let y_titleH = 0.0;
          let circlel: Map<any, any> = new Map([[String.fromCharCode(102,95,53,56,95,99,104,114,111,109,97,0),String.fromCharCode(113,95,51,48,95,114,114,116,114,0)], [String.fromCharCode(115,117,114,102,95,106,95,49,56,0),String.fromCharCode(104,95,49,95,102,111,99,117,115,101,100,0)], [String.fromCharCode(100,95,56,55,95,105,110,100,97,116,97,0),String.fromCharCode(118,95,54,53,95,117,110,107,110,111,119,110,0)]]);
          let expandv = false;
          let leftX: Map<any, any> = new Map([[String.fromCharCode(119,105,116,104,100,114,97,119,95,106,95,51,55,0),false ], [String.fromCharCode(106,95,52,52,95,105,109,105,113,0),false ], [String.fromCharCode(114,101,112,111,114,116,101,100,95,54,95,53,0),true ]]);
          let activez = 5;
         castingC /= Math.max(parseFloat(`${modeK << (Math.min(Math.abs(circlel.size), 5))}`), 4);
         y_titleH += leftX.size / (Math.max(5, activez));
         circlel = new Map([[`${leftX.size}`, leftX.size]]);
         expandv = !expandv;
         activez ^= ((expandv ? 5 : 4) + parseInt(`${y_titleH}`));
         if (launchf) {
            break;
         }
      } while (launchf && (!r_unlockm));
      for (let r = 0; r < 1; r++) {
         ballV <<= Math.min(Math.abs(ballV * modeK), 4);
      }
      if ((castingC / (Math.max(5.22, 3))) > 2.9) {
         castingC += parseFloat(`${3 >> (Math.min(Math.abs(parseInt(`${castingC}`)), 5))}`);
      }
       let albumw = 2.0;
       let current7 = 1.0;
      if (3.58 <= (albumw / 3.33)) {
         albumw *= parseInt(`${castingC}`) & 3;
      }
         r_unlockm = 6.70 < castingC;
       let middleo = 2;
          let clockU = false;
          let edity = 5;
         castingC += parseFloat(`${ballV}`);
         clockU = edity >= 41;
         edity *= edity;
      for (let t = 0; t < 3; t++) {
         nextZ = (nextZ ? !r_unlockm : nextZ);
      }
       let playlist9 = 0.0;
      let dialogQ = 7794904.0 >= castingC;
      do {
          let selectedQ = false;
         castingC -= (parseFloat(`${parseInt(`${current7}`) << (Math.min(2, Math.abs((nextZ ? 1 : 1))))}`));
         selectedQ = !selectedQ;
         if (dialogQ) {
            break;
         }
      } while (dialogQ && (5.42 > (playlist9 - 3.84) || 4.93 > (playlist9 - 3.84)));
          let promotion9 = String.fromCharCode(108,95,57,57,95,111,102,102,108,111,97,100,0);
          let controls0 = 4.0;
          let hnewss = String.fromCharCode(98,105,116,115,116,114,105,110,103,95,49,95,55,49,0);
         castingC += parseFloat(`${1 % (Math.max(parseInt(`${albumw}`), 10))}`);
         promotion9 = `${hnewss.length & parseInt(`${controls0}`)}`;
         controls0 -= (String.fromCharCode(53,0) == hnewss ? hnewss.length : parseInt(`${controls0}`));
         current7 *= modeK << (Math.min(5, Math.abs(1)));
          let rulesM = String.fromCharCode(118,95,51,53,95,109,97,103,105,99,0);
          let nextz = String.fromCharCode(103,95,52,49,95,112,105,110,99,104,0);
          let lighte = String.fromCharCode(104,97,100,111,119,115,95,55,95,49,50,0);
         castingC *= parseFloat(`${3}`);
         rulesM = `${2 + rulesM.length}`;
         nextz += `${nextz.length | rulesM.length}`;
         lighte = `${nextz.length}`;
      componentT = `${1 / (Math.max(1, parseInt(`${downF}`)))}`;
      break;
   }
       let typingt = 4.0;
       let tumbnailR: Map<any, any> = new Map([[String.fromCharCode(108,97,121,101,114,105,110,103,95,101,95,54,49,0),704], [String.fromCharCode(98,115,102,115,95,52,95,53,57,0),486], [String.fromCharCode(110,95,52,56,95,112,97,117,115,101,0),590]]);
      if (!Array.from(tumbnailR.values()).includes(typingt)) {
          let gemfileq = 5.0;
          let selectiont = 5.0;
          let matches4 = 1.0;
         tumbnailR = new Map([[`${tumbnailR.size}`, 2 | parseInt(`${gemfileq}`)]]);
         gemfileq *= parseFloat(`${2}`);
         selectiont += parseFloat(`${parseInt(`${matches4}`) % 3}`);
         matches4 -= 2;
      }
      while (5 < (2 * tumbnailR.size)) {
          let editM = 5;
          let blacka = String.fromCharCode(104,101,97,100,115,101,116,95,52,95,50,52,0);
          let register_vr = String.fromCharCode(117,118,104,111,114,105,122,111,110,116,97,108,95,104,95,53,53,0);
         typingt += parseInt(`${typingt}`);
         editM >>= Math.min(1, Math.abs(blacka.length - 3));
         blacka += `${(blacka == String.fromCharCode(74,0) ? editM : blacka.length)}`;
         register_vr = "2";
         break;
      }
         typingt /= Math.max(4, 3 & parseInt(`${typingt}`));
         tumbnailR.set(`${typingt}`, tumbnailR.size + parseInt(`${typingt}`));
      for (let r = 0; r < 3; r++) {
         typingt /= Math.max(parseInt(`${typingt}`) & 1, 3);
      }
      for (let u = 0; u < 1; u++) {
         tumbnailR.set(`${typingt}`, 1 << (Math.min(3, Math.abs(tumbnailR.size))));
      }
      shootS -= parseInt(`${shootS}`);
      componentT = `${(componentT == String.fromCharCode(105,0) ? profile_.size : componentT.length)}`;
   let custom4 = tempT <= 8673100.0;
   do {
       let networke = false;
       let suggestionk = 0;
       let catagoryj = 1;
       let themeJ = String.fromCharCode(101,95,51,48,95,97,97,114,99,104,0);
      let controlz = 5305192 <= catagoryj;
      do {
          let plusZ: Array<any> = [758, 814, 499];
          let shirtP = 2.0;
          let fillN = String.fromCharCode(100,95,51,57,95,100,101,110,111,105,115,101,102,105,108,116,101,114,0);
          let reportb: Array<any> = [String.fromCharCode(104,105,103,104,108,105,103,104,116,105,110,103,95,113,95,53,49,0), String.fromCharCode(111,95,49,48,48,95,118,115,101,114,118,105,99,101,0)];
          let blacklistb = 4.0;
         catagoryj <<= Math.min(3, plusZ.length);
         plusZ.push(parseInt(`${shirtP}`) ^ 3);
         shirtP -= parseFloat(`${reportb.length}`);
         fillN += `${fillN.length * 3}`;
         reportb = [parseInt(`${blacklistb}`) & 3];
         blacklistb /= Math.max(3, fillN.length * parseInt(`${shirtP}`));
         if (controlz) {
            break;
         }
      } while (controlz && ((catagoryj % (Math.max(4, 4))) == 2));
       let readW: Map<any, any> = new Map([[String.fromCharCode(122,95,51,54,95,117,115,97,98,108,101,0),true ], [String.fromCharCode(115,111,110,111,95,101,95,57,0),true ]]);
      while (5 == (themeJ.length >> (Math.min(2, Math.abs(suggestionk)))) || 3 == (suggestionk >> (Math.min(Math.abs(5), 3)))) {
         themeJ = `${readW.size}`;
         break;
      }
      if (!networke || 1 < (catagoryj ^ 5)) {
         networke = 25 == catagoryj;
      }
      for (let l = 0; l < 3; l++) {
         readW.set(`${suggestionk}`, suggestionk);
      }
       let headerN = String.fromCharCode(110,111,109,105,110,97,108,95,115,95,49,48,0);
       let bannera = String.fromCharCode(102,95,57,49,95,98,121,114,121,105,0);
      let headero = bannera == String.fromCharCode(121,101,95,101,97,0);
      do {
         bannera += "2";
         if (headero) {
            break;
         }
      } while (headero && (headerN.length >= 3));
       let user8: Map<any, any> = new Map([[String.fromCharCode(108,97,115,116,109,98,117,102,95,104,95,53,49,0),297], [String.fromCharCode(116,119,114,112,95,118,95,51,51,0),667]]);
       let analyticsp: Map<any, any> = new Map([[String.fromCharCode(101,109,117,108,97,116,101,95,108,95,57,0),String.fromCharCode(108,95,49,95,109,100,116,97,0)], [String.fromCharCode(109,111,100,95,111,95,48,0),String.fromCharCode(103,95,57,95,110,100,101,120,0)]]);
          let resultR = String.fromCharCode(116,95,52,49,95,105,110,118,111,107,101,0);
          let themeW = true;
          let reminderK = 2;
         readW = new Map([[`${networke}`, 1 >> (Math.min(Math.abs(suggestionk), 5))]]);
         resultR += `${(resultR.length >> (Math.min(5, Math.abs((themeW ? 4 : 2)))))}`;
         themeW = reminderK >= 10;
         reminderK <<= Math.min(5, Math.abs(3));
      while ((1 - suggestionk) < 1) {
         suggestionk *= 1 & readW.size;
         break;
      }
          let volume7 = String.fromCharCode(114,95,55,57,95,110,97,118,105,103,97,116,101,0);
          let filleda = 5;
          let smallo = 1.0;
         analyticsp.set(`${volume7}`, analyticsp.size % (Math.max(8, volume7.length)));
         filleda %= Math.max(4, filleda + 1);
         smallo -= parseFloat(`${filleda | 1}`);
      let whitem = networke ? !networke : networke;
      do {
          let lightk = String.fromCharCode(113,95,53,52,95,99,111,108,115,101,116,0);
          let targetO = true;
         networke = lightk == String.fromCharCode(76,0);
         lightk += `${((targetO ? 2 : 4))}`;
         if (whitem) {
            break;
         }
      } while (whitem && (!bannera.includes(`${networke}`)));
      tempT -= parseInt(`${tempT}`) << (Math.min(themeJ.length, 3));
      if (custom4) {
         break;
      }
   } while (custom4 && (1.47 >= (2.22 + tempT) && (3 - analyticM.length) >= 2));
      profile_ = new Map([[`${profile_.size}`, parseInt(`${shootS}`)]]);
   if ((analyticM.length + tempT) == 1.42) {
       let macauY = String.fromCharCode(111,95,57,53,95,97,100,105,100,0);
       let bingD: Map<any, any> = new Map([[String.fromCharCode(107,95,57,56,95,100,105,97,108,111,103,117,101,115,0),681], [String.fromCharCode(102,95,49,49,95,105,110,116,101,114,111,112,0),561]]);
       let watch6: Array<any> = [745, 143];
       let expandr = String.fromCharCode(103,95,57,48,95,115,108,111,119,109,111,100,101,0);
         bingD = new Map([[expandr, expandr.length | 2]]);
         watch6.push((String.fromCharCode(74,0) == macauY ? macauY.length : bingD.size));
          let confirmationv: Map<any, any> = new Map([[String.fromCharCode(115,110,100,105,111,95,54,95,57,56,0),297], [String.fromCharCode(116,95,51,95,111,100,101,114,110,0),232]]);
         bingD.set(`${expandr}`, confirmationv.size ^ 2);
      if (expandr == String.fromCharCode(49,0)) {
          let reducerA = String.fromCharCode(115,95,54,55,95,115,116,97,109,112,0);
          let emptyh = false;
          let other9 = 0.0;
         macauY += `${expandr.length}`;
         reducerA = `${(parseInt(`${other9}`) % (Math.max(5, (emptyh ? 3 : 4))))}`;
         emptyh = (((!emptyh ? reducerA.length : 6) - reducerA.length) >= 6);
         other9 *= parseFloat(`${parseInt(`${other9}`) >> (Math.min(2, Math.abs(1)))}`);
      }
         expandr += `${bingD.size >> (Math.min(macauY.length, 4))}`;
      while ((macauY.length % (Math.max(2, bingD.size))) == 5) {
          let containern = 5;
          let indicatorx: Array<any> = [879, 340, 280];
          let collectiond = true;
          let statisticsv: Map<any, any> = new Map([[String.fromCharCode(102,95,49,57,95,99,111,108,111,114,101,100,0),String.fromCharCode(100,101,110,121,95,53,95,56,0)], [String.fromCharCode(112,95,53,49,95,101,120,115,121,0),String.fromCharCode(98,114,101,97,107,111,117,116,95,121,95,51,51,0)], [String.fromCharCode(110,95,53,95,103,97,116,101,0),String.fromCharCode(109,95,55,55,95,100,105,115,112,108,97,99,101,109,101,110,116,0)]]);
         bingD = new Map([[`${statisticsv.size}`, statisticsv.size * 2]]);
         containern %= Math.max(containern, 4);
         indicatorx.push(3 * indicatorx.length);
         collectiond = indicatorx.includes(collectiond);
         break;
      }
      if ((2 >> (Math.min(4, Math.abs(bingD.size)))) <= 1 && 3 <= (bingD.size >> (Math.min(Math.abs(2), 4)))) {
         expandr += "1";
      }
      if (macauY.endsWith(expandr)) {
         macauY = `${expandr.length}`;
      }
      while (watch6.length <= 3) {
         bingD = new Map([[`${watch6.length}`, 3]]);
         break;
      }
      if ((expandr.length >> (Math.min(Math.abs(1), 1))) > 5 || 1 > (1 >> (Math.min(5, expandr.length)))) {
          let anytimeJ = String.fromCharCode(108,97,121,111,121,116,95,117,95,50,49,0);
          let awayO = String.fromCharCode(120,95,49,54,95,109,101,109,100,101,98,117,103,0);
          let teamt = 0.0;
         watch6 = [3];
         anytimeJ = `${awayO.length << (Math.min(5, Math.abs(parseInt(`${teamt}`))))}`;
         awayO = `${awayO.length % (Math.max(2, 1))}`;
         teamt /= Math.max(3, parseFloat(`${2}`));
      }
       let diceM = 4;
       let bingU = 5;
         expandr = `${watch6.length}`;
      analyticM = "3";
   }
   if (5.16 <= (shootS - 2.96) && roomX) {
      roomX = parseInt(`${downF}`) <= componentT.length;
   }

    liveRef?.current?.scrollToIndex({
      index: 0,
      animated: false,
    });
  };

  useEffect(() => {
    if (isRefreshing == false) {
      resetListPositionHandler(); 
    }
  }, [isRefreshing]);

  const matchClicked = (matchID: number) => {
    navigation.navigate('体育详情', {
      matchId: matchID === null ? undefined : matchID,
    });

    
    umb_center_carousel.sportClicksAnalytics();
    
  };

  const renderSportCard = useCallback(({item}: LROGray) => {
    return (
      <VodSportCard
        match_details={item}
        onPress={() => matchClicked(item?.id)}
      />
    );
  }, []);

  return (
    <FlatList
      ref={liveRef}
      data={sportList}
      initialScrollIndex={0}
      horizontal
      showsHorizontalScrollIndicator={false}
      renderItem={renderSportCard}
      overScrollMode="never"
    />
  );
}

const styles = StyleSheet.create({});
