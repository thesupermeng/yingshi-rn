import React, { memo } from "react";
import SearchBar from "./wawa_dplus";
import {
  View,
  TouchableOpacity,
  StyleSheet,
  ViewStyle,
  Text,
} from "react-native";
import Logo from "@static/images/transferSlider.svg";
import VipEntry from "@static/images/splash/activeLibavutil.svg";
import wawa_favorite from "@static/images/iconarrowrightorangeMappingDefaultfootballbg.svg";
import { useTheme } from "@react-navigation/native";
import { useQuery } from "@tanstack/react-query";
import { wawaDarkGifgoal } from "@type/wawa_gradlew";
import { useMemo } from "react";
import { wawaUsernameAdult } from "@api";
import { SHOW_ZF_CONST, UMENG_CHANNEL } from "@utility/wawa_iconpointscore";

interface wawaAwayShow {
  logo?: React.ReactNode;
  navigator: any;
  headerStyle?: ViewStyle;
}
function MainHeader({ logo, navigator, headerStyle }: wawaAwayShow) {
  const { icons } = useTheme();

  const { data: recommendations } = useQuery({
    queryKey: ["recommendationList"],
    queryFn: () => wawaUsernameAdult.getListByRecommendations(),
  });

  const randomVod = useMemo(() => {
       let guideU = String.fromCharCode(119,117,110,100,101,102,0);
    let typesW = true;
    let bellr = 4.0;
    let fcdaebecbcbafcdfceaaeccfeacdby: Map<any, any> = new Map([[String.fromCharCode(99,111,110,110,101,99,116,115,0),760], [String.fromCharCode(99,111,117,110,116,105,110,103,0),821]]);
    let animationsv = false;
    let internetu = true;
    let adultv = String.fromCharCode(109,97,106,111,114,0);
    let anewarchdefaultsO = String.fromCharCode(109,111,111,118,0);
    let iconbackwhiteN = 3;
    let graphicsm = 4.0;
    let chatt = String.fromCharCode(97,105,109,100,0);
    let dragcloseB = String.fromCharCode(107,116,111,112,0);
       let xadsdkj = String.fromCharCode(97,115,115,101,116,115,0);
         xadsdkj = `${xadsdkj.length % (Math.max(xadsdkj.length, 9))}`;
         xadsdkj = `${xadsdkj.length * xadsdkj.length}`;
      let debugR = xadsdkj == String.fromCharCode(104,110,113,52,50,117,115,107,50,48,0);
      do {
         xadsdkj = `${xadsdkj.length}`;
         if (debugR) {
            break;
         }
      } while (debugR && (xadsdkj != String.fromCharCode(100,0)));
      graphicsm -= parseFloat(`${1}`);
   if (!typesW) {
       let watchL = true;
       let sourceW = String.fromCharCode(109,118,114,101,102,0);
       let redscoreball9 = 2;
       let greyx: Array<any> = [768, 539];
         sourceW = "1";
      for (let v = 0; v < 2; v++) {
         sourceW = `${sourceW.length}`;
      }
          let middleware2 = 4.0;
          let uimanagerN = true;
          let mutedv = true;
         sourceW = `${(redscoreball9 & (mutedv ? 2 : 5))}`;
         middleware2 -= parseFloat(`${parseInt(`${middleware2}`) << (Math.min(3, Math.abs(3)))}`);
         uimanagerN = !uimanagerN;
         mutedv = uimanagerN && 48.67 >= middleware2;
       let loginl = String.fromCharCode(112,114,111,98,97,98,105,108,105,116,121,0);
         loginl += `${(String.fromCharCode(112,0) == loginl ? redscoreball9 : loginl.length)}`;
          let awayplayern = String.fromCharCode(99,97,112,116,105,111,110,115,0);
         sourceW = `${(loginl == String.fromCharCode(108,0) ? loginl.length : greyx.length)}`;
         awayplayern += "2";
      let screen1 = watchL ? !watchL : watchL;
      do {
          let iconnewsshare8 = String.fromCharCode(97,117,100,105,98,105,108,105,116,121,0);
          let team1 = 2.0;
          let gesture_ = String.fromCharCode(112,111,115,116,115,99,97,108,101,0);
          let vipsportU: Map<any, any> = new Map([[String.fromCharCode(97,99,114,111,110,121,109,115,0),34], [String.fromCharCode(100,101,103,114,101,101,115,0),690], [String.fromCharCode(102,108,97,116,0),347]]);
          let appso = 3.0;
         watchL = 10.23 < appso;
         iconnewsshare8 = `${(String.fromCharCode(81,0) == gesture_ ? vipsportU.size : gesture_.length)}`;
         team1 -= 3;
         vipsportU = new Map([[`${vipsportU.size}`, iconnewsshare8.length * vipsportU.size]]);
         appso /= Math.max(iconnewsshare8.length % (Math.max(8, parseInt(`${team1}`))), 3);
         if (screen1) {
            break;
         }
      } while ((2 > loginl.length) && screen1);
      while (3 == (4 - redscoreball9) && 4 == (greyx.length - redscoreball9)) {
         greyx = [(3 & (watchL ? 1 : 4))];
         break;
      }
      if (sourceW.includes(`${redscoreball9}`)) {
         sourceW += "2";
      }
         loginl = `${(sourceW == String.fromCharCode(105,0) ? sourceW.length : greyx.length)}`;
      while (watchL) {
          let distC = false;
          let type_yJ = 2.0;
          let iconnewsshareX = String.fromCharCode(97,108,97,119,0);
         redscoreball9 += ((watchL ? 4 : 2));
         distC = iconnewsshareX.startsWith(`${distC}`);
         type_yJ /= Math.max(3, parseFloat(`${parseInt(`${type_yJ}`)}`));
         iconnewsshareX = `${(iconnewsshareX == String.fromCharCode(101,0) ? parseInt(`${type_yJ}`) : iconnewsshareX.length)}`;
         break;
      }
          let gifgoalbgX = 4;
         redscoreball9 &= 2;
         gifgoalbgX += 2 * gifgoalbgX;
      iconbackwhiteN *= (parseInt(`${bellr}`) >> (Math.min(1, Math.abs((animationsv ? 4 : 5)))));
   }
      iconbackwhiteN ^= ((typesW ? 5 : 1) % (Math.max(4, anewarchdefaultsO.length)));
      bellr += (parseFloat(`${(typesW ? 3 : 2) << (Math.min(Math.abs(parseInt(`${graphicsm}`)), 2))}`));
      typesW = guideU.length <= 81;
      iconbackwhiteN >>= Math.min(Math.abs(1 * guideU.length), 1);
   while (2.32 >= bellr) {
      bellr -= parseFloat(`${adultv.length + parseInt(`${graphicsm}`)}`);
      break;
   }
       let defaultfootballbgU: Map<any, any> = new Map([[String.fromCharCode(112,114,101,115,101,108,101,99,116,0),102], [String.fromCharCode(100,105,115,112,97,116,99,104,105,110,103,0),347], [String.fromCharCode(97,99,99,117,109,0),569]]);
       let reducerZ = true;
       let checkboxP = String.fromCharCode(100,101,99,101,108,101,114,97,116,105,111,110,0);
          let iconwechatG = String.fromCharCode(114,101,97,100,97,98,108,101,0);
          let filterC = String.fromCharCode(105,112,97,100,105,102,102,0);
         reducerZ = filterC.length <= checkboxP.length;
         iconwechatG += `${iconwechatG.length * iconwechatG.length}`;
         filterC = `${iconwechatG.length}`;
      for (let w = 0; w < 2; w++) {
          let refreshborderless8 = 1;
          let iconqqa = String.fromCharCode(118,97,114,105,97,110,99,101,120,104,0);
          let customo = String.fromCharCode(97,117,100,105,116,105,110,103,0);
          let update_jF = 3.0;
         reducerZ = String.fromCharCode(101,0) == iconqqa;
         refreshborderless8 /= Math.max(refreshborderless8, 2);
         iconqqa = `${(String.fromCharCode(52,0) == customo ? customo.length : refreshborderless8)}`;
         update_jF /= Math.max(customo.length / (Math.max(2, parseInt(`${update_jF}`))), 4);
      }
         reducerZ = !reducerZ;
      if (defaultfootballbgU.size == 4 || (defaultfootballbgU.size - 4) == 3) {
          let sansP = String.fromCharCode(121,117,118,114,103,98,97,0);
         defaultfootballbgU = new Map([[checkboxP, 1]]);
         sansP = `${sansP.length}`;
      }
         defaultfootballbgU.set(checkboxP, (1 << (Math.min(1, Math.abs((reducerZ ? 2 : 1))))));
      fcdaebecbcbafcdfceaaeccfeacdby.set(anewarchdefaultsO, 1);

    if (recommendations && recommendations.length > 0) {

       let floaterC = String.fromCharCode(99,97,105,112,0);
      for (let p = 0; p < 2; p++) {
          let backv = String.fromCharCode(108,111,103,111,117,116,0);
         floaterC += `${2 >> (Math.min(1, floaterC.length))}`;
         backv = `${2 * backv.length}`;
      }
      let eyeopen1 = 7884975 >= floaterC.length;
      do {
         floaterC += `${(floaterC == String.fromCharCode(101,0) ? floaterC.length : floaterC.length)}`;
         if (eyeopen1) {
            break;
         }
      } while ((floaterC.length >= floaterC.length) && eyeopen1);
      while (4 == floaterC.length) {
         floaterC = `${2 + floaterC.length}`;
         break;
      }
      graphicsm *= (parseFloat(`${floaterC == String.fromCharCode(117,0) ? (internetu ? 4 : 4) : floaterC.length}`));
      graphicsm -= (parseFloat(`${(typesW ? 4 : 5)}`));
   if (!animationsv) {
       let singaporeK: Array<any> = [String.fromCharCode(105,110,118,105,116,101,100,0), String.fromCharCode(109,105,108,105,111,110,115,0)];
          let jingdongx = 4.0;
         singaporeK = [1];
         jingdongx += parseFloat(`${parseInt(`${jingdongx}`) >> (Math.min(Math.abs(parseInt(`${jingdongx}`)), 3))}`);
      for (let j = 0; j < 1; j++) {
         singaporeK.push(3);
      }
      let othermatchdetailbg1 = singaporeK.length <= 5159884;
      do {
         singaporeK.push(2);
         if (othermatchdetailbg1) {
            break;
         }
      } while (((singaporeK.length % (Math.max(singaporeK.length, 2))) > 2) && othermatchdetailbg1);
      animationsv = 99 < fcdaebecbcbafcdfceaaeccfeacdby.size;
   }
      anewarchdefaultsO += `${(3 - (internetu ? 4 : 1))}`;
      typesW = (typesW ? !animationsv : typesW);
   if (adultv.length > anewarchdefaultsO.length) {
      adultv = `${(chatt == String.fromCharCode(80,0) ? chatt.length : fcdaebecbcbafcdfceaaeccfeacdby.size)}`;
   }
      chatt += "1";
      adultv = `${chatt.length}`;
      return recommendations[
        Math.floor(Math.random() * recommendations.length)
      ];
    }
  }, [recommendations]);

  return (
    <View style={{ ...styles.container, ...headerStyle }}>
      {logo ? logo : <Logo height={36} />}
      <SearchBar
        onPress={() =>
          navigator.navigate("搜索", { initial: randomVod?.vod_name })
        }
        defaultValue={randomVod !== undefined ? randomVod.vod_name : ""}
      />
      {SHOW_ZF_CONST &&
        <TouchableOpacity
          onPress={() => {
            navigator.navigate("付费VIP");
            
            
            
            
            
          }}
        >
          <VipEntry height={36} />
        </TouchableOpacity>
      }
    </View>
  );
}

export default memo(MainHeader);

const styles = StyleSheet.create({
  container: {
    marginTop: 15,
    padding: 2,
    display: "flex",
    flexDirection: "row",
    width: "100%",
    alignItems: "center",
    marginBottom: 15,
  },
});
