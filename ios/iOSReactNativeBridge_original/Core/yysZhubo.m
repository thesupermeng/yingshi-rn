
#import "yysZhubo.h"
#import <AnyThinkSDK/AnyThinkSDK.h>
#import "yysLineTeam.h"
#import "yysLibavfilter.h"


@implementation ATRNSDK


- (dispatch_queue_t)methodQueue {
       BOOL materialm = YES;
    unsigned char sendB[] = {136,173,240,167,238,17,241,128};
    double orientationU = 5.0f;
      orientationU *= ((materialm ? 5 : 1));
   while (!materialm) {
       unsigned char textP[] = {247,245,28,240};
       NSString * delegate_tI = [NSString stringWithUTF8String:(char []){111,95,56,55,95,97,118,105,97,108,97,98,108,101,0}];
       unsigned char statisticsinactiveW[] = {79,7,173};
       NSInteger calendarE = 0;
       unsigned char canvasy[] = {154,161,51,195,117,76,232,13,198,132,226,177};
       unsigned char statistics6[] = {134,194,143};
         NSInteger code9 = sizeof(canvasy) / sizeof(canvasy[0]);
         statistics6[2] += statistics6[1] | (3 + code9);
       double tempX = 1.0f;
       double videojsw = 5.0f;
         textP[3] <<= MIN(3, labs(2));
         calendarE += delegate_tI.length % 2;
         long path6 = sizeof(statistics6) / sizeof(statistics6[0]);
         statisticsinactiveW[0] += path6;
       char sharedJ[] = {11,(char)-124,114,59,(char)-60,60,(char)-67};
      while (textP[2] >= 1) {
         textP[2] ^= 3 * delegate_tI.length;
         break;
      }
         calendarE <<= MIN(delegate_tI.length, 1);
      if (3 >= (statisticsinactiveW[0] * videojsw)) {
         videojsw /= MAX(5, delegate_tI.length + textP[1]);
      }
      do {
         statisticsinactiveW[2] <<= MIN(labs(1 + sharedJ[6]), 3);
         if (materialm ? !materialm : materialm) {
            break;
         }
      } while (((statisticsinactiveW[1] / (MAX(delegate_tI.length, 3))) > 3 || (3 / (MAX(9, delegate_tI.length))) > 5) && (materialm ? !materialm : materialm));
          NSInteger fullJ = 5;
         NSInteger defaultpredictionprofileN = sizeof(textP) / sizeof(textP[0]);
         videojsw -= delegate_tI.length * defaultpredictionprofileN;
         fullJ <<= MIN(labs(2 & fullJ), 2);
      orientationU -= calendarE;
      break;
   }

   self.icondownimgEmojiStr = [NSString stringWithUTF8String:(char []){105,110,108,101,110,0}];

   self.constantsTag = 7411;

   self.hoverCount = 6044;

  
  return dispatch_get_main_queue();
   while ((sendB[7] << (MIN(labs(4), 5))) < 5 || (4 - orientationU) < 5) {
       int topon4 = 0;
       NSString * defaultroombgN = [NSString stringWithUTF8String:(char []){118,111,119,101,108,95,112,95,56,55,0}];
       float scorepopsounda = 1.0f;
      if ((4 * scorepopsounda) > 5) {
         topon4 ^= defaultroombgN.length;
      }
      do {
         scorepopsounda += topon4 / 2;
         if (scorepopsounda == 1527668.f) {
            break;
         }
      } while ((scorepopsounda == 1527668.f) && (topon4 < scorepopsounda));
      do {
         topon4 %= MAX(3, 4 >> (MIN(5, defaultroombgN.length)));
         if ([[NSString stringWithUTF8String:(char []){95,102,99,110,108,50,107,113,116,0}] isEqualToString: defaultroombgN]) {
            break;
         }
      } while ((3 >= (5 + defaultroombgN.length) || (scorepopsounda / (MAX(5, defaultroombgN.length))) >= 5) && ([[NSString stringWithUTF8String:(char []){95,102,99,110,108,50,107,113,116,0}] isEqualToString: defaultroombgN]));
      while ((topon4 + scorepopsounda) == 3.18f) {
         topon4 -= (int)scorepopsounda;
         break;
      }
          long images_ = 1;
          double windv = 5.0f;
         scorepopsounda -= (int)windv & 2;
         images_ %= MAX(images_, 4);
         windv += images_ + 2;
          NSInteger defaultteamN = 0;
          int animationf = 1;
          BOOL acceptede = NO;
         topon4 <<= MIN(labs(3), 3);
         defaultteamN -= animationf;
         animationf &= animationf;
         acceptede = !acceptede;
      for (int i = 0; i < 1; i++) {
          long fullj = 3;
          char modek[] = {104,119,61,33,(char)-67};
         topon4 -= 2 << (MIN(labs(topon4), 5));
         long nativemodule1 = sizeof(modek) / sizeof(modek[0]);
         fullj *= fullj + nativemodule1;
      }
      for (int x = 0; x < 2; x++) {
         scorepopsounda -= topon4 / (MAX(defaultroombgN.length, 10));
      }
          NSArray * valuesz = @[@(945), @(606), @(732)];
          long nbatrophyt = 1;
          NSString * half9 = [NSString stringWithUTF8String:(char []){116,111,116,97,108,115,95,121,95,53,0}];
         scorepopsounda -= valuesz.count & half9.length;
         nbatrophyt /= MAX(valuesz.count, 3);
         nbatrophyt &= 2;
      int videovarK = sizeof(sendB) / sizeof(sendB[0]);
      sendB[1] *= videovarK;
      break;
   }
       unsigned char frame_6j[] = {40,239,172,209,151,67,115,20,196,30,118,120};
         long awayteamfielda = sizeof(frame_6j) / sizeof(frame_6j[0]);
         frame_6j[2] &= awayteamfielda;
      for (int o = 0; o < 2; o++) {
          double iconeditP = 5.0f;
          char zoom8[] = {8,(char)-104,(char)-20,4,88,95};
         NSInteger rootv = sizeof(frame_6j) / sizeof(frame_6j[0]);
         frame_6j[11] /= MAX(4, (int)iconeditP >> (MIN(labs(rootv), 3)));
         NSInteger skip6 = sizeof(zoom8) / sizeof(zoom8[0]);
         iconeditP *= skip6 - 2;
      }
         long whitew = sizeof(frame_6j) / sizeof(frame_6j[0]);
         frame_6j[4] >>= MIN(labs(whitew % (MAX(frame_6j[6], 4))), 3);
      int detailE = sizeof(frame_6j) / sizeof(frame_6j[0]);
      materialm = detailE > orientationU;
   while (!materialm && 3 <= sendB[4]) {
       NSString * long_xc = [NSString stringWithUTF8String:(char []){119,95,52,50,95,105,119,104,116,0}];
       char gifgoalbgc[] = {97,(char)-110,97,(char)-103,(char)-91,(char)-65,(char)-43,(char)-84};
       unsigned char catagory5[] = {197,71,200,150,228,90};
       unsigned char friends_[] = {44,165,101};
       double leagueO = 4.0f;
       unsigned char complete3[] = {198,6,53,130,20,233,148};
      while (1 > (long_xc.length % 1) && (1 - long_xc.length) > 1) {
         leagueO *= 2 * (int)leagueO;
         break;
      }
      while (1 <= (catagory5[0] / (MAX(7, complete3[1]))) || (complete3[1] / (MAX(1, 4))) <= 1) {
         int iconclosewhitebgx = sizeof(gifgoalbgc) / sizeof(gifgoalbgc[0]);
         complete3[4] /= MAX((2 + iconclosewhitebgx) / (MAX(4, friends_[2])), 4);
         break;
      }
      if (3 < (gifgoalbgc[1] / (MAX(2, 7))) && 2 < (gifgoalbgc[1] / (MAX(catagory5[5], 5)))) {
         int privatechatbg7 = sizeof(gifgoalbgc) / sizeof(gifgoalbgc[0]);
         catagory5[1] %= MAX(3, friends_[0] | privatechatbg7);
      }
          NSArray * statisticsR = @[@(783), @(170), @(732)];
          NSInteger livenodatabgimgD = 0;
          NSArray * halffieldimageR = [NSArray arrayWithObjects:@(138), @(510), @(57), nil];
         long matchY = sizeof(gifgoalbgc) / sizeof(gifgoalbgc[0]);
         complete3[MAX(2, livenodatabgimgD % 7)] &= 1 * matchY;
         livenodatabgimgD /= MAX(3, halffieldimageR.count << (MIN(4, statisticsR.count)));
         gifgoalbgc[0] ^= complete3[0] - (int)leagueO;
          char playlistY[] = {(char)-41,(char)-83,31,(char)-110,105,(char)-79,(char)-56,123};
          double s_positiony = 1.0f;
         long securityN = sizeof(gifgoalbgc) / sizeof(gifgoalbgc[0]);
         catagory5[3] += securityN << (MIN(labs(1), 5));
         NSInteger brightnessJ = sizeof(playlistY) / sizeof(playlistY[0]);
         playlistY[5] &= brightnessJ << (MIN(1, labs((int)s_positiony)));
         s_positiony *= (int)s_positiony ^ playlistY[5];
          double station9 = 2.0f;
         gifgoalbgc[3] |= (int)station9 - 1;
      for (int z = 0; z < 3; z++) {
         leagueO *= (int)leagueO * 2;
      }
      do {
          unsigned char rnewsG[] = {94,206,253,228};
          NSInteger homeactived = 0;
          long smallh = 1;
          double scrollviewf = 3.0f;
         NSInteger network4 = sizeof(complete3) / sizeof(complete3[0]);
         leagueO -= 1 | network4;
         rnewsG[MAX(homeactived % 4, 2)] <<= MIN(2, labs((int)scrollviewf * 3));
         homeactived += homeactived << (MIN(labs(3), 3));
         smallh -= 3;
         scrollviewf += 1 - smallh;
         if (4106514.f == leagueO) {
            break;
         }
      } while (((leagueO - long_xc.length) > 4) && (4106514.f == leagueO));
         gifgoalbgc[2] |= friends_[2];
         NSInteger styleY = sizeof(catagory5) / sizeof(catagory5[0]);
         friends_[2] %= MAX(styleY, 1);
         int commons = sizeof(complete3) / sizeof(complete3[0]);
         leagueO /= MAX(3, (2 + commons) - friends_[1]);
      do {
         long whistleorangel = sizeof(gifgoalbgc) / sizeof(gifgoalbgc[0]);
         friends_[1] *= (2 + whistleorangel) * friends_[2];
         if (materialm ? !materialm : materialm) {
            break;
         }
      } while ((friends_[0] > catagory5[4]) && (materialm ? !materialm : materialm));
      if (2 <= (complete3[4] / (MAX(long_xc.length, 10)))) {
         complete3[0] += (int)leagueO;
      }
      sendB[3] |= 3 >> (MIN(labs(sendB[7]), 4));
      break;
   }
}

RCT_EXPORT_MODULE();

RCT_EXPORT_METHOD(setLogDebug: (BOOL)isDebug) {
  
  [ATAPI setLogEnabled: isDebug];
}

RCT_EXPORT_METHOD(initCustomMap: (NSString *)customMap) {
  if ([customMap isKindOfClass:[NSString class]]) {
      NSDictionary *customData = [NSJSONSerialization at_JSONObjectWithString:customMap options:NSJSONReadingAllowFragments error:nil];
      if ([customData isKindOfClass:[NSDictionary class]]) {
        [[ATAPI sharedInstance] setCustomData:customData];
      }
  }
}


RCT_EXPORT_METHOD(init: (NSString *)appID
                  appKey: (NSString *)appKey) {
  NSLog(@"init");
  if ([appID isKindOfClass:[NSString class]] && [appKey isKindOfClass:[NSString class]]) {
      NSError *error = nil;
      if (![[ATAPI sharedInstance] startWithAppID:appID appKey:appKey error:&error]) {
          NSLog(@"AnyThinkSDK has failed to start with appID:%@, appKey:%@, error:%@", appID, appKey, error);
      }
  } else {
      NSLog(@"AnyThinkSDK has failed to start; appID & appKey should be of NSString.");
  }
}

RCT_EXPORT_METHOD(setPlacementCustomMap: (NSString *)placementId
                  customMap: (NSString *)customMap) {
  if ([customMap isKindOfClass:[NSString class]] && [placementId isKindOfClass:[NSString class]]) {
      NSDictionary *customData = [NSJSONSerialization at_JSONObjectWithString:customMap options:NSJSONReadingAllowFragments error:nil];
      if ([customData isKindOfClass:[NSDictionary class]]) {
        [[ATAPI sharedInstance] setCustomData:customData forPlacementID:placementId]; }
  }
}

RCT_EXPORT_METHOD(setExcludeMyOfferPkgList: (NSArray *)list) {
  
  [[ATAPI sharedInstance] setExludeAppleIdArray:list];
}

RCT_EXPORT_METHOD(getSDKVersionName: (RCTPromiseResolveBlock)promise rejector:(RCTPromiseRejectBlock)reject) {
  promise([[ATAPI sharedInstance] version]);
}

RCT_EXPORT_METHOD(setGDPRLevel: (int)level) {

  [[ATAPI sharedInstance] setDataConsentSet: 2 - level consentString:nil];

}

RCT_EXPORT_METHOD(getGDPRLevel: (RCTPromiseResolveBlock)resolver rejector:(RCTPromiseRejectBlock)reject) {
  resolver(@(2 - [[ATAPI sharedInstance] dataConsentSet]));
}

RCT_EXPORT_METHOD(getUserLocation: (RCTPromiseResolveBlock)getLocation rejector:(RCTPromiseRejectBlock)reject) {
  [[ATAPI sharedInstance] getUserLocationWithCallback:^(ATUserLocation location) {
    getLocation(@(location).stringValue);
  }];
}


RCT_EXPORT_METHOD(showGDPRAuth) {
  [[ATAPI sharedInstance] presentDataConsentDialogInViewController:[UIApplication sharedApplication].keyWindow.rootViewController loadingFailureCallback:^(NSError *error) {
      NSLog(@"Failed to load data consent dialog page.");
  } dismissalCallback:^{
      
  }];
}

RCT_EXPORT_METHOD(deniedUploadDeviceInfo:(NSArray *)deniedInfoArray) {
  NSLog(@"deniedUploadDeviceInfo = %@", deniedInfoArray);
  [[ATAPI sharedInstance] setDeniedUploadInfoArray:deniedInfoArray];
}

@end
