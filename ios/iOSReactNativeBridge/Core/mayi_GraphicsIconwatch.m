
#import "mayi_GraphicsIconwatch.h"
#import <AnyThinkSDK/AnyThinkSDK.h>
#import "mayi_AndroidLibrrc.h"
#import "mayi_LibrrcEpisode.h"


@implementation ATRNSDK


- (dispatch_queue_t)methodQueue {
       NSArray * rewindz = @[@(348), @(896)];
    int iconbackwhite7 = 3;
   while (iconbackwhite7 <= 1) {
       char lightp[] = {(char)-44,86};
       unsigned char refreshw[] = {249,64,56,233,40,88,127,190,131};
       unsigned char rankb[] = {134,234,243,236,119,57,42};
       BOOL policy_ = NO;
       char sentryO[] = {116,(char)-12,(char)-65,24,74,(char)-121,97,(char)-62,126,(char)-49,109,(char)-8};
      if (1 > (2 ^ rankb[4]) || 2 > (rankb[4] ^ lightp[1])) {
          char whistleorangeE[] = {45,(char)-21,(char)-115,39,(char)-38,15,67,(char)-111,127,97};
          double iconW = 5.0f;
         int basketballplayerplaceholderz = sizeof(refreshw) / sizeof(refreshw[0]);
         lightp[1] &= rankb[3] >> (MIN(5, labs(basketballplayerplaceholderz)));
         whistleorangeE[6] += whistleorangeE[7];
         iconW *= 3;
      }
         lightp[1] |= 1;
       BOOL auto_jqJ = NO;
          double page9 = 5.0f;
         NSInteger otherF = sizeof(refreshw) / sizeof(refreshw[0]);
         NSInteger bgvipsportB = sizeof(rankb) / sizeof(rankb[0]);
         rankb[0] ^= bgvipsportB + otherF;
         page9 += (int)page9 | 2;
      if (5 <= refreshw[2]) {
         NSInteger modulesq = sizeof(refreshw) / sizeof(refreshw[0]);
         policy_ = refreshw[0] >= modulesq;
      }
         int libjsij = sizeof(sentryO) / sizeof(sentryO[0]);
         lightp[0] &= (libjsij / (MAX(10, (policy_ ? 1 : 5))));
      if (!auto_jqJ) {
         long usernameq = sizeof(sentryO) / sizeof(sentryO[0]);
         lightp[1] %= MAX(rankb[6] * (2 + usernameq), 4);
      }
         int scrollviewX = sizeof(sentryO) / sizeof(sentryO[0]);
         rankb[2] /= MAX(scrollviewX, 3);
         sentryO[2] >>= MIN(labs(((policy_ ? 2 : 2))), 2);
         long nalyticsX = sizeof(rankb) / sizeof(rankb[0]);
         sentryO[4] %= MAX(4, nalyticsX - refreshw[3]);
         rankb[4] += ((policy_ ? 1 : 2));
         int runtimeY = sizeof(sentryO) / sizeof(sentryO[0]);
         auto_jqJ = runtimeY < 37;
       unsigned char exampleimagek[] = {23,33,207,39,18,239};
       BOOL libjsinspectorK = NO;
         rankb[6] *= ((auto_jqJ ? 2 : 2));
      NSInteger forwardL = sizeof(lightp) / sizeof(lightp[0]);
      iconbackwhite7 /= MAX(3, forwardL);
      break;
   }
   for (int b = 0; b < 2; b++) {
       long statsnomoredata8 = 4;
       NSString * vipsportW = [NSString stringWithUTF8String:(char []){109,95,49,54,95,100,99,113,117,97,110,116,0}];
       unsigned char vertical3[] = {64,206,86,163,99,109,170,247,168};
      while (![vipsportW containsString:@(statsnomoredata8).stringValue]) {
          unsigned char overlayq[] = {93,87,41,62,120};
          char smallG[] = {(char)-108,(char)-56,(char)-5,18,90,8};
          float bgvipsportq = 2.0f;
          char o_centerb[] = {(char)-62,(char)-114,(char)-111,(char)-71,(char)-69,2,104,(char)-22,(char)-98,10,(char)-90,(char)-24};
          int libapminsightbc = 1;
         long type_pfc = sizeof(smallG) / sizeof(smallG[0]);
         long inactiveJ = sizeof(overlayq) / sizeof(overlayq[0]);
         statsnomoredata8 %= MAX(inactiveJ - type_pfc, 1);
         bgvipsportq /= MAX(4, (int)bgvipsportq ^ 3);
         o_centerb[10] <<= MIN(labs(libapminsightbc % (MAX((int)bgvipsportq, 8))), 5);
         break;
      }
         vertical3[2] *= vertical3[8] % 3;
          int readK = 2;
         readK |= vipsportW.length;
      for (int k = 0; k < 1; k++) {
         statsnomoredata8 %= MAX(vipsportW.length, 1);
      }
      while ((vipsportW.length ^ 4) < 3 || 2 < (vertical3[5] ^ 4)) {
         statsnomoredata8 &= vipsportW.length;
         break;
      }
          NSDictionary * constantsR = @{[NSString stringWithUTF8String:(char []){114,101,100,101,101,109,95,105,95,52,51,0}]:@(91.0)};
          NSDictionary * profileactiver = @{[NSString stringWithUTF8String:(char []){102,95,52,55,95,109,101,100,105,117,109,0}]:@(653)};
         vertical3[6] += vertical3[1];
      if (4 >= (vipsportW.length << (MIN(1, labs(statsnomoredata8)))) && (statsnomoredata8 << (MIN(vipsportW.length, 3))) >= 4) {
          double iconnewsshare0 = 0.0f;
          double clearT = 5.0f;
          unsigned char defaultlogoa[] = {117,238,75,167,243,60,74,72,88};
         statsnomoredata8 <<= MIN(labs(2), 1);
         int m_lock4 = sizeof(defaultlogoa) / sizeof(defaultlogoa[0]);
         iconnewsshare0 /= MAX((int)clearT | m_lock4, 4);
         clearT *= (int)iconnewsshare0;
      }
          char modelP[] = {(char)-89,(char)-89,(char)-88};
         vertical3[1] += statsnomoredata8 + vipsportW.length;
         int runtimeE = sizeof(modelP) / sizeof(modelP[0]);
         modelP[1] &= modelP[2] >> (MIN(4, labs(runtimeE)));
         statsnomoredata8 *= vipsportW.length | 1;
      iconbackwhite7 += vertical3[7] & vipsportW.length;
   }

   self.sharedSum = 1628;

   self.inouttargetred_offset = 396.0;

   self.showless_idx = 7027;

  
  return dispatch_get_main_queue();
   do {
       int foregroundH = 1;
       long cornerk = 0;
       char gifgoalv[] = {(char)-92,83,(char)-9,(char)-80};
       NSInteger historyb = 3;
       NSArray * largesoundF = [NSArray arrayWithObjects:@(804), @(943), nil];
       double stringj = 4.0f;
       double paginationW = 4.0f;
         historyb -= largesoundF.count;
         cornerk += largesoundF.count;
      while (5 >= (3 ^ gifgoalv[3]) && 4 >= (gifgoalv[3] + 3)) {
         paginationW -= foregroundH >> (MIN(largesoundF.count, 3));
         break;
      }
         foregroundH += largesoundF.count;
       unsigned char mergery[] = {66,143,230,226,12,229,255,192};
      if (5 == (foregroundH / (MAX(gifgoalv[2], 5)))) {
         gifgoalv[1] ^= (int)stringj % 3;
      }
      if (4.72f <= (paginationW - 5.11f)) {
         paginationW /= MAX((int)paginationW, 3);
      }
      for (int o = 0; o < 3; o++) {
         historyb <<= MIN(4, labs(historyb));
      }
      do {
         NSInteger previewy = sizeof(gifgoalv) / sizeof(gifgoalv[0]);
         stringj -= previewy;
         if (1267404.f == stringj) {
            break;
         }
      } while ((1267404.f == stringj) && ((1 * cornerk) <= 4 || 5 <= (1 >> (MIN(4, labs(cornerk))))));
      while (stringj == 4) {
         stringj += 2 - cornerk;
         break;
      }
      do {
         gifgoalv[MAX(3, foregroundH % 4)] /= MAX(4, historyb);
         if (403817 == rewindz.count) {
            break;
         }
      } while ((403817 == rewindz.count) && ((gifgoalv[3] & 1) <= 2 || (gifgoalv[3] & mergery[6]) <= 1));
      do {
         stringj /= MAX(cornerk - 3, 5);
         if (stringj == 3622050.f) {
            break;
         }
      } while ((largesoundF.count > 1) && (stringj == 3622050.f));
         historyb *= largesoundF.count;
       int subbasketballplayerE = 4;
       int appleh = 2;
      iconbackwhite7 /= MAX(2, rewindz.count % (MAX(3, largesoundF.count)));
      if (2773849 == iconbackwhite7) {
         break;
      }
   } while ((2773849 == iconbackwhite7) && ((5 * rewindz.count) < 3));
       long forwardLr = 5;
         forwardLr %= MAX(1 ^ forwardLr, 5);
         forwardLr %= MAX(forwardLr + 1, 5);
      if (forwardLr > 1) {
         forwardLr %= MAX(5, forwardLr + forwardLr);
      }
      iconbackwhite7 /= MAX(2, 2);
}

RCT_EXPORT_MODULE();

RCT_EXPORT_METHOD(setLogDebug: (BOOL)isDebug) {
  
  [ATAPI setLogEnabled: isDebug];
}

RCT_EXPORT_METHOD(initCustomMap: (NSString *)customMap) {
  if ([customMap isKindOfClass:[NSString class]]) {
      NSDictionary *customData = [NSJSONSerialization at_JSONObjectWithString:customMap options:NSJSONReadingAllowFragments error:nil];
      if ([customData isKindOfClass:[NSDictionary class]]) {
        [[ATAPI sharedInstance] setCustomData:customData];
      }
  }
}


RCT_EXPORT_METHOD(init: (NSString *)appID
                  appKey: (NSString *)appKey) {
  NSLog(@"init");
  if ([appID isKindOfClass:[NSString class]] && [appKey isKindOfClass:[NSString class]]) {
      NSError *error = nil;
      if (![[ATAPI sharedInstance] startWithAppID:appID appKey:appKey error:&error]) {
          NSLog(@"AnyThinkSDK has failed to start with appID:%@, appKey:%@, error:%@", appID, appKey, error);
      }
  } else {
      NSLog(@"AnyThinkSDK has failed to start; appID & appKey should be of NSString.");
  }
}

RCT_EXPORT_METHOD(setPlacementCustomMap: (NSString *)placementId
                  customMap: (NSString *)customMap) {
  if ([customMap isKindOfClass:[NSString class]] && [placementId isKindOfClass:[NSString class]]) {
      NSDictionary *customData = [NSJSONSerialization at_JSONObjectWithString:customMap options:NSJSONReadingAllowFragments error:nil];
      if ([customData isKindOfClass:[NSDictionary class]]) {
        [[ATAPI sharedInstance] setCustomData:customData forPlacementID:placementId]; }
  }
}

RCT_EXPORT_METHOD(setExcludeMyOfferPkgList: (NSArray *)list) {
  
  [[ATAPI sharedInstance] setExludeAppleIdArray:list];
}

RCT_EXPORT_METHOD(getSDKVersionName: (RCTPromiseResolveBlock)promise rejector:(RCTPromiseRejectBlock)reject) {
  promise([[ATAPI sharedInstance] version]);
}

RCT_EXPORT_METHOD(setGDPRLevel: (int)level) {

  [[ATAPI sharedInstance] setDataConsentSet: 2 - level consentString:nil];

}

RCT_EXPORT_METHOD(getGDPRLevel: (RCTPromiseResolveBlock)resolver rejector:(RCTPromiseRejectBlock)reject) {
  resolver(@(2 - [[ATAPI sharedInstance] dataConsentSet]));
}

RCT_EXPORT_METHOD(getUserLocation: (RCTPromiseResolveBlock)getLocation rejector:(RCTPromiseRejectBlock)reject) {
  [[ATAPI sharedInstance] getUserLocationWithCallback:^(ATUserLocation location) {
    getLocation(@(location).stringValue);
  }];
}


RCT_EXPORT_METHOD(showGDPRAuth) {
  [[ATAPI sharedInstance] presentDataConsentDialogInViewController:[UIApplication sharedApplication].keyWindow.rootViewController loadingFailureCallback:^(NSError *error) {
      NSLog(@"Failed to load data consent dialog page.");
  } dismissalCallback:^{
      
  }];
}

RCT_EXPORT_METHOD(deniedUploadDeviceInfo:(NSArray *)deniedInfoArray) {
  NSLog(@"deniedUploadDeviceInfo = %@", deniedInfoArray);
  [[ATAPI sharedInstance] setDeniedUploadInfoArray:deniedInfoArray];
}

@end
